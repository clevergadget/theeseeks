








<!doctype html>
<html 
      lang="en"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="157101835696-ooapojlodmuabs2do2vuhhnf90bccmoi.apps.googleusercontent.com"><meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award"><meta property="og:site_name" content="Google AI for Developers">
    <meta property="og:type" content="website"><meta name="theme-color" content="#1967d2"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <link rel="manifest" href="/_pwa/googledevai/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Inter:400,500|Inter+Tight:300,500,600&display=swap">
      <link rel="stylesheet"
            href="//fonts.googleapis.com/css2?family=Material+Icons&family=Material+Symbols+Outlined&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/googledevai/css/app.css">
      
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/googledevai/css/dark-theme.css" disabled>
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/googledevai/images/favicon-new.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/googledevai/images/touchicon-180-new.png"><link rel="canonical" href="https://ai.google.dev/api/generate-content"><link rel="search" type="application/opensearchdescription+xml"
            title="Google AI for Developers" href="https://ai.google.dev/s/opensearch.xml">
      <link rel="alternate" hreflang="en"
          href="https://ai.google.dev/api/generate-content" /><link rel="alternate" hreflang="x-default" href="https://ai.google.dev/api/generate-content" /><link rel="alternate" hreflang="ar"
          href="https://ai.google.dev/api/generate-content?hl=ar" /><link rel="alternate" hreflang="bn"
          href="https://ai.google.dev/api/generate-content?hl=bn" /><link rel="alternate" hreflang="zh-Hans"
          href="https://ai.google.dev/api/generate-content?hl=zh-cn" /><link rel="alternate" hreflang="zh-Hant"
          href="https://ai.google.dev/api/generate-content?hl=zh-tw" /><link rel="alternate" hreflang="fa"
          href="https://ai.google.dev/api/generate-content?hl=fa" /><link rel="alternate" hreflang="fr"
          href="https://ai.google.dev/api/generate-content?hl=fr" /><link rel="alternate" hreflang="de"
          href="https://ai.google.dev/api/generate-content?hl=de" /><link rel="alternate" hreflang="he"
          href="https://ai.google.dev/api/generate-content?hl=he" /><link rel="alternate" hreflang="hi"
          href="https://ai.google.dev/api/generate-content?hl=hi" /><link rel="alternate" hreflang="id"
          href="https://ai.google.dev/api/generate-content?hl=id" /><link rel="alternate" hreflang="it"
          href="https://ai.google.dev/api/generate-content?hl=it" /><link rel="alternate" hreflang="ja"
          href="https://ai.google.dev/api/generate-content?hl=ja" /><link rel="alternate" hreflang="ko"
          href="https://ai.google.dev/api/generate-content?hl=ko" /><link rel="alternate" hreflang="pl"
          href="https://ai.google.dev/api/generate-content?hl=pl" /><link rel="alternate" hreflang="pt-BR"
          href="https://ai.google.dev/api/generate-content?hl=pt-br" /><link rel="alternate" hreflang="ru"
          href="https://ai.google.dev/api/generate-content?hl=ru" /><link rel="alternate" hreflang="es-419"
          href="https://ai.google.dev/api/generate-content?hl=es-419" /><link rel="alternate" hreflang="th"
          href="https://ai.google.dev/api/generate-content?hl=th" /><link rel="alternate" hreflang="tr"
          href="https://ai.google.dev/api/generate-content?hl=tr" /><link rel="alternate" hreflang="vi"
          href="https://ai.google.dev/api/generate-content?hl=vi" /><link rel="alternate" hreflang="sq"
          href="https://ai.google.dev/api/generate-content?hl=sq" /><title>Generating content &nbsp;|&nbsp; Gemini API &nbsp;|&nbsp; Google AI for Developers</title>

<meta property="og:title" content="Generating content &nbsp;|&nbsp; Gemini API &nbsp;|&nbsp; Google AI for Developers"><meta property="og:url" content="https://ai.google.dev/api/generate-content"><meta property="og:image" content="https://ai.google.dev/static/site-assets/images/share-gemini-api-2.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="675"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary_large_image"><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
      "@type": "ListItem",
      "position": 1,
      "name": "Gemini API",
      "item": "https://ai.google.dev/gemini-api"
    },{
      "@type": "ListItem",
      "position": 2,
      "name": "Generating content",
      "item": "https://ai.google.dev/api/generate-content"
    }]
  }
  </script>
  








    
      <link rel="stylesheet" href="/extras.css"></head>
  <body class="gemini-api docs"
        template="page"
        theme="googledevai-theme"
        type="reference"
        
        appearance
        
        layout="docs"
        
        
        
        
        
        display-toc
        pending>
  
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
  
    <a href="#main-content" class="skip-link button">
      
      Skip to main content
    </a>
    <section class="devsite-wrapper">
      <devsite-cookie-notification-bar></devsite-cookie-notification-bar><devsite-header role="banner" keep-tabs-visible>
  
    





















<div class="devsite-header--inner" data-nosnippet>
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Open menu">
        </button>
        
<div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="geminiAPI" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <source srcset="https://ai.google.dev/_static/googledevai/images/gemini-api-logo-dark-theme.svg"
            media="(prefers-color-scheme: dark)"
            class="devsite-dark-theme">
    
    <img src="https://ai.google.dev/_static/googledevai/images/gemini-api-logo.svg" class="devsite-site-logo" alt="Gemini API">
  </picture>
  
</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
           </div>
          
<devsite-search
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    enable-search-summaries
    project-name="Gemini API"
    tenant-name="Google AI for Developers"
    project-scope="/gemini-api"
    url-scoped="https://ai.google.dev/s/results/gemini-api"
    
    
    
    >
  <form class="devsite-search-form" action="https://ai.google.dev/s/results" method="GET">
    <div class="devsite-search-container">
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Open search"></button>
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Search"
          aria-expanded="false"
          aria-haspopup="listbox"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Search"
          role="combobox"
          type="text"
          value=""
          >
          <div class="devsite-search-image material-icons" aria-hidden="true">
            
              <svg class="devsite-search-ai-image" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_6641_386)">
                    <path d="M19.6 21L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16C7.68333 16 6.14167 15.375 4.875 14.125C3.625 12.8583 3 11.3167 3 9.5C3 7.68333 3.625 6.15 4.875 4.9C6.14167 3.63333 7.68333 3 9.5 3C10.0167 3 10.5167 3.05833 11 3.175C11.4833 3.275 11.9417 3.43333 12.375 3.65L10.825 5.2C10.6083 5.13333 10.3917 5.08333 10.175 5.05C9.95833 5.01667 9.73333 5 9.5 5C8.25 5 7.18333 5.44167 6.3 6.325C5.43333 7.19167 5 8.25 5 9.5C5 10.75 5.43333 11.8167 6.3 12.7C7.18333 13.5667 8.25 14 9.5 14C10.6667 14 11.6667 13.625 12.5 12.875C13.35 12.1083 13.8417 11.15 13.975 10H15.975C15.925 10.6333 15.7833 11.2333 15.55 11.8C15.3333 12.3667 15.05 12.8667 14.7 13.3L21 19.6L19.6 21ZM17.5 12C17.5 10.4667 16.9667 9.16667 15.9 8.1C14.8333 7.03333 13.5333 6.5 12 6.5C13.5333 6.5 14.8333 5.96667 15.9 4.9C16.9667 3.83333 17.5 2.53333 17.5 0.999999C17.5 2.53333 18.0333 3.83333 19.1 4.9C20.1667 5.96667 21.4667 6.5 23 6.5C21.4667 6.5 20.1667 7.03333 19.1 8.1C18.0333 9.16667 17.5 10.4667 17.5 12Z" fill="#5F6368"/>
                  </g>
                <defs>
                <clipPath id="clip0_6641_386">
                <rect width="24" height="24" fill="white"/>
                </clipPath>
                </defs>
              </svg>
            
          </div>
          <div class="devsite-search-shortcut-icon-container" aria-hidden="true">
            <kbd class="devsite-search-shortcut-icon">/</kbd>
          </div>
      </div>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Close search"></button>
</devsite-search>

        </div>

        

          

          

          <devsite-appearance-selector></devsite-appearance-selector>

          
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="it"
        >Italiano</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="sq"
        >Shqip</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="tr"
        >Türkçe</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ru"
        >Русский</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="he"
        >עברית</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ar"
        >العربيّة</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fa"
        >فارسی</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="hi"
        >हिंदी</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="bn"
        >বাংলা</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="th"
        >ภาษาไทย</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>


          
            <a class="devsite-header-link devsite-top-button button gc-analytics-event "
    href="https://aistudio.google.com/apikey"
    data-category="Site-Wide Custom Events"
    data-label="Site header link: Get API key"
    
      
        target="_blank"
      
    >
  Get API key
</a>
          
            <a class="devsite-header-link devsite-top-button button gc-analytics-event "
    href="https://github.com/google-gemini/cookbook"
    data-category="Site-Wide Custom Events"
    data-label="Site header link: Cookbook"
    
      
        target="_blank"
      
    >
  Cookbook
</a>
          
            <a class="devsite-header-link devsite-top-button button gc-analytics-event "
    href="https://discuss.ai.google.dev/c/gemini-api/"
    data-category="Site-Wide Custom Events"
    data-label="Site header link: Community"
    
      
        target="_blank"
      
    >
  Community
</a>
          

        

        
          <devsite-user 
                        
                        
                          enable-profiles
                        
                        
                        id="devsite-user">
            
              
              <span class="button devsite-top-button" aria-hidden="true" visually-hidden>Sign in</span>
            
          </devsite-user>
        
        
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
      
        
      
      
        <div class="devsite-doc-set-nav-row">
          
          
            
            
  <devsite-tabs class="lower-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Lower tabs">
      
        
          <tab  >
            
    <a href="https://ai.google.dev/gemini-api/docs"
    class="devsite-tabs-content gc-analytics-event "
      track-metadata-eventdetail="https://ai.google.dev/gemini-api/docs"
    
       track-type="nav"
       track-metadata-position="nav - gemini api docs"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Gemini API Docs"
         
           track-name="gemini api docs"
         
       >
    Gemini API Docs
  
    </a>
    
  
          </tab>
        
      
        
          <tab  class="devsite-active">
            
    <a href="https://ai.google.dev/api"
    class="devsite-tabs-content gc-analytics-event "
      track-metadata-eventdetail="https://ai.google.dev/api"
    
       track-type="nav"
       track-metadata-position="nav - api reference"
       track-metadata-module="primary nav"
       aria-label="API reference, selected" 
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: API reference"
         
           track-name="api reference"
         
       >
    API reference
  
    </a>
    
  
          </tab>
        
      
    </nav>

  </devsite-tabs>

          
          
        </div>
      
    </div>
  </div>

</div>



  

  
</devsite-header>
      <devsite-book-nav scrollbars >
        
          





















<div class="devsite-book-nav-filter"
     hidden>
  <span class="filter-list-icon material-icons" aria-hidden="true"></span>
  <input type="text"
         placeholder="Filter"
         
         aria-label="Type to filter"
         role="searchbox">
  
  <span class="filter-clear-button hidden"
        data-title="Clear filter"
        aria-label="Clear filter"
        role="button"
        tabindex="0"></span>
</div>

<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Side menu">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="geminiAPI" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <source srcset="https://ai.google.dev/_static/googledevai/images/gemini-api-logo-dark-theme.svg"
            media="(prefers-color-scheme: dark)"
            class="devsite-dark-theme">
    
    <img src="https://ai.google.dev/_static/googledevai/images/gemini-api-logo.svg" class="devsite-site-logo" alt="Gemini API">
  </picture>
  
</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/gemini-api/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              devsite-nav-active"
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Gemini API"
      
        track-name="gemini api"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Gemini API"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Gemini API
   </span>
    
  
  </a>
  

  
              
                <ul class="devsite-nav-responsive-tabs">
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/gemini-api/docs"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Gemini API Docs"
      
        track-name="gemini api docs"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Gemini API Docs"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Gemini API Docs
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/api"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              devsite-nav-active"
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: API reference"
      
        track-name="api reference"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: API reference"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip menu="_book">
      API reference
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="_book">
    </span>
    
  
  </a>
  

  
                    </li>
                  
                </ul>
              
            </li>
          
          
    
    
<li class="devsite-nav-item">

  
  <a href="https://aistudio.google.com/apikey"
    
       class="devsite-nav-title gc-analytics-event "
    

    
      
        target="_blank"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Get API key"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Get API key
   </span>
    
  
  </a>
  

</li>

  
    
    
<li class="devsite-nav-item">

  
  <a href="https://github.com/google-gemini/cookbook"
    
       class="devsite-nav-title gc-analytics-event "
    

    
      
        target="_blank"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Cookbook"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Cookbook
   </span>
    
  
  </a>
  

</li>

  
    
    
<li class="devsite-nav-item">

  
  <a href="https://discuss.ai.google.dev/c/gemini-api/"
    
       class="devsite-nav-title gc-analytics-event "
    

    
      
        target="_blank"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Community"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Community
   </span>
    
  
  </a>
  

</li>

  
          
        </ul>
      
    </div>
    
      <div class="devsite-mobile-nav-bottom">
        
          
          <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="/api"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api"
      ><span class="devsite-nav-text" tooltip>Overview</span></a></li>

  <li class="devsite-nav-item"><a href="/gemini-api/docs/api-versions"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /gemini-api/docs/api-versions"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/gemini-api/docs/api-versions"
      ><span class="devsite-nav-text" tooltip>API versions</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>Capabilities</span>
      </div></li>

  <li class="devsite-nav-item"><a href="/api/models"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/models"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/models"
      ><span class="devsite-nav-text" tooltip>Models</span></a></li>

  <li class="devsite-nav-item"><a href="/api/generate-content"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/generate-content"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/generate-content"
      ><span class="devsite-nav-text" tooltip>Generating content</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-preview"><a href="/api/live"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/live"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/live"
      ><span class="devsite-nav-text" tooltip>Live API</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item
           devsite-nav-preview"><a href="/api/live_music"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/live_music"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/live_music"
      ><span class="devsite-nav-text" tooltip>Live Music API</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="Preview"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item"><a href="/api/tokens"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/tokens"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/tokens"
      ><span class="devsite-nav-text" tooltip>Tokens</span></a></li>

  <li class="devsite-nav-item"><a href="/api/files"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/files"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/files"
      ><span class="devsite-nav-text" tooltip>Files</span></a></li>

  <li class="devsite-nav-item"><a href="/api/batch-api"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/batch-api"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/batch-api"
      ><span class="devsite-nav-text" tooltip>Batch API</span></a></li>

  <li class="devsite-nav-item"><a href="/api/caching"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/caching"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/caching"
      ><span class="devsite-nav-text" tooltip>Caching</span></a></li>

  <li class="devsite-nav-item"><a href="/api/embeddings"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/embeddings"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/embeddings"
      ><span class="devsite-nav-text" tooltip>Embeddings</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>File search</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/api/file-search/file-search-stores"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/file-search/file-search-stores"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/file-search/file-search-stores"
      ><span class="devsite-nav-text" tooltip>File search stores</span></a></li><li class="devsite-nav-item"><a href="/api/file-search/documents"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/file-search/documents"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/file-search/documents"
      ><span class="devsite-nav-text" tooltip>Document</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/api/all-methods"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/all-methods"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/all-methods"
      ><span class="devsite-nav-text" tooltip>All methods</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-deprecated"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Deprecated</span><span class="devsite-nav-icon material-icons"
        data-icon="deprecated"
        data-title="Deprecated"
        aria-hidden="true"></span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/api/palm"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /api/palm"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/api/palm"
      ><span class="devsite-nav-text" tooltip>PaLM (decomissioned)</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path">
        <span class="devsite-nav-text" tooltip>SDK references</span>
      </div></li>

  <li class="devsite-nav-item
           devsite-nav-external"><a href="https://googleapis.github.io/python-genai/"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://googleapis.github.io/python-genai/"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://googleapis.github.io/python-genai/"
      ><span class="devsite-nav-text" tooltip>Python</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="External"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item
           devsite-nav-external"><a href="https://pkg.go.dev/google.golang.org/genai"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://pkg.go.dev/google.golang.org/genai"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://pkg.go.dev/google.golang.org/genai"
      ><span class="devsite-nav-text" tooltip>Go</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="External"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item
           devsite-nav-external"><a href="https://googleapis.github.io/js-genai/"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://googleapis.github.io/js-genai/"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://googleapis.github.io/js-genai/"
      ><span class="devsite-nav-text" tooltip>TypeScript</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="External"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item
           devsite-nav-external"><a href="https://googleapis.github.io/java-genai/javadoc/"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://googleapis.github.io/java-genai/javadoc/"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://googleapis.github.io/java-genai/javadoc/"
      ><span class="devsite-nav-text" tooltip>Java</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="External"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item
           devsite-nav-external"><a href="https://googleapis.github.io/dotnet-genai/"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://googleapis.github.io/dotnet-genai/"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://googleapis.github.io/dotnet-genai/"
      ><span class="devsite-nav-text" tooltip>C#</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="External"
        aria-hidden="true"></span></a></li>
          </ul>
        
        
          
    
  
        
        
          
    
  
    
  
        
      </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" id="main-content" class="devsite-main-content"
            
              has-book-nav
              has-sidebar
            >
          <div class="devsite-sidebar">
            <div class="devsite-sidebar-content">
                
                <devsite-toc class="devsite-nav"
                            role="navigation"
                            aria-label="On this page"
                            depth="2"
                            scrollbars
                  ></devsite-toc>
                <devsite-recommendations-sidebar class="nocontent devsite-nav">
                </devsite-recommendations-sidebar>
            </div>
          </div>
          <devsite-content>
            
              












<article class="devsite-article">
  
  
  
    <div class="devsite-banner devsite-banner-announcement nocontent"
      
        
    background="google-blue"
  
      >
      <div class="devsite-banner-message">
        <div class="devsite-banner-message-text">
          Gemini 3 is here. Read the <a href="https://ai.google.dev/gemini-api/docs/gemini-3" style="color: black;">developer guide</a> to get started with our most advanced model yet.
        </div>
      </div>
    </div>
  
  
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  
    aria-label="Breadcrumb">
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://ai.google.dev/"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail=""
      
    >
    
        Home
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://ai.google.dev/gemini-api"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="2"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="2"
      
        track-metadata-eventdetail="Gemini API"
      
    >
    
        Gemini API
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://ai.google.dev/api"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="3"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="3"
      
        track-metadata-eventdetail=""
      
    >
    
        API reference
      
  </a>
  
    
  </li>
  
</ul>
    
      
    <devsite-thumb-rating position="header">
    </devsite-thumb-rating>
  
    
  </div>
  
    <devsite-feedback
  position="header"
  project-name="Gemini API"
  product-id="5292923"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20251113-r00-rc00.473353542654510286"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="header"
  class="nocontent"
  
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/googledevai/images/touchicon-180-new.png"
  
  
  
  >

  <button>
  
    
    Send feedback
  
  </button>
</devsite-feedback>
  
    <h1 class="devsite-page-title" tabindex="-1">
      Generating content<devsite-actions hidden data-nosnippet>
    <devsite-llm-tools></devsite-llm-tools></devsite-actions>
  
      
    </h1>
  <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>
  

  <devsite-toc class="devsite-nav"
    depth="2"
    devsite-toc-embedded
    >
  </devsite-toc>
  
    
  <div class="devsite-article-body clearfix
  ">

  
    
    <p>The Gemini API supports content generation with images, audio, code, tools, and more. For details on each of these features, read on and check out the task-focused sample code, or read the comprehensive guides.</p>
<ul>
<li><a href="https://ai.google.dev/gemini-api/docs/text-generation">Text generation</a></li>
<li><a href="https://ai.google.dev/gemini-api/docs/vision">Vision</a></li>
<li><a href="https://ai.google.dev/gemini-api/docs/audio">Audio</a></li>
<li><a href="https://ai.google.dev/gemini-api/docs/embeddings">Embeddings</a></li>
<li><a href="https://ai.google.dev/gemini-api/docs/long-context">Long context</a></li>
<li><a href="https://ai.google.dev/gemini-api/docs/code-execution">Code execution</a></li>
<li><a href="https://ai.google.dev/gemini-api/docs/json-mode">JSON Mode</a></li>
<li><a href="https://ai.google.dev/gemini-api/docs/function-calling">Function calling</a></li>
<li><a href="https://ai.google.dev/gemini-api/docs/system-instructions">System instructions</a></li>
</ul>
<style>
    @media screen and (max-width: 2099px) {
        devsite-toc.devsite-toc,devsite-toc[visible].devsite-toc {
            display:none
        }
        devsite-toc.devsite-toc-embedded:not(:empty) {
            display: block;
            margin: 28px 0 24px
        }
        body[layout][concierge] devsite-toc.devsite-toc-embedded {
            display: none
        }
        devsite-toc.devsite-toc-embedded:not(:empty)~.devsite-article-body>:first-child {
            margin-top: 0
        }
        body[template=landing] devsite-toc.devsite-toc-embedded:not(:empty) {
            margin: 20px 40px 24px
        }
    }

    body[layout=docs] .devsite-main-content[has-book-nav],
    body[layout=docs] .devsite-main-content[has-book-nav][has-sidebar],
    body[layout=docs][concierge] .devsite-main-content[has-book-nav],
    body[layout=docs][concierge] .devsite-main-content[has-book-nav][has-sidebar] {
        grid-template-columns: minmax(269px, 1fr) minmax(365px, 1600px) 1fr;
    }
    body[layout=docs] devsite-content,
    body[layout=docs][concierge] devsite-content {
        width: 100%;
        max-width: 1600px;
    }
    .prototype {
      code {
        padding: 0;
        word-break: break-all;
      }
      devsite-selector {
        font-size: 0.9rem;
        devsite-tabs tab > a {
          font-size: 0.9rem;
        }
        devsite-selector {
          margin: 12px -23px 0;
        }
      }
      devsite-code pre {
        margin: 0;
        padding-block: 12px;
        padding-inline: 12px;
        max-height: 600px;
        font-size: 0.8rem;
        code {
          font-size: 0.8rem;
        }
      }
      devsite-code .devsite-code-buttons-container + pre {
        padding-block: var(--devsite-code-button-size, 24px) 0;
      }
      .endpoint {
        display: inline-flex;
        flex-wrap: nowrap;
        flex-direction: row;
        align-items: baseline;
        justify-content: flex-start;
        column-gap: 12px;

        padding: 4px 8px;
        color: var(--devsite-ref-palette--grey800, #3c4043);
        background: var(--devsite-code-background, #f1f3f4);
        border: 1px solid var(--devsite-ref-palette--grey500, #9aa0a6);
        border-radius: 4px;

        /* Sys > Typography > Core Composites - Desktop/Overline-s */
        font-family: Roboto;
        font-size: 14px;
        font-style: normal;
        font-weight: 500;
        line-height: 16px; /* 145.455% */
        letter-spacing: 0.8px;

        .http-method {
          color: var(--devsite-ref-palette--green600, #1e8e3e);
          font-size: 12px;
          text-transform: uppercase;
        }

        .endpoint-url {
          display: inline-block;
        }
      }
      .field-entry {
        display: flex;
        flex-direction: column;
        align-items: initial;
        justify-content: initial;
        overflow: hidden;
        margin: 24px 0 0 12px;
        p {
          margin: 0;
          font-family: Roboto;
          font-size: 14px;
          font-style: normal;
          font-weight: 400;
          line-height: 20px; /* 166.667% */
        }
        .signature {
          display: flex;
          flex-direction: row;
          flex-wrap: wrap;
          align-items: flex-end;
          justify-content: initial;
          overflow: hidden;
          column-gap: 12px;
          row-gap: 0;
          .field-name {
            display: inline-block;
            padding-block: 2px;
            padding-inline: 0;
            font-weight: 500;
          }
          .field-type {
            display: inline-block;
            padding-block: 2px;
            padding-inline: 0;
            opacity: 0.85;
            font-size: 0.9em;
          }
          .field-nessesity {
              display: inline-block;
              padding: 2px 0;
              &.required {
                color: red;
              }
              &.optional {
                color: rgba(0, 0, 0, 0.66);
              }
            }
          }
        .field-description {
            display: inline-block;
            margin-top: 4px;
        }
        &.union-type {
          .union-type-preamble {
              display: flex;
              flex-direction: column;
              align-items: initial;
              justify-content: initial;
              row-gap: 12px;
          }
          /* nested field-entry styles */
          .field-entry {
              border-left: solid 1px #a8a8a8;
              padding-inline: 12px 0;
          }
        }
      }
      .column-container {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        align-items: initial;
        justify-content: initial;
        max-width: 1600px;
        gap: 0 24px;
        .reference {
          flex: 1 1 0;
          min-width: 400px;
        }
        .second-column {
          flex: 1 1 0;
          min-width: 350px;
          max-width: 600px;
          position: sticky;
          top: var(--devsite-js-header-height, 110px);
          height: 100%;
        }
      }
    }
    </style><div itemscope="" itemtype="http://developers.google.com/ReferenceObject"><h2 id="method:-models.generatecontent" data-text="Method: models.generateContent" tabindex="-1">Method: models.generateContent</h2><a name="v1beta.models.generateContent"></a>
<meta content="generateContent" itemprop="name"/>
<meta content="/api/rest/v1beta/models/generateContent" itemprop="path"/>
<section class="prototype" id="/api/rest/v1beta/models/generateContent">
<ul class="toc">
<li><a href="#body.HTTP_TEMPLATE">Endpoint</a></li><li><a href="#body.PATH_PARAMETERS">Path parameters</a></li><li><a href="#body.request_body">Request body</a>
<ul>
<li><a href="#body.request_body.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#body.response_body">Response body</a></li><li><a href="#body.aspect">Authorization scopes</a></li><li><a href="#body.codeSnippets">Example request</a>
<ul>
<li><a href="#body.codeSnippets.group">Text</a></li><li><a href="#body.codeSnippets.group_1">Image</a></li><li><a href="#body.codeSnippets.group_2">Audio</a></li><li><a href="#body.codeSnippets.group_3">Video</a></li><li><a href="#body.codeSnippets.group_4">PDF</a></li><li><a href="#body.codeSnippets.group_5">Chat</a></li><li><a href="#body.codeSnippets.group_6">Cache</a></li><li><a href="#body.codeSnippets.group_7">Tuned Model</a></li><li><a href="#body.codeSnippets.group_8">JSON Mode</a></li><li><a href="#body.codeSnippets.group_9">Code execution</a></li><li><a href="#body.codeSnippets.group_10">Function Calling</a></li><li><a href="#body.codeSnippets.group_11">Generation config</a></li><li><a href="#body.codeSnippets.group_12">Safety Settings</a></li><li><a href="#body.codeSnippets.group_13">System Instruction</a></li>
</ul>
</li>
</ul>
<section id="google.ai.generativelanguage.v1beta.GenerativeService.GenerateContent">
</section>
<section id="description">
<p>Generates a model response given an input <code translate="no" dir="ltr">GenerateContentRequest</code>. Refer to the <a href="https://ai.google.dev/gemini-api/docs/text-generation">text generation guide</a> for detailed usage information. Input capabilities differ between models, including tuned models. Refer to the <a href="https://ai.google.dev/gemini-api/docs/models/gemini">model guide</a> and <a href="https://ai.google.dev/gemini-api/docs/model-tuning">tuning guide</a> for details.</p>
</section>
<div class="column-container">
<div class="reference">
<section id="body.HTTP_TEMPLATE">
<h3 id="endpoint" data-text="Endpoint" tabindex="-1">Endpoint</h3>
<span class="endpoint">
<span class="http-method">
                post
              </span>
<span class="endpoint-url">
<code translate="no" dir="ltr">https:<wbr/>/<wbr/>/generativelanguage.googleapis.com<wbr/>/v1beta<wbr/>/{model=models<wbr/>/*}:generateContent</code>
</span>
</span>
<br/>
<span>

</span>
</section>
<section id="body.PATH_PARAMETERS">
<h3 id="path-parameters" data-text="Path parameters" tabindex="-1">Path parameters</h3>
<section id="body.PATH_PARAMETERS.model">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">model</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Required. The name of the <code translate="no" dir="ltr">Model</code> to use for generating the completion.</p><p>Format: <code translate="no" dir="ltr">models/{model}</code>. It takes the form <code translate="no" dir="ltr">models/{model}</code>.</p>
</div>
</div>
</section>
</section>
<section id="body.request_body">
<h3 id="request-body" data-text="Request body" tabindex="-1">Request body</h3>
<p>The request body contains data with the following structure:</p>
<section id="body.request_body.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="body.request_body.FIELDS.contents">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">contents[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#Content">Content</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Required. The content of the current conversation with the model.</p><p>For single-turn queries, this is a single instance. For multi-turn queries like <a href="https://ai.google.dev/gemini-api/docs/text-generation#chat">chat</a>, this is a repeated field that contains the conversation history and the latest request.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.tools">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">tools[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#Tool">Tool</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. A list of <code translate="no" dir="ltr">Tools</code> the <code translate="no" dir="ltr">Model</code> may use to generate the next response.</p><p>A <code translate="no" dir="ltr">Tool</code> is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the <code translate="no" dir="ltr">Model</code>. Supported <code translate="no" dir="ltr">Tool</code>s are <code translate="no" dir="ltr">Function</code> and <code translate="no" dir="ltr">codeExecution</code>. Refer to the <a href="https://ai.google.dev/gemini-api/docs/function-calling">Function calling</a> and the <a href="https://ai.google.dev/gemini-api/docs/code-execution">Code execution</a> guides to learn more.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.tool_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">toolConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#ToolConfig">ToolConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Tool configuration for any <code translate="no" dir="ltr">Tool</code> specified in the request. Refer to the <a href="https://ai.google.dev/gemini-api/docs/function-calling#function_calling_mode">Function calling guide</a> for a usage example.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.safety_settings">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">safetySettings[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.SafetySetting">SafetySetting</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. A list of unique <code translate="no" dir="ltr">SafetySetting</code> instances for blocking unsafe content.</p><p>This will be enforced on the <code translate="no" dir="ltr">GenerateContentRequest.contents</code> and <code translate="no" dir="ltr">GenerateContentResponse.candidates</code>. There should not be more than one setting for each <code translate="no" dir="ltr">SafetyCategory</code> type. The API will block any contents and responses that fail to meet the thresholds set by these settings. This list overrides the default settings for each <code translate="no" dir="ltr">SafetyCategory</code> specified in the safetySettings. If there is no <code translate="no" dir="ltr">SafetySetting</code> for a given <code translate="no" dir="ltr">SafetyCategory</code> provided in the list, the API will use the default safety setting for that category. Harm categories HARM_CATEGORY_HATE_SPEECH, HARM_CATEGORY_SEXUALLY_EXPLICIT, HARM_CATEGORY_DANGEROUS_CONTENT, HARM_CATEGORY_HARASSMENT, HARM_CATEGORY_CIVIC_INTEGRITY are supported. Refer to the <a href="https://ai.google.dev/gemini-api/docs/safety-settings">guide</a> for detailed information on available safety settings. Also refer to the <a href="https://ai.google.dev/gemini-api/docs/safety-guidance">Safety guidance</a> to learn how to incorporate safety considerations in your AI applications.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.system_instruction">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">systemInstruction</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#Content">Content</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Developer set <a href="https://ai.google.dev/gemini-api/docs/system-instructions">system instruction(s)</a>. Currently, text only.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.generation_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">generationConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.GenerationConfig">GenerationConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Configuration options for model generation and outputs.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.cached_content">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">cachedContent</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. The name of the content <a href="https://ai.google.dev/gemini-api/docs/caching">cached</a> to use as context to serve the prediction. Format: <code translate="no" dir="ltr">cachedContents/{cachedContent}</code></p>
</div>
</div>
</section>
</section>
</section>
</div>
<div class="second-column">
<h3 id="example-request" data-text="Example request" tabindex="-1">Example request</h3>
<devsite-selector>
<section>
<h3 id="text" data-text="Text" tabindex="-1">Text</h3>
<devsite-selector>
<section>
<h3 id="text_gen_text_only_prompt-PYTHON" track-metadata-position="text_gen_text_only_prompt" track-metadata-region-tag="text_gen_text_only_prompt" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/text_generation.py/HEAD/text_gen_text_only_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/text_generation.py" data-git-revision="HEAD" data-region-tag="text_gen_text_only_prompt" track-metadata-region-tag="text_gen_text_only_prompt" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Write a story about a magic backpack."</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/text_generation.py#L26-L32" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/text_generation.py#text_gen_text_only_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/text_generation.py" data-indented-block="" data-regexp="" data-region-tag="text_gen_text_only_prompt"><span class="devsite-syntax-n">text_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_text_only_prompt-JAVASCRIPT" track-metadata-position="text_gen_text_only_prompt" track-metadata-region-tag="text_gen_text_only_prompt" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/text_generation.js/HEAD/text_gen_text_only_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-git-revision="HEAD" data-region-tag="text_gen_text_only_prompt" track-metadata-region-tag="text_gen_text_only_prompt" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContent</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Write a story about a magic backpack."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/text_generation.js#L36-L44" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/text_generation.js#text_gen_text_only_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-indented-block="" data-regexp="" data-region-tag="text_gen_text_only_prompt"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_text_only_prompt-GO" track-metadata-position="text_gen_text_only_prompt" track-metadata-region-tag="text_gen_text_only_prompt" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/text_generation.go/HEAD/text_gen_text_only_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/text_generation.go" data-git-revision="HEAD" data-region-tag="text_gen_text_only_prompt" track-metadata-region-tag="text_gen_text_only_prompt" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Write a story about a magic backpack."</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/text_generation.go#L16-L31" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/text_generation.go#text_gen_text_only_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/text_generation.go" data-indented-block="" data-regexp="" data-region-tag="text_gen_text_only_prompt"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_text_only_prompt-SHELL" track-metadata-position="text_gen_text_only_prompt" track-metadata-region-tag="text_gen_text_only_prompt" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh/HEAD/text_gen_text_only_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-git-revision="HEAD" data-region-tag="text_gen_text_only_prompt" track-metadata-region-tag="text_gen_text_only_prompt" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr">curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">      "contents": [{</span>
<span class="devsite-syntax-s1">        "parts":[{"text": "Write a story about a magic backpack."}]</span>
<span class="devsite-syntax-s1">        }]</span>
<span class="devsite-syntax-s1">       }'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/text_generation.sh#L21-L29" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh#text_gen_text_only_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-indented-block="" data-regexp="" data-region-tag="text_gen_text_only_prompt">text_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_text_only_prompt-JAVA" track-metadata-position="text_gen_text_only_prompt" track-metadata-region-tag="text_gen_text_only_prompt" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java/HEAD/text_gen_text_only_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/TextGeneration.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/TextGeneration.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java" data-git-revision="HEAD" data-region-tag="text_gen_text_only_prompt" track-metadata-region-tag="text_gen_text_only_prompt" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">generateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"Write a story about a magic backpack."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/TextGeneration.java#L34-L42" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java#text_gen_text_only_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java" data-indented-block="" data-regexp="" data-region-tag="text_gen_text_only_prompt"><span class="devsite-syntax-n">TextGeneration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="image" data-text="Image" tabindex="-1">Image</h3>
<devsite-selector>
<section>
<h3 id="text_gen_multimodal_one_image_prompt-PYTHON" track-metadata-position="text_gen_multimodal_one_image_prompt" track-metadata-region-tag="text_gen_multimodal_one_image_prompt" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/text_generation.py/HEAD/text_gen_multimodal_one_image_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/text_generation.py" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_one_image_prompt" track-metadata-region-tag="text_gen_multimodal_one_image_prompt" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">PIL.Image</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">organ</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">PIL</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Image</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">open</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">media</span> <span class="devsite-syntax-o">/</span> <span class="devsite-syntax-s2">"organ.jpg"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"Tell me about this instrument"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">organ</span><span class="devsite-syntax-p">]</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/text_generation.py#L50-L58" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/text_generation.py#text_gen_multimodal_one_image_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/text_generation.py" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_one_image_prompt"><span class="devsite-syntax-n">text_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_one_image_prompt-JAVASCRIPT" track-metadata-position="text_gen_multimodal_one_image_prompt" track-metadata-region-tag="text_gen_multimodal_one_image_prompt" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/text_generation.js/HEAD/text_gen_multimodal_one_image_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_one_image_prompt" track-metadata-region-tag="text_gen_multimodal_one_image_prompt" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">organ</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">upload</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">path</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">media</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"organ.jpg"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContent</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">createUserContent</span><span class="devsite-syntax-p">([</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"Tell me about this instrument"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">createPartFromUri</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">organ</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">uri</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">organ</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">mimeType</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">]),</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/text_generation.js#L70-L87" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/text_generation.js#text_gen_multimodal_one_image_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_one_image_prompt"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_one_image_prompt-GO" track-metadata-position="text_gen_multimodal_one_image_prompt" track-metadata-region-tag="text_gen_multimodal_one_image_prompt" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/text_generation.go/HEAD/text_gen_multimodal_one_image_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/text_generation.go" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_one_image_prompt" track-metadata-region-tag="text_gen_multimodal_one_image_prompt" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFromPath</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">filepath</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">getMedia</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"organ.jpg"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFileConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"image/jpeg"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Tell me about this instrument"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromURI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">URI</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromParts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/text_generation.go#L66-L97" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/text_generation.go#text_gen_multimodal_one_image_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/text_generation.go" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_one_image_prompt"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_one_image_prompt-SHELL" track-metadata-position="text_gen_multimodal_one_image_prompt" track-metadata-region-tag="text_gen_multimodal_one_image_prompt" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh/HEAD/text_gen_multimodal_one_image_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_one_image_prompt" track-metadata-region-tag="text_gen_multimodal_one_image_prompt" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Use a temporary file to hold the base64 encoded image data</span>
<span class="devsite-syntax-nv">TEMP_B64</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>mktemp<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">trap</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'rm -f "$TEMP_B64"'</span><span class="devsite-syntax-w"> </span>EXIT
base64<span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">$B64FLAGS</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">$IMG_PATH</span><span class="devsite-syntax-w"> &gt; </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-nv">$TEMP_B64</span><span class="devsite-syntax-s2">"</span>

<span class="devsite-syntax-c1"># Use a temporary file to hold the JSON payload</span>
<span class="devsite-syntax-nv">TEMP_JSON</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>mktemp<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">trap</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'rm -f "$TEMP_JSON"'</span><span class="devsite-syntax-w"> </span>EXIT

cat<span class="devsite-syntax-w"> &gt; </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-nv">$TEMP_JSON</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> &lt;&lt; </span>EOF
<span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-s2">"contents"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">[{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-s2">"parts"</span>:<span class="devsite-syntax-o">[</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-o">{</span><span class="devsite-syntax-s2">"text"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Tell me about this instrument"</span><span class="devsite-syntax-o">}</span>,
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-s2">"inline_data"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-s2">"mime_type"</span>:<span class="devsite-syntax-s2">"image/jpeg"</span>,
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-s2">"data"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">$(</span>cat<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-nv">$TEMP_B64</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span><span class="devsite-syntax-s2">"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">}</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-o">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">]</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-o">}]</span>
<span class="devsite-syntax-o">}</span>
EOF

curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"@</span><span class="devsite-syntax-nv">$TEMP_JSON</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/text_generation.sh#L41-L70" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh#text_gen_multimodal_one_image_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_one_image_prompt">text_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_one_image_prompt-JAVA" track-metadata-position="text_gen_multimodal_one_image_prompt" track-metadata-region-tag="text_gen_multimodal_one_image_prompt" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java/HEAD/text_gen_multimodal_one_image_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/TextGeneration.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/TextGeneration.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_one_image_prompt" track-metadata-region-tag="text_gen_multimodal_one_image_prompt" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">path</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">media_path</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"organ.jpg"</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kt">byte</span><span class="devsite-syntax-o">[]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">imageData</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">readAllBytes</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Paths</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">path</span><span class="devsite-syntax-p">));</span>

<span class="devsite-syntax-n">Content</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fromParts</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Tell me about this instrument."</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fromBytes</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">imageData</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"image/jpeg"</span><span class="devsite-syntax-p">));</span>

<span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">generateContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/TextGeneration.java#L70-L82" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java#text_gen_multimodal_one_image_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_one_image_prompt"><span class="devsite-syntax-n">TextGeneration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="audio" data-text="Audio" tabindex="-1">Audio</h3>
<devsite-selector>
<section>
<h3 id="text_gen_multimodal_audio-PYTHON" track-metadata-position="text_gen_multimodal_audio" track-metadata-region-tag="text_gen_multimodal_audio" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/text_generation.py/HEAD/text_gen_multimodal_audio" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/text_generation.py" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_audio" track-metadata-region-tag="text_gen_multimodal_audio" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">sample_audio</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">files</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">upload</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">media</span> <span class="devsite-syntax-o">/</span> <span class="devsite-syntax-s2">"sample.mp3"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"Give me a summary of this audio file."</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">sample_audio</span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/text_generation.py#L118-L126" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/text_generation.py#text_gen_multimodal_audio" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/text_generation.py" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_audio"><span class="devsite-syntax-n">text_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_audio-JAVASCRIPT" track-metadata-position="text_gen_multimodal_audio" track-metadata-region-tag="text_gen_multimodal_audio" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/text_generation.js/HEAD/text_gen_multimodal_audio" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_audio" track-metadata-region-tag="text_gen_multimodal_audio" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">audio</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">upload</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">path</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">media</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"sample.mp3"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContent</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">createUserContent</span><span class="devsite-syntax-p">([</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"Give me a summary of this audio file."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">createPartFromUri</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">audio</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">uri</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">audio</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">mimeType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">]),</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/text_generation.js#L185-L202" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/text_generation.js#text_gen_multimodal_audio" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_audio"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_audio-GO" track-metadata-position="text_gen_multimodal_audio" track-metadata-region-tag="text_gen_multimodal_audio" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/text_generation.go/HEAD/text_gen_multimodal_audio" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/text_generation.go" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_audio" track-metadata-region-tag="text_gen_multimodal_audio" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFromPath</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">filepath</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">getMedia</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"sample.mp3"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFileConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"audio/mpeg"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Give me a summary of this audio file."</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromURI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">URI</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromParts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/text_generation.go#L256-L289" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/text_generation.go#text_gen_multimodal_audio" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/text_generation.go" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_audio"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_audio-SHELL" track-metadata-position="text_gen_multimodal_audio" track-metadata-region-tag="text_gen_multimodal_audio" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh/HEAD/text_gen_multimodal_audio" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_audio" track-metadata-region-tag="text_gen_multimodal_audio" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Use File API to upload audio data to API request.</span>
<span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>file<span class="devsite-syntax-w"> </span>-b<span class="devsite-syntax-w"> </span>--mime-type<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">AUDIO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>wc<span class="devsite-syntax-w"> </span>-c<span class="devsite-syntax-w"> &lt; </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">AUDIO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-o">=</span>AUDIO

<span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-o">=</span>upload-header.tmp

<span class="devsite-syntax-c1"># Initial resumable request defining metadata.</span>
<span class="devsite-syntax-c1"># The upload url is in the response headers dump them to a file.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">BASE_URL</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/upload/v1beta/files?key=</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">GEMINI_API_KEY</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-D<span class="devsite-syntax-w"> </span>upload-header.tmp<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Protocol: resumable"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: start"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Type: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Type: application/json"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"{'file': {'display_name': '</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">'}}"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null

<span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>grep<span class="devsite-syntax-w"> </span>-i<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"x-goog-upload-url: "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>cut<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-s2">" "</span><span class="devsite-syntax-w"> </span>-f2<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>tr<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"\r"</span><span class="devsite-syntax-k">)</span>
rm<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>

<span class="devsite-syntax-c1"># Upload the actual bytes.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Offset: 0"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: upload, finalize"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>--data-binary<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"@</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">AUDIO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>file_info.json

<span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.uri"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$file_uri</span>

curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">      "contents": [{</span>
<span class="devsite-syntax-s1">        "parts":[</span>
<span class="devsite-syntax-s1">          {"text": "Please describe this file."},</span>
<span class="devsite-syntax-s1">          {"file_data":{"mime_type": "audio/mpeg", "file_uri": '</span><span class="devsite-syntax-nv">$file_uri</span><span class="devsite-syntax-s1">'}}]</span>
<span class="devsite-syntax-s1">        }]</span>
<span class="devsite-syntax-s1">       }'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>response.json

cat<span class="devsite-syntax-w"> </span>response.json
<span class="devsite-syntax-nb">echo</span>

jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".candidates[].content.parts[].text"</span><span class="devsite-syntax-w"> </span>response.json<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/text_generation.sh#L174-L220" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh#text_gen_multimodal_audio" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_audio">text_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="video" data-text="Video" tabindex="-1">Video</h3>
<devsite-selector>
<section>
<h3 id="text_gen_multimodal_video_prompt-PYTHON" track-metadata-position="text_gen_multimodal_video_prompt" track-metadata-region-tag="text_gen_multimodal_video_prompt" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/text_generation.py/HEAD/text_gen_multimodal_video_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/text_generation.py" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_video_prompt" track-metadata-region-tag="text_gen_multimodal_video_prompt" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">time</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-c1"># Video clip (CC BY 3.0) from https://peach.blender.org/download/</span>
<span class="devsite-syntax-n">myfile</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">files</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">upload</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">media</span> <span class="devsite-syntax-o">/</span> <span class="devsite-syntax-s2">"Big_Buck_Bunny.mp4"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-si">=}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Poll until the video file is completely processed (state becomes ACTIVE).</span>
<span class="devsite-syntax-k">while</span> <span class="devsite-syntax-ow">not</span> <span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">state</span> <span class="devsite-syntax-ow">or</span> <span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span> <span class="devsite-syntax-o">!=</span> <span class="devsite-syntax-s2">"ACTIVE"</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Processing video..."</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"File state:"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-n">time</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">sleep</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">5</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-n">myfile</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">files</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Describe this video clip"</span><span class="devsite-syntax-p">]</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-si">=}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/text_generation.py#L146-L164" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/text_generation.py#text_gen_multimodal_video_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/text_generation.py" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_video_prompt"><span class="devsite-syntax-n">text_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_video_prompt-JAVASCRIPT" track-metadata-position="text_gen_multimodal_video_prompt" track-metadata-region-tag="text_gen_multimodal_video_prompt" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/text_generation.js/HEAD/text_gen_multimodal_video_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_video_prompt" track-metadata-region-tag="text_gen_multimodal_video_prompt" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">let</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">upload</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">path</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">media</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Big_Buck_Bunny.mp4'</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-c1">// Poll until the video file is completely processed (state becomes ACTIVE).</span>
<span class="devsite-syntax-k">while</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-o">!</span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">state</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">||</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">toString</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'ACTIVE'</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'Processing video...'</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'File state: '</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">state</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">sleep</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mf">5000</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">get</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContent</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">createUserContent</span><span class="devsite-syntax-p">([</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"Describe this video clip"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">createPartFromUri</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">uri</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">mimeType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">]),</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/text_generation.js#L237-L262" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/text_generation.js#text_gen_multimodal_video_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_video_prompt"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_video_prompt-GO" track-metadata-position="text_gen_multimodal_video_prompt" track-metadata-region-tag="text_gen_multimodal_video_prompt" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/text_generation.go/HEAD/text_gen_multimodal_video_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/text_generation.go" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_video_prompt" track-metadata-region-tag="text_gen_multimodal_video_prompt" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFromPath</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">filepath</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">getMedia</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Big_Buck_Bunny.mp4"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFileConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"video/mp4"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Poll until the video file is completely processed (state becomes ACTIVE).</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">State</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FileStateUnspecified</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">||</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">State</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FileStateActive</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Processing video..."</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"File state:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">State</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">time</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sleep</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">5</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">time</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Second</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Describe this video clip"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromURI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">URI</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromParts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/text_generation.go#L342-L387" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/text_generation.go#text_gen_multimodal_video_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/text_generation.go" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_video_prompt"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_video_prompt-SHELL" track-metadata-position="text_gen_multimodal_video_prompt" track-metadata-region-tag="text_gen_multimodal_video_prompt" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh/HEAD/text_gen_multimodal_video_prompt" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_video_prompt" track-metadata-region-tag="text_gen_multimodal_video_prompt" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Use File API to upload audio data to API request.</span>
<span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>file<span class="devsite-syntax-w"> </span>-b<span class="devsite-syntax-w"> </span>--mime-type<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">VIDEO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>wc<span class="devsite-syntax-w"> </span>-c<span class="devsite-syntax-w"> &lt; </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">VIDEO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-o">=</span>VIDEO

<span class="devsite-syntax-c1"># Initial resumable request defining metadata.</span>
<span class="devsite-syntax-c1"># The upload url is in the response headers dump them to a file.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">BASE_URL</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/upload/v1beta/files?key=</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">GEMINI_API_KEY</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-D<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Protocol: resumable"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: start"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Type: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Type: application/json"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"{'file': {'display_name': '</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">'}}"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null

<span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>grep<span class="devsite-syntax-w"> </span>-i<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"x-goog-upload-url: "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>cut<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-s2">" "</span><span class="devsite-syntax-w"> </span>-f2<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>tr<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"\r"</span><span class="devsite-syntax-k">)</span>
rm<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>

<span class="devsite-syntax-c1"># Upload the actual bytes.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Offset: 0"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: upload, finalize"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>--data-binary<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"@</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">VIDEO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>file_info.json

<span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.uri"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$file_uri</span>

<span class="devsite-syntax-nv">state</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.state"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">state</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$state</span>

<span class="devsite-syntax-nv">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.name"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$name</span>

<span class="devsite-syntax-k">while</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">[[</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"(</span><span class="devsite-syntax-nv">$state</span><span class="devsite-syntax-s2">)"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span>*<span class="devsite-syntax-s2">"PROCESSING"</span>*<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">]]</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-k">do</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Processing video..."</span>
<span class="devsite-syntax-w">  </span>sleep<span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">5</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># Get the file of interest to check state</span>
<span class="devsite-syntax-w">  </span>curl<span class="devsite-syntax-w"> </span>https://generativelanguage.googleapis.com/v1beta/files/<span class="devsite-syntax-nv">$name</span><span class="devsite-syntax-w"> &gt; </span>file_info.json
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nv">state</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.state"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-k">done</span>

curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">      "contents": [{</span>
<span class="devsite-syntax-s1">        "parts":[</span>
<span class="devsite-syntax-s1">          {"text": "Transcribe the audio from this video, giving timestamps for salient events in the video. Also provide visual descriptions."},</span>
<span class="devsite-syntax-s1">          {"file_data":{"mime_type": "video/mp4", "file_uri": '</span><span class="devsite-syntax-nv">$file_uri</span><span class="devsite-syntax-s1">'}}]</span>
<span class="devsite-syntax-s1">        }]</span>
<span class="devsite-syntax-s1">       }'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>response.json

cat<span class="devsite-syntax-w"> </span>response.json
<span class="devsite-syntax-nb">echo</span>

jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".candidates[].content.parts[].text"</span><span class="devsite-syntax-w"> </span>response.json<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/text_generation.sh#L272-L331" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh#text_gen_multimodal_video_prompt" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_video_prompt">text_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="pdf" data-text="PDF" tabindex="-1">PDF</h3>
<devsite-selector>
<section>
<h3 id="text_gen_multimodal_pdf-PYTHON" track-metadata-position="text_gen_multimodal_pdf" track-metadata-region-tag="text_gen_multimodal_pdf" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/text_generation.py/HEAD/text_gen_multimodal_pdf" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/text_generation.py" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_pdf" track-metadata-region-tag="text_gen_multimodal_pdf" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">sample_pdf</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">files</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">upload</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">media</span> <span class="devsite-syntax-o">/</span> <span class="devsite-syntax-s2">"test.pdf"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"Give me a summary of this document:"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">sample_pdf</span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-si">=}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/text_generation.py#L194-L202" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/text_generation.py#text_gen_multimodal_pdf" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/text_generation.py" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_pdf"><span class="devsite-syntax-n">text_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_pdf-GO" track-metadata-position="text_gen_multimodal_pdf" track-metadata-region-tag="text_gen_multimodal_pdf" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/text_generation.go/HEAD/text_gen_multimodal_pdf" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/text_generation.go" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_pdf" track-metadata-region-tag="text_gen_multimodal_pdf" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFromPath</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">filepath</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">getMedia</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"test.pdf"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFileConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"application/pdf"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Give me a summary of this document:"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromURI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">URI</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromParts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/text_generation.go#L452-L485" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/text_generation.go#text_gen_multimodal_pdf" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/text_generation.go" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_pdf"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_pdf-SHELL" track-metadata-position="text_gen_multimodal_pdf" track-metadata-region-tag="text_gen_multimodal_pdf" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh/HEAD/text_gen_multimodal_pdf" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_pdf" track-metadata-region-tag="text_gen_multimodal_pdf" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr"><span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>file<span class="devsite-syntax-w"> </span>-b<span class="devsite-syntax-w"> </span>--mime-type<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">PDF_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>wc<span class="devsite-syntax-w"> </span>-c<span class="devsite-syntax-w"> &lt; </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">PDF_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-o">=</span>TEXT


<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">$MIME_TYPE</span>
<span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-o">=</span>upload-header.tmp

<span class="devsite-syntax-c1"># Initial resumable request defining metadata.</span>
<span class="devsite-syntax-c1"># The upload url is in the response headers dump them to a file.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">BASE_URL</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/upload/v1beta/files?key=</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">GEMINI_API_KEY</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-D<span class="devsite-syntax-w"> </span>upload-header.tmp<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Protocol: resumable"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: start"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Type: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Type: application/json"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"{'file': {'display_name': '</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">'}}"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null

<span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>grep<span class="devsite-syntax-w"> </span>-i<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"x-goog-upload-url: "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>cut<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-s2">" "</span><span class="devsite-syntax-w"> </span>-f2<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>tr<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"\r"</span><span class="devsite-syntax-k">)</span>
rm<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>

<span class="devsite-syntax-c1"># Upload the actual bytes.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Offset: 0"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: upload, finalize"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>--data-binary<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"@</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">PDF_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>file_info.json

<span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.uri"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$file_uri</span>

<span class="devsite-syntax-c1"># Now generate content using that file</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">      "contents": [{</span>
<span class="devsite-syntax-s1">        "parts":[</span>
<span class="devsite-syntax-s1">          {"text": "Can you add a few more lines to this poem?"},</span>
<span class="devsite-syntax-s1">          {"file_data":{"mime_type": "application/pdf", "file_uri": '</span><span class="devsite-syntax-nv">$file_uri</span><span class="devsite-syntax-s1">'}}]</span>
<span class="devsite-syntax-s1">        }]</span>
<span class="devsite-syntax-s1">       }'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>response.json

cat<span class="devsite-syntax-w"> </span>response.json
<span class="devsite-syntax-nb">echo</span>

jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".candidates[].content.parts[].text"</span><span class="devsite-syntax-w"> </span>response.json<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/text_generation.sh#L393-L441" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh#text_gen_multimodal_pdf" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_pdf">text_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="chat" data-text="Chat" tabindex="-1">Chat</h3>
<devsite-selector>
<section>
<h3 id="chat-PYTHON" track-metadata-position="chat" track-metadata-region-tag="chat" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/chat.py/HEAD/chat" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/chat.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/chat.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/chat.py" data-git-revision="HEAD" data-region-tag="chat" track-metadata-region-tag="chat" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google.genai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">types</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-c1"># Pass initial history using the "history" argument</span>
<span class="devsite-syntax-n">chat</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chats</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">history</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span>
        <span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">role</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"user"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Hello"</span><span class="devsite-syntax-p">)]),</span>
        <span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-n">role</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"model"</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span>
                <span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span>
                    <span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Great to meet you. What would you like to know?"</span>
                <span class="devsite-syntax-p">)</span>
            <span class="devsite-syntax-p">],</span>
        <span class="devsite-syntax-p">),</span>
    <span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">chat</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">send_message</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">message</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"I have 2 dogs in my house."</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">chat</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">send_message</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">message</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"How many paws are in my house?"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/chat.py#L25-L47" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/chat.py#chat" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/chat.py" data-indented-block="" data-regexp="" data-region-tag="chat"><span class="devsite-syntax-n">chat</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="chat-JAVASCRIPT" track-metadata-position="chat" track-metadata-region-tag="chat" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/chat.js/HEAD/chat" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/chat.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/chat.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/chat.js" data-git-revision="HEAD" data-region-tag="chat" track-metadata-region-tag="chat" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">chats</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">create</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">history</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">role</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"user"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Hello"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">role</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"model"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Great to meet you. What would you like to know?"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response1</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">sendMessage</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">message</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"I have 2 dogs in my house."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Chat response 1:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response1</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response2</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">sendMessage</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">message</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"How many paws are in my house?"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Chat response 2:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response2</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/chat.js#L33-L58" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/chat.js#chat" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/chat.js" data-indented-block="" data-regexp="" data-region-tag="chat"><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="chat-GO" track-metadata-position="chat" track-metadata-region-tag="chat" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/chat.go/HEAD/chat" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/chat.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/chat.go" language="GO" data-github-path="google-gemini/api-examples/go/chat.go" data-git-revision="HEAD" data-region-tag="chat" track-metadata-region-tag="chat" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Pass initial history using the History field.</span>
<span class="devsite-syntax-nx">history</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Hello"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Great to meet you. What would you like to know?"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleModel</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Chats</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Create</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">history</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">firstResp</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SendMessage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"I have 2 dogs in my house."</span><span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">firstResp</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">())</span>

<span class="devsite-syntax-nx">secondResp</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SendMessage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"How many paws are in my house?"</span><span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">secondResp</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">())</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/chat.go#L16-L46" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/chat.go#chat" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/chat.go" data-indented-block="" data-regexp="" data-region-tag="chat"><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="chat-SHELL" track-metadata-position="chat" track-metadata-region-tag="chat" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/chat.sh/HEAD/chat" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/chat.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/chat.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/chat.sh" data-git-revision="HEAD" data-region-tag="chat" track-metadata-region-tag="chat" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr">curl<span class="devsite-syntax-w"> </span>https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key<span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">      "contents": [</span>
<span class="devsite-syntax-s1">        {"role":"user",</span>
<span class="devsite-syntax-s1">         "parts":[{</span>
<span class="devsite-syntax-s1">           "text": "Hello"}]},</span>
<span class="devsite-syntax-s1">        {"role": "model",</span>
<span class="devsite-syntax-s1">         "parts":[{</span>
<span class="devsite-syntax-s1">           "text": "Great to meet you. What would you like to know?"}]},</span>
<span class="devsite-syntax-s1">        {"role":"user",</span>
<span class="devsite-syntax-s1">         "parts":[{</span>
<span class="devsite-syntax-s1">           "text": "I have two dogs in my house. How many paws are in my house?"}]},</span>
<span class="devsite-syntax-s1">      ]</span>
<span class="devsite-syntax-s1">    }'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>grep<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"text"</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/chat.sh#L7-L23" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/chat.sh#chat" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/chat.sh" data-indented-block="" data-regexp="" data-region-tag="chat">chat.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="chat-JAVA" track-metadata-position="chat" track-metadata-region-tag="chat" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/ChatSession.java/HEAD/chat" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/ChatSession.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/ChatSession.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/ChatSession.java" data-git-revision="HEAD" data-region-tag="chat" track-metadata-region-tag="chat" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">Content</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">userContent</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fromParts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Hello"</span><span class="devsite-syntax-p">));</span>
<span class="devsite-syntax-n">Content</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">modelContent</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">role</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"model"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">parts</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">Collections</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">singletonList</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Great to meet you. What would you like to know?"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">Chat</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">chat</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">chats</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">systemInstruction</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">userContent</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">systemInstruction</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">modelContent</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response1</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sendMessage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"I have 2 dogs in my house."</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response1</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span>

<span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response2</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sendMessage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"How many paws are in my house?"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response2</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span>
<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/ChatSession.java#L32-L57" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/ChatSession.java#chat" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/ChatSession.java" data-indented-block="" data-regexp="" data-region-tag="chat"><span class="devsite-syntax-n">ChatSession</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="cache" data-text="Cache" tabindex="-1">Cache</h3>
<devsite-selector>
<section>
<h3 id="cache_create-PYTHON" track-metadata-position="cache_create" track-metadata-region-tag="cache_create" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/cache.py/HEAD/cache_create" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/cache.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/cache.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/cache.py" data-git-revision="HEAD" data-region-tag="cache_create" track-metadata-region-tag="cache_create" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google.genai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">types</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">document</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">files</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">upload</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">media</span> <span class="devsite-syntax-o">/</span> <span class="devsite-syntax-s2">"a11.txt"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">model_name</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"gemini-1.5-flash-001"</span>

<span class="devsite-syntax-n">cache</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">caches</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">model_name</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">config</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">CreateCachedContentConfig</span><span class="devsite-syntax-p">(</span>
        <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">document</span><span class="devsite-syntax-p">],</span>
        <span class="devsite-syntax-n">system_instruction</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"You are an expert analyzing transcripts."</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">cache</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">model_name</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Please summarize this transcript"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">config</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">cached_content</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">cache</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/cache.py#L25-L46" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/cache.py#cache_create" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/cache.py" data-indented-block="" data-regexp="" data-region-tag="cache_create"><span class="devsite-syntax-n">cache</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="cache_create-JAVASCRIPT" track-metadata-position="cache_create" track-metadata-region-tag="cache_create" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/cache.js/HEAD/cache_create" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/cache.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/cache.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/cache.js" data-git-revision="HEAD" data-region-tag="cache_create" track-metadata-region-tag="cache_create" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">filePath</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">path</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">media</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"a11.txt"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">document</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">upload</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">filePath</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">mimeType</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"text/plain"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Uploaded file name:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">document</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">modelName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-1.5-flash-001"</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">createUserContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">createPartFromUri</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nb">document</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">uri</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">document</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">mimeType</span><span class="devsite-syntax-p">)),</span>
<span class="devsite-syntax-p">];</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">cache</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">caches</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">create</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">modelName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">systemInstruction</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"You are an expert analyzing transcripts."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Cache created:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">cache</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContent</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">modelName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Please summarize this transcript"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">cachedContent</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">cache</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Response text:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/cache.js#L33-L62" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/cache.js#cache_create" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/cache.js" data-indented-block="" data-regexp="" data-region-tag="cache_create"><span class="devsite-syntax-nx">cache</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="cache_create-GO" track-metadata-position="cache_create" track-metadata-region-tag="cache_create" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/cache.go/HEAD/cache_create" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/cache.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/cache.go" language="GO" data-github-path="google-gemini/api-examples/go/cache.go" data-git-revision="HEAD" data-region-tag="cache_create" track-metadata-region-tag="cache_create" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">modelName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-1.5-flash-001"</span>
<span class="devsite-syntax-nx">document</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFromPath</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">filepath</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">getMedia</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"a11.txt"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFileConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"text/plain"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromURI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">document</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">URI</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">document</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromParts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">cache</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Caches</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Create</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">modelName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">CreateCachedContentConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Contents</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">SystemInstruction</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-s">"You are an expert analyzing transcripts."</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Cache created:"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">cache</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// Use the cache for generating content.</span>
<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">modelName</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Please summarize this transcript"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">CachedContent</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">cache</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/cache.go#L16-L66" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/cache.go#cache_create" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/cache.go" data-indented-block="" data-regexp="" data-region-tag="cache_create"><span class="devsite-syntax-nx">cache</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="tuned-model" data-text="Tuned Model" tabindex="-1">Tuned Model</h3>
<devsite-selector>
<section>
<h3 id="update-PYTHON" track-metadata-position="update" track-metadata-region-tag="update" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/README.md/HEAD/update" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/README.md" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/README.md" language="PYTHON" data-github-path="google-gemini/deprecated-generative-ai-python/README.md" data-git-revision="HEAD" data-region-tag="update" track-metadata-region-tag="update" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># With Gemini 2 we're launching a new SDK. See the following doc for details.</span>
<span class="devsite-syntax-c1"># https://ai.google.dev/gemini-api/docs/migrate<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/README.md#L23-L24" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/README.md#update" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/README.md" data-indented-block="" data-regexp="" data-region-tag="update">README.md</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="json-mode" data-text="JSON Mode" tabindex="-1">JSON Mode</h3>
<devsite-selector>
<section>
<h3 id="json_controlled_generation-PYTHON" track-metadata-position="json_controlled_generation" track-metadata-region-tag="json_controlled_generation" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/controlled_generation.py/HEAD/json_controlled_generation" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/controlled_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/controlled_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/controlled_generation.py" data-git-revision="HEAD" data-region-tag="json_controlled_generation" track-metadata-region-tag="json_controlled_generation" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google.genai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">types</span>
<span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">typing_extensions</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">TypedDict</span>

<span class="devsite-syntax-k">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">Recipe</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">TypedDict</span><span class="devsite-syntax-p">):</span>
    <span class="devsite-syntax-n">recipe_name</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">str</span>
    <span class="devsite-syntax-n">ingredients</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">list</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nb">str</span><span class="devsite-syntax-p">]</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">result</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"List a few popular cookie recipes."</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">config</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">(</span>
        <span class="devsite-syntax-n">response_mime_type</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"application/json"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">response_schema</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nb">list</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">Recipe</span><span class="devsite-syntax-p">]</span>
    <span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">result</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/controlled_generation.py#L25-L41" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/controlled_generation.py#json_controlled_generation" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/controlled_generation.py" data-indented-block="" data-regexp="" data-region-tag="json_controlled_generation"><span class="devsite-syntax-n">controlled_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="json_controlled_generation-JAVASCRIPT" track-metadata-position="json_controlled_generation" track-metadata-region-tag="json_controlled_generation" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/controlled_generation.js/HEAD/json_controlled_generation" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/controlled_generation.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/controlled_generation.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/controlled_generation.js" data-git-revision="HEAD" data-region-tag="json_controlled_generation" track-metadata-region-tag="json_controlled_generation" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContent</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"List a few popular cookie recipes."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">responseMimeType</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"application/json"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">responseSchema</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"array"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">items</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"object"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">properties</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">recipeName</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"string"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">ingredients</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"array"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">items</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"string"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">required</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"recipeName"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"ingredients"</span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/controlled_generation.js#L33-L54" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/controlled_generation.js#json_controlled_generation" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/controlled_generation.js" data-indented-block="" data-regexp="" data-region-tag="json_controlled_generation"><span class="devsite-syntax-nx">controlled_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="json_controlled_generation-GO" track-metadata-position="json_controlled_generation" track-metadata-region-tag="json_controlled_generation" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/controlled_generation.go/HEAD/json_controlled_generation" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/controlled_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/controlled_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/controlled_generation.go" data-git-revision="HEAD" data-region-tag="json_controlled_generation" track-metadata-region-tag="json_controlled_generation" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">schema</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Schema</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">TypeArray</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Items</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Schema</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">TypeObject</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Properties</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">map</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Schema</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-s">"recipe_name"</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-nx">Type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">TypeString</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-s">"ingredients"</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-nx">Type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">TypeArray</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">				</span><span class="devsite-syntax-nx">Items</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Schema</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-nx">Type</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">TypeString</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Required</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s">"recipe_name"</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">config</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ResponseMIMEType</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"application/json"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ResponseSchema</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">   </span><span class="devsite-syntax-nx">schema</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"List a few popular cookie recipes."</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/controlled_generation.go#L14-L52" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/controlled_generation.go#json_controlled_generation" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/controlled_generation.go" data-indented-block="" data-regexp="" data-region-tag="json_controlled_generation"><span class="devsite-syntax-nx">controlled_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="json_controlled_generation-SHELL" track-metadata-position="json_controlled_generation" track-metadata-region-tag="json_controlled_generation" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/controlled_generation.sh/HEAD/json_controlled_generation" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/controlled_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/controlled_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/controlled_generation.sh" data-git-revision="HEAD" data-region-tag="json_controlled_generation" track-metadata-region-tag="json_controlled_generation" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr">curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">    "contents": [{</span>
<span class="devsite-syntax-s1">      "parts":[</span>
<span class="devsite-syntax-s1">        {"text": "List 5 popular cookie recipes"}</span>
<span class="devsite-syntax-s1">        ]</span>
<span class="devsite-syntax-s1">    }],</span>
<span class="devsite-syntax-s1">    "generationConfig": {</span>
<span class="devsite-syntax-s1">        "response_mime_type": "application/json",</span>
<span class="devsite-syntax-s1">        "response_schema": {</span>
<span class="devsite-syntax-s1">          "type": "ARRAY",</span>
<span class="devsite-syntax-s1">          "items": {</span>
<span class="devsite-syntax-s1">            "type": "OBJECT",</span>
<span class="devsite-syntax-s1">            "properties": {</span>
<span class="devsite-syntax-s1">              "recipe_name": {"type":"STRING"},</span>
<span class="devsite-syntax-s1">            }</span>
<span class="devsite-syntax-s1">          }</span>
<span class="devsite-syntax-s1">        }</span>
<span class="devsite-syntax-s1">    }</span>
<span class="devsite-syntax-s1">}'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>head<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/controlled_generation.sh#L5-L25" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/controlled_generation.sh#json_controlled_generation" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/controlled_generation.sh" data-indented-block="" data-regexp="" data-region-tag="json_controlled_generation">controlled_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="json_controlled_generation-JAVA" track-metadata-position="json_controlled_generation" track-metadata-region-tag="json_controlled_generation" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/ControlledGeneration.java/HEAD/json_controlled_generation" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/ControlledGeneration.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/ControlledGeneration.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/ControlledGeneration.java" data-git-revision="HEAD" data-region-tag="json_controlled_generation" track-metadata-region-tag="json_controlled_generation" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">recipeSchema</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Array</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">class</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getSimpleName</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">items</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Object</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">class</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getSimpleName</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">properties</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">Map</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">of</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"recipe_name"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">class</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getSimpleName</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-s">"ingredients"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Array</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">class</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getSimpleName</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">items</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">class</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getSimpleName</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">                                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">required</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">List</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">of</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"recipe_name"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"ingredients"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">config</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">responseMimeType</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"application/json"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">responseSchema</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">recipeSchema</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">generateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"List a few popular cookie recipes."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">config</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/ControlledGeneration.java#L39-L72" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/ControlledGeneration.java#json_controlled_generation" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/ControlledGeneration.java" data-indented-block="" data-regexp="" data-region-tag="json_controlled_generation"><span class="devsite-syntax-n">ControlledGeneration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="code-execution" data-text="Code execution" tabindex="-1">Code execution</h3>
<devsite-selector>
<section>
<h3 id="code_execution_basic-PYTHON" track-metadata-position="code_execution_basic" track-metadata-region-tag="code_execution_basic" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/code_execution.py/HEAD/code_execution_basic" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/code_execution.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/code_execution.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/code_execution.py" data-git-revision="HEAD" data-region-tag="code_execution_basic" track-metadata-region-tag="code_execution_basic" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google.genai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">types</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-pro-exp-02-05"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">(</span>
        <span class="devsite-syntax-s2">"Write and execute code that calculates the sum of the first 50 prime numbers. "</span>
        <span class="devsite-syntax-s2">"Ensure that only the executable code and its resulting output are generated."</span>
    <span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-c1"># Each part may contain text, executable code, or an execution result.</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">part</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">candidates</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">parts</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">part</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"</span><span class="devsite-syntax-se">\n</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"-"</span> <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-mi">80</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-c1"># The .text accessor concatenates the parts into a markdown-formatted text.</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-se">\n</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/code_execution.py#L22-L39" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/code_execution.py#code_execution_basic" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/code_execution.py" data-indented-block="" data-regexp="" data-region-tag="code_execution_basic"><span class="devsite-syntax-n">code_execution</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="code_execution_basic-GO" track-metadata-position="code_execution_basic" track-metadata-region-tag="code_execution_basic" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/code_execution.go/HEAD/code_execution_basic" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/code_execution.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/code_execution.go" language="GO" data-github-path="google-gemini/api-examples/go/code_execution.go" data-git-revision="HEAD" data-region-tag="code_execution_basic" track-metadata-region-tag="code_execution_basic" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"gemini-2.0-pro-exp-02-05"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-s">`Write and execute code that calculates the sum of the first 50 prime numbers.</span>
<span class="devsite-syntax-s">		 Ensure that only the executable code and its resulting output are generated.`</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentConfig</span><span class="devsite-syntax-p">{},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Print the response.</span>
<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"--------------------------------------------------------------------------------"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">())</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/code_execution.go#L14-L40" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/code_execution.go#code_execution_basic" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/code_execution.go" data-indented-block="" data-regexp="" data-region-tag="code_execution_basic"><span class="devsite-syntax-nx">code_execution</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="code_execution_basic-JAVA" track-metadata-position="code_execution_basic" track-metadata-region-tag="code_execution_basic" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/CodeExecution.java/HEAD/code_execution_basic" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/CodeExecution.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/CodeExecution.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/CodeExecution.java" data-git-revision="HEAD" data-region-tag="code_execution_basic" track-metadata-region-tag="code_execution_basic" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">prompt</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"""</span>
<span class="devsite-syntax-s">        Write and execute code that calculates the sum of the first 50 prime numbers.</span>
<span class="devsite-syntax-s">        Ensure that only the executable code and its resulting output are generated.</span>
<span class="devsite-syntax-s">        """</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">generateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"gemini-2.0-pro-exp-02-05"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">prompt</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">part</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">candidates</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">getFirst</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">content</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">parts</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">part</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"\n"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"-"</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">repeat</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">80</span><span class="devsite-syntax-p">));</span>
<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/CodeExecution.java#L32-L50" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/CodeExecution.java#code_execution_basic" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/CodeExecution.java" data-indented-block="" data-regexp="" data-region-tag="code_execution_basic"><span class="devsite-syntax-n">CodeExecution</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="function-calling" data-text="Function Calling" tabindex="-1">Function Calling</h3>
<devsite-selector>
<section>
<h3 id="function_calling-PYTHON" track-metadata-position="function_calling" track-metadata-region-tag="function_calling" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/function_calling.py/HEAD/function_calling" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/function_calling.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/function_calling.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/function_calling.py" data-git-revision="HEAD" data-region-tag="function_calling" track-metadata-region-tag="function_calling" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google.genai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">types</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-k">def</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">add</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""returns a + b."""</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">a</span> <span class="devsite-syntax-o">+</span> <span class="devsite-syntax-n">b</span>

<span class="devsite-syntax-k">def</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">subtract</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""returns a - b."""</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">a</span> <span class="devsite-syntax-o">-</span> <span class="devsite-syntax-n">b</span>

<span class="devsite-syntax-k">def</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">multiply</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""returns a * b."""</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">a</span> <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-n">b</span>

<span class="devsite-syntax-k">def</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">divide</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">-</span>&gt; <span class="devsite-syntax-nb">float</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-sd">"""returns a / b."""</span>
    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">a</span> <span class="devsite-syntax-o">/</span> <span class="devsite-syntax-n">b</span>

<span class="devsite-syntax-c1"># Create a chat session; function calling (via tools) is enabled in the config.</span>
<span class="devsite-syntax-n">chat</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chats</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">config</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">tools</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">add</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">subtract</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">multiply</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">divide</span><span class="devsite-syntax-p">]),</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">chat</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">send_message</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">message</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"I have 57 cats, each owns 44 mittens, how many mittens is that in total?"</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/function_calling.py#L22-L51" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/function_calling.py#function_calling" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/function_calling.py" data-indented-block="" data-regexp="" data-region-tag="function_calling"><span class="devsite-syntax-n">function_calling</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="function_calling-GO" track-metadata-position="function_calling" track-metadata-region-tag="function_calling" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/function_calling.go/HEAD/function_calling" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/function_calling.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/function_calling.go" language="GO" data-github-path="google-gemini/api-examples/go/function_calling.go" data-git-revision="HEAD" data-region-tag="function_calling" track-metadata-region-tag="function_calling" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">modelName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span>

<span class="devsite-syntax-c1">// Create the function declarations for arithmetic operations.</span>
<span class="devsite-syntax-nx">addDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createArithmeticToolDeclaration</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"addNumbers"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Return the result of adding two numbers."</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nx">subtractDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createArithmeticToolDeclaration</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"subtractNumbers"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Return the result of subtracting the second number from the first."</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nx">multiplyDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createArithmeticToolDeclaration</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"multiplyNumbers"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Return the product of two numbers."</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nx">divideDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">createArithmeticToolDeclaration</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"divideNumbers"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Return the quotient of dividing the first number by the second."</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// Group the function declarations as a tool.</span>
<span class="devsite-syntax-nx">tools</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Tool</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">FunctionDeclarations</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FunctionDeclaration</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">addDeclaration</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">subtractDeclaration</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">multiplyDeclaration</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">divideDeclaration</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Create the content prompt.</span>
<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-s">"I have 57 cats, each owns 44 mittens, how many mittens is that in total?"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Set up the generate content configuration with function calling enabled.</span>
<span class="devsite-syntax-nx">config</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Tools</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">tools</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ToolConfig</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ToolConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">FunctionCallingConfig</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FunctionCallingConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-c1">// The mode equivalent to FunctionCallingConfigMode.ANY in JS.</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Mode</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FunctionCallingConfigModeAny</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">genContentResp</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">modelName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Assume the response includes a list of function calls.</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">len</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">genContentResp</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FunctionCalls</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"No function call returned from the AI."</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">functionCall</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genContentResp</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FunctionCalls</span><span class="devsite-syntax-p">()[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">]</span>
<span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Printf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Function call: %+v\n"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">functionCall</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// Marshal the Args map into JSON bytes.</span>
<span class="devsite-syntax-nx">argsMap</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">json</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Marshal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">functionCall</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Args</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Unmarshal the JSON bytes into the ArithmeticArgs struct.</span>
<span class="devsite-syntax-kd">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ArithmeticArgs</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">json</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Unmarshal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">argsMap</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">);</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Map the function name to the actual arithmetic function.</span>
<span class="devsite-syntax-kd">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">float64</span>
<span class="devsite-syntax-k">switch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">functionCall</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"addNumbers"</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">add</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FirstParam</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SecondParam</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"subtractNumbers"</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">subtract</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FirstParam</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SecondParam</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"multiplyNumbers"</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">multiply</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FirstParam</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SecondParam</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"divideNumbers"</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">divide</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FirstParam</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SecondParam</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">default</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Errorf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"unimplemented function: %s"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">functionCall</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Printf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Function result: %v\n"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// Prepare the final result message as content.</span>
<span class="devsite-syntax-nx">resultContents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"The final result is "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sprintf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"%v"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Use GenerateContent to send the final result.</span>
<span class="devsite-syntax-nx">finalResponse</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">modelName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">resultContents</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentConfig</span><span class="devsite-syntax-p">{})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">finalResponse</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/function_calling.go#L63-L161" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/function_calling.go#function_calling" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/function_calling.go" data-indented-block="" data-regexp="" data-region-tag="function_calling"><span class="devsite-syntax-nx">function_calling</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="function_calling-JAVASCRIPT" track-metadata-position="function_calling" track-metadata-region-tag="function_calling" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/function_calling.js/HEAD/function_calling" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/function_calling.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/function_calling.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/function_calling.js" data-git-revision="HEAD" data-region-tag="function_calling" track-metadata-region-tag="function_calling" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * The add function returns the sum of two numbers.</span>
<span class="devsite-syntax-cm">   * @param {number} a</span>
<span class="devsite-syntax-cm">   * @param {number} b</span>
<span class="devsite-syntax-cm">   * @returns {number}</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">add</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">a</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">b</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">a</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">b</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * The subtract function returns the difference (a - b).</span>
<span class="devsite-syntax-cm">   * @param {number} a</span>
<span class="devsite-syntax-cm">   * @param {number} b</span>
<span class="devsite-syntax-cm">   * @returns {number}</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">subtract</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">a</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">b</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">a</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">b</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * The multiply function returns the product of two numbers.</span>
<span class="devsite-syntax-cm">   * @param {number} a</span>
<span class="devsite-syntax-cm">   * @param {number} b</span>
<span class="devsite-syntax-cm">   * @returns {number}</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">multiply</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">a</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">b</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">a</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">b</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-cm">/**</span>
<span class="devsite-syntax-cm">   * The divide function returns the quotient of a divided by b.</span>
<span class="devsite-syntax-cm">   * @param {number} a</span>
<span class="devsite-syntax-cm">   * @param {number} b</span>
<span class="devsite-syntax-cm">   * @returns {number}</span>
<span class="devsite-syntax-cm">   */</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">divide</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">a</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">b</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">a</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">/</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">b</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">addDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"addNumbers"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">parameters</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"object"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Return the result of adding two numbers."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">properties</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">firstParam</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"number"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-s2">"The first parameter which can be an integer or a floating point number."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">secondParam</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"number"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-s2">"The second parameter which can be an integer or a floating point number."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">required</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"secondParam"</span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">};</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">subtractDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"subtractNumbers"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">parameters</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"object"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-s2">"Return the result of subtracting the second number from the first."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">properties</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">firstParam</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"number"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"The first parameter."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">secondParam</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"number"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"The second parameter."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">required</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"secondParam"</span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">};</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">multiplyDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"multiplyNumbers"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">parameters</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"object"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Return the product of two numbers."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">properties</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">firstParam</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"number"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"The first parameter."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">secondParam</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"number"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"The second parameter."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">required</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"secondParam"</span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">};</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">divideDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"divideNumbers"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">parameters</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"object"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-s2">"Return the quotient of dividing the first number by the second."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">properties</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">firstParam</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"number"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"The first parameter."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">secondParam</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">type</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"number"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">description</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"The second parameter."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">required</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"secondParam"</span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">};</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Step 1: Call generateContent with function calling enabled.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">generateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContent</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"I have 57 cats, each owns 44 mittens, how many mittens is that in total?"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">toolConfig</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nx">functionCallingConfig</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">mode</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">FunctionCallingConfigMode</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ANY</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">tools</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">functionDeclarations</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">addDeclaration</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">subtractDeclaration</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">multiplyDeclaration</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-nx">divideDeclaration</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Step 2: Extract the function call.(</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Assuming the response contains a 'functionCalls' array.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">functionCall</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">generateContentResponse</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">functionCalls</span><span class="devsite-syntax-w"> </span>&amp;&amp;
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">generateContentResponse</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">functionCalls</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mf">0</span><span class="devsite-syntax-p">];</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">functionCall</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Parse the arguments.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">functionCall</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Expected args format: { firstParam: number, secondParam: number }</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Step 3: Invoke the actual function based on the function name.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">functionMapping</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">addNumbers</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">add</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">subtractNumbers</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">subtract</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">multiplyNumbers</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">multiply</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">divideNumbers</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">divide</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">};</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">func</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">functionMapping</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-nx">functionCall</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-p">];</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-o">!</span><span class="devsite-syntax-nx">func</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">error</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Unimplemented error:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">functionCall</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">generateContentResponse</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">resultValue</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">func</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">firstParam</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">args</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">secondParam</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Function result:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">resultValue</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Step 4: Use the chat API to send the result as the final answer.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">chats</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">create</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chatResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">sendMessage</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">message</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"The final result is "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">resultValue</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">chatResponse</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chatResponse</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-p">}</span>
<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/function_calling.js#L22-L-1" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/function_calling.js#function_calling" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/function_calling.js" data-indented-block="" data-regexp="" data-region-tag="function_calling"><span class="devsite-syntax-nx">function_calling</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="function_calling-SHELL" track-metadata-position="function_calling" track-metadata-region-tag="function_calling" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/function_calling.sh/HEAD/function_calling" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/function_calling.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/function_calling.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/function_calling.sh" data-git-revision="HEAD" data-region-tag="function_calling" track-metadata-region-tag="function_calling" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr">
cat<span class="devsite-syntax-w"> &gt; </span>tools.json<span class="devsite-syntax-w"> &lt;&lt; </span>EOF
<span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-s2">"function_declarations"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">[</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"name"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"enable_lights"</span>,
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"description"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Turn on the lighting system."</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">}</span>,
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"name"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"set_light_color"</span>,
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"description"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Set the light color. Lights must be enabled for this to work."</span>,
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"parameters"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-s2">"type"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"object"</span>,
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-s2">"properties"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-s2">"rgb_hex"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-s2">"type"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"string"</span>,
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-s2">"description"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"The light color as a 6-digit hex string, e.g. ff0000 for red."</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-o">}</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">}</span>,
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-s2">"required"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">[</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-s2">"rgb_hex"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">]</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-o">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">}</span>,
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"name"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"stop_lights"</span>,
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"description"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Turn off the lighting system."</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">}</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-o">]</span>
<span class="devsite-syntax-o">}</span><span class="devsite-syntax-w"> </span>
EOF

curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-d<span class="devsite-syntax-w"> </span>@&lt;<span class="devsite-syntax-o">(</span><span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'</span>
<span class="devsite-syntax-s1">  {</span>
<span class="devsite-syntax-s1">    "system_instruction": {</span>
<span class="devsite-syntax-s1">      "parts": {</span>
<span class="devsite-syntax-s1">        "text": "You are a helpful lighting system bot. You can turn lights on and off, and you can set the color. Do not perform any other tasks."</span>
<span class="devsite-syntax-s1">      }</span>
<span class="devsite-syntax-s1">    },</span>
<span class="devsite-syntax-s1">    "tools": ['</span><span class="devsite-syntax-k">$(</span>cat<span class="devsite-syntax-w"> </span>tools.json<span class="devsite-syntax-k">)</span><span class="devsite-syntax-s1">'],</span>

<span class="devsite-syntax-s1">    "tool_config": {</span>
<span class="devsite-syntax-s1">      "function_calling_config": {"mode": "auto"}</span>
<span class="devsite-syntax-s1">    },</span>

<span class="devsite-syntax-s1">    "contents": {</span>
<span class="devsite-syntax-s1">      "role": "user",</span>
<span class="devsite-syntax-s1">      "parts": {</span>
<span class="devsite-syntax-s1">        "text": "Turn on the lights please."</span>
<span class="devsite-syntax-s1">      }</span>
<span class="devsite-syntax-s1">    }</span>
<span class="devsite-syntax-s1">  }</span>
<span class="devsite-syntax-s1">'</span><span class="devsite-syntax-o">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;/dev/null<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span>sed<span class="devsite-syntax-w"> </span>-n<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'/"content"/,/"finishReason"/p'</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/function_calling.sh#L4-L59" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/function_calling.sh#function_calling" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/function_calling.sh" data-indented-block="" data-regexp="" data-region-tag="function_calling">function_calling.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="function_calling-JAVA" track-metadata-position="function_calling" track-metadata-region-tag="function_calling" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/FunctionCalling.java/HEAD/function_calling" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/FunctionCalling.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/FunctionCalling.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/FunctionCalling.java" data-git-revision="HEAD" data-region-tag="function_calling" track-metadata-region-tag="function_calling" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">FunctionDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">addFunction</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">FunctionDeclaration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">name</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"addNumbers"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">parameters</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"object"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">properties</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Map</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">of</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-s">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">description</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"First number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-s">"secondParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">description</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Second number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">()))</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">required</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Arrays</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">asList</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"secondParam"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">FunctionDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">subtractFunction</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">FunctionDeclaration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">name</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"subtractNumbers"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">parameters</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"object"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">properties</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Map</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">of</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-s">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">description</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"First number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-s">"secondParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">description</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Second number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">()))</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">required</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Arrays</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">asList</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"secondParam"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">FunctionDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">multiplyFunction</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">FunctionDeclaration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">name</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"multiplyNumbers"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">parameters</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"object"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">properties</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Map</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">of</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-s">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">description</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"First number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-s">"secondParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">description</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Second number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">()))</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">required</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Arrays</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">asList</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"secondParam"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">FunctionDeclaration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">divideFunction</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">FunctionDeclaration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">name</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"divideNumbers"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">parameters</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"object"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">properties</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Map</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">of</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-s">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">description</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"First number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-s">"secondParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Schema</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">type</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">description</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Second number"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">()))</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">required</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Arrays</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">asList</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"firstParam"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"secondParam"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">config</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">toolConfig</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">ToolConfig</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">functionCallingConfig</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">FunctionCallingConfig</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">mode</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"ANY"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">tools</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Collections</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">singletonList</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">Tool</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">functionDeclarations</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-n">Arrays</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">asList</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-n">addFunction</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-n">subtractFunction</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-n">divideFunction</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                                        </span><span class="devsite-syntax-n">multiplyFunction</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">generateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"I have 57 cats, each owns 44 mittens, how many mittens is that in total?"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">config</span><span class="devsite-syntax-p">);</span>


<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">functionCalls</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">||</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">functionCalls</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">isEmpty</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">err</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"No function call received"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-kd">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">functionCall</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">functionCalls</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">getFirst</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">functionName</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">functionCall</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">name</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-kd">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">arguments</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">functionCall</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">args</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">Map&lt;String</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">BiFunction&lt;Double</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Double</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Double</span>&gt;&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">functionMapping</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">HashMap</span>&lt;&gt;<span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-n">functionMapping</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">put</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"addNumbers"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-n">functionMapping</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">put</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"subtractNumbers"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-n">functionMapping</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">put</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"multiplyNumbers"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-n">functionMapping</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">put</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"divideNumbers"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">b</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">b</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">?</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">/</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">b</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Double</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">NaN</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-n">BiFunction&lt;Double</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Double</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Double</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">functionMapping</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">functionName</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-n">Number</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">firstParam</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Number</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">arguments</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"firstParam"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-n">Number</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">secondParam</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Number</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">arguments</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"secondParam"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-n">Double</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">result</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">function</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">apply</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">firstParam</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">doubleValue</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">secondParam</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">doubleValue</span><span class="devsite-syntax-p">());</span>

<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">result</span><span class="devsite-syntax-p">);</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/FunctionCalling.java#L38-L139" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/FunctionCalling.java#function_calling" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/FunctionCalling.java" data-indented-block="" data-regexp="" data-region-tag="function_calling"><span class="devsite-syntax-n">FunctionCalling</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="generation-config" data-text="Generation config" tabindex="-1">Generation config</h3>
<devsite-selector>
<section>
<h3 id="configure_model_parameters-PYTHON" track-metadata-position="configure_model_parameters" track-metadata-region-tag="configure_model_parameters" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/configure_model_parameters.py/HEAD/configure_model_parameters" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/configure_model_parameters.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/configure_model_parameters.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/configure_model_parameters.py" data-git-revision="HEAD" data-region-tag="configure_model_parameters" track-metadata-region-tag="configure_model_parameters" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google.genai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">types</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Tell me a story about a magic backpack."</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">config</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">(</span>
        <span class="devsite-syntax-n">candidate_count</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-n">stop_sequences</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"x"</span><span class="devsite-syntax-p">],</span>
        <span class="devsite-syntax-n">max_output_tokens</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-mi">20</span><span class="devsite-syntax-p">,</span>
        <span class="devsite-syntax-n">temperature</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-mf">1.0</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/configure_model_parameters.py#L22-L36" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/configure_model_parameters.py#configure_model_parameters" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/configure_model_parameters.py" data-indented-block="" data-regexp="" data-region-tag="configure_model_parameters"><span class="devsite-syntax-n">configure_model_parameters</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="configure_model_parameters-JAVASCRIPT" track-metadata-position="configure_model_parameters" track-metadata-region-tag="configure_model_parameters" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/configure_model_parameters.js/HEAD/configure_model_parameters" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/configure_model_parameters.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/configure_model_parameters.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/configure_model_parameters.js" data-git-revision="HEAD" data-region-tag="configure_model_parameters" track-metadata-region-tag="configure_model_parameters" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContent</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Tell me a story about a magic backpack."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">candidateCount</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mf">1</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">stopSequences</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"x"</span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">maxOutputTokens</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mf">20</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">temperature</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mf">1.0</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/configure_model_parameters.js#L22-L37" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/configure_model_parameters.js#configure_model_parameters" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/configure_model_parameters.js" data-indented-block="" data-regexp="" data-region-tag="configure_model_parameters"><span class="devsite-syntax-nx">configure_model_parameters</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="configure_model_parameters-GO" track-metadata-position="configure_model_parameters" track-metadata-region-tag="configure_model_parameters" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/configure_model_parameters.go/HEAD/configure_model_parameters" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/configure_model_parameters.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/configure_model_parameters.go" language="GO" data-github-path="google-gemini/api-examples/go/configure_model_parameters.go" data-git-revision="HEAD" data-region-tag="configure_model_parameters" track-metadata-region-tag="configure_model_parameters" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Create local variables for parameters.</span>
<span class="devsite-syntax-nx">candidateCount</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">int32</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nx">maxOutputTokens</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">int32</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">20</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nx">temperature</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">float32</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mf">1.0</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Tell me a story about a magic backpack."</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">CandidateCount</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">candidateCount</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">StopSequences</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-kt">string</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-s">"x"</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MaxOutputTokens</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">maxOutputTokens</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">Temperature</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">     </span>&amp;<span class="devsite-syntax-nx">temperature</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/configure_model_parameters.go#L13-L42" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/configure_model_parameters.go#configure_model_parameters" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/configure_model_parameters.go" data-indented-block="" data-regexp="" data-region-tag="configure_model_parameters"><span class="devsite-syntax-nx">configure_model_parameters</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="configure_model_parameters-SHELL" track-metadata-position="configure_model_parameters" track-metadata-region-tag="configure_model_parameters" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/configure_model_parameters.sh/HEAD/configure_model_parameters" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/configure_model_parameters.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/configure_model_parameters.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/configure_model_parameters.sh" data-git-revision="HEAD" data-region-tag="configure_model_parameters" track-metadata-region-tag="configure_model_parameters" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr">curl<span class="devsite-syntax-w"> </span>https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key<span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">        "contents": [{</span>
<span class="devsite-syntax-s1">            "parts":[</span>
<span class="devsite-syntax-s1">                {"text": "Explain how AI works"}</span>
<span class="devsite-syntax-s1">            ]</span>
<span class="devsite-syntax-s1">        }],</span>
<span class="devsite-syntax-s1">        "generationConfig": {</span>
<span class="devsite-syntax-s1">            "stopSequences": [</span>
<span class="devsite-syntax-s1">                "Title"</span>
<span class="devsite-syntax-s1">            ],</span>
<span class="devsite-syntax-s1">            "temperature": 1.0,</span>
<span class="devsite-syntax-s1">            "maxOutputTokens": 800,</span>
<span class="devsite-syntax-s1">            "topP": 0.8,</span>
<span class="devsite-syntax-s1">            "topK": 10</span>
<span class="devsite-syntax-s1">        }</span>
<span class="devsite-syntax-s1">    }'</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>grep<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"text"</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/configure_model_parameters.sh#L4-L23" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/configure_model_parameters.sh#configure_model_parameters" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/configure_model_parameters.sh" data-indented-block="" data-regexp="" data-region-tag="configure_model_parameters">configure_model_parameters.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="configure_model_parameters-JAVA" track-metadata-position="configure_model_parameters" track-metadata-region-tag="configure_model_parameters" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/ConfigureModelParameters.java/HEAD/configure_model_parameters" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/ConfigureModelParameters.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/ConfigureModelParameters.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/ConfigureModelParameters.java" data-git-revision="HEAD" data-region-tag="configure_model_parameters" track-metadata-region-tag="configure_model_parameters" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">config</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">candidateCount</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">stopSequences</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">List</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">of</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"x"</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">maxOutputTokens</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">20</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">temperature</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mf">1.0F</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">generateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"Tell me a story about a magic backpack."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">config</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/ConfigureModelParameters.java#L29-L45" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/ConfigureModelParameters.java#configure_model_parameters" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/ConfigureModelParameters.java" data-indented-block="" data-regexp="" data-region-tag="configure_model_parameters"><span class="devsite-syntax-n">ConfigureModelParameters</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="safety-settings" data-text="Safety Settings" tabindex="-1">Safety Settings</h3>
<devsite-selector>
<section>
<h3 id="safety_settings_multi-PYTHON" track-metadata-position="safety_settings_multi" track-metadata-region-tag="safety_settings_multi" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/safety_settings.py/HEAD/safety_settings_multi" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/safety_settings.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/safety_settings.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/safety_settings.py" data-git-revision="HEAD" data-region-tag="safety_settings_multi" track-metadata-region-tag="safety_settings_multi" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google.genai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">types</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">unsafe_prompt</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-s2">"I support Martians Soccer Club and I think Jupiterians Football Club sucks! "</span>
    <span class="devsite-syntax-s2">"Write a ironic phrase about them including expletives."</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">unsafe_prompt</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">config</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">(</span>
        <span class="devsite-syntax-n">safety_settings</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span>
            <span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">SafetySetting</span><span class="devsite-syntax-p">(</span>
                <span class="devsite-syntax-n">category</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"HARM_CATEGORY_HATE_SPEECH"</span><span class="devsite-syntax-p">,</span>
                <span class="devsite-syntax-n">threshold</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"BLOCK_MEDIUM_AND_ABOVE"</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-p">),</span>
            <span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">SafetySetting</span><span class="devsite-syntax-p">(</span>
                <span class="devsite-syntax-n">category</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"HARM_CATEGORY_HARASSMENT"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">threshold</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"BLOCK_ONLY_HIGH"</span>
            <span class="devsite-syntax-p">),</span>
        <span class="devsite-syntax-p">]</span>
    <span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">try</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">except</span> <span class="devsite-syntax-ne">Exception</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"No information generated by the model."</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">candidates</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">safety_ratings</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/safety_settings.py#L48-L76" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/safety_settings.py#safety_settings_multi" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/safety_settings.py" data-indented-block="" data-regexp="" data-region-tag="safety_settings_multi"><span class="devsite-syntax-n">safety_settings</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="safety_settings_multi-JAVASCRIPT" track-metadata-position="safety_settings_multi" track-metadata-region-tag="safety_settings_multi" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/safety_settings.js/HEAD/safety_settings_multi" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/safety_settings.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/safety_settings.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/safety_settings.js" data-git-revision="HEAD" data-region-tag="safety_settings_multi" track-metadata-region-tag="safety_settings_multi" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">unsafePrompt</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-s2">"I support Martians Soccer Club and I think Jupiterians Football Club sucks! Write a ironic phrase about them including expletives."</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContent</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">unsafePrompt</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">safetySettings</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">category</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"HARM_CATEGORY_HATE_SPEECH"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">threshold</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"BLOCK_MEDIUM_AND_ABOVE"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">category</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"HARM_CATEGORY_HARASSMENT"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-nx">threshold</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"BLOCK_ONLY_HIGH"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">try</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Generated text:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">catch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">error</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"No information generated by the model."</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Safety ratings:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">candidates</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mf">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">safetyRatings</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-p">}</span>
<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/safety_settings.js#L49-L-1" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/safety_settings.js#safety_settings_multi" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/safety_settings.js" data-indented-block="" data-regexp="" data-region-tag="safety_settings_multi"><span class="devsite-syntax-nx">safety_settings</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="safety_settings_multi-GO" track-metadata-position="safety_settings_multi" track-metadata-region-tag="safety_settings_multi" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/safety_settings.go/HEAD/safety_settings_multi" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/safety_settings.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/safety_settings.go" language="GO" data-github-path="google-gemini/api-examples/go/safety_settings.go" data-git-revision="HEAD" data-region-tag="safety_settings_multi" track-metadata-region-tag="safety_settings_multi" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">unsafePrompt</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"I support Martians Soccer Club and I think Jupiterians Football Club sucks! "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"Write a ironic phrase about them including expletives."</span>

<span class="devsite-syntax-nx">config</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">SafetySettings</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SafetySetting</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Category</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-s">"HARM_CATEGORY_HATE_SPEECH"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Threshold</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"BLOCK_MEDIUM_AND_ABOVE"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Category</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-s">"HARM_CATEGORY_HARASSMENT"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">			</span><span class="devsite-syntax-nx">Threshold</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"BLOCK_ONLY_HIGH"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">unsafePrompt</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Print the generated text.</span>
<span class="devsite-syntax-nx">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Generated text:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// Print the and safety ratings from the first candidate.</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">len</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Candidates</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> &gt; </span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Finish reason:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Candidates</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">FinishReason</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">safetyRatings</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">json</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">MarshalIndent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Candidates</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">SafetyRatings</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">""</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"  "</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Safety ratings:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">string</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">safetyRatings</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"No candidate returned."</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/safety_settings.go#L60-L106" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/safety_settings.go#safety_settings_multi" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/safety_settings.go" data-indented-block="" data-regexp="" data-region-tag="safety_settings_multi"><span class="devsite-syntax-nx">safety_settings</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="safety_settings_multi-SHELL" track-metadata-position="safety_settings_multi" track-metadata-region-tag="safety_settings_multi" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/safety_settings.sh/HEAD/safety_settings_multi" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/safety_settings.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/safety_settings.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/safety_settings.sh" data-git-revision="HEAD" data-region-tag="safety_settings_multi" track-metadata-region-tag="safety_settings_multi" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr"><span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">    "safetySettings": [</span>
<span class="devsite-syntax-s1">        {"category": "HARM_CATEGORY_HARASSMENT", "threshold": "BLOCK_ONLY_HIGH"},</span>
<span class="devsite-syntax-s1">        {"category": "HARM_CATEGORY_HATE_SPEECH", "threshold": "BLOCK_MEDIUM_AND_ABOVE"}</span>
<span class="devsite-syntax-s1">    ],</span>
<span class="devsite-syntax-s1">    "contents": [{</span>
<span class="devsite-syntax-s1">        "parts":[{</span>
<span class="devsite-syntax-s1">            "text": "'</span>I<span class="devsite-syntax-w"> </span>support<span class="devsite-syntax-w"> </span>Martians<span class="devsite-syntax-w"> </span>Soccer<span class="devsite-syntax-w"> </span>Club<span class="devsite-syntax-w"> </span>and<span class="devsite-syntax-w"> </span>I<span class="devsite-syntax-w"> </span>think<span class="devsite-syntax-w"> </span>Jupiterians<span class="devsite-syntax-w"> </span>Football<span class="devsite-syntax-w"> </span>Club<span class="devsite-syntax-w"> </span>sucks!<span class="devsite-syntax-w"> </span>Write<span class="devsite-syntax-w"> </span>a<span class="devsite-syntax-w"> </span>ironic<span class="devsite-syntax-w"> </span>phrase<span class="devsite-syntax-w"> </span>about<span class="devsite-syntax-w"> </span>them.<span class="devsite-syntax-s1">'"}]}]}'</span><span class="devsite-syntax-w"> &gt; </span>request.json

curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span>@request.json<span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/safety_settings.sh#L20-L33" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/safety_settings.sh#safety_settings_multi" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/safety_settings.sh" data-indented-block="" data-regexp="" data-region-tag="safety_settings_multi">safety_settings.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="safety_settings_multi-JAVA" track-metadata-position="safety_settings_multi" track-metadata-region-tag="safety_settings_multi" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/SafetySettings.java/HEAD/safety_settings_multi" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/SafetySettings.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/SafetySettings.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/SafetySettings.java" data-git-revision="HEAD" data-region-tag="safety_settings_multi" track-metadata-region-tag="safety_settings_multi" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">unsafePrompt</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"""</span>
<span class="devsite-syntax-s">         I support Martians Soccer Club and I think Jupiterians Football Club sucks!</span>
<span class="devsite-syntax-s">         Write a ironic phrase about them including expletives.</span>
<span class="devsite-syntax-s">        """</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">config</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">safetySettings</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Arrays</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">asList</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">SafetySetting</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">category</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"HARM_CATEGORY_HATE_SPEECH"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">threshold</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"BLOCK_MEDIUM_AND_ABOVE"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">SafetySetting</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">category</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"HARM_CATEGORY_HARASSMENT"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">threshold</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"BLOCK_ONLY_HIGH"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                                </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">)).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">generateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">unsafePrompt</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">config</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-k">try</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span>
<span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">catch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Exception</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">e</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"No information generated by the model"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">candidates</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">getFirst</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">safetyRatings</span><span class="devsite-syntax-p">());</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/SafetySettings.java#L60-L92" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/SafetySettings.java#safety_settings_multi" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/SafetySettings.java" data-indented-block="" data-regexp="" data-region-tag="safety_settings_multi"><span class="devsite-syntax-n">SafetySettings</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="system-instruction" data-text="System Instruction" tabindex="-1">System Instruction</h3>
<devsite-selector>
<section>
<h3 id="system_instruction-PYTHON" track-metadata-position="system_instruction" track-metadata-region-tag="system_instruction" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/system_instruction.py/HEAD/system_instruction" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/system_instruction.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/system_instruction.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/system_instruction.py" data-git-revision="HEAD" data-region-tag="system_instruction" track-metadata-region-tag="system_instruction" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google.genai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">types</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Good morning! How are you?"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">config</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">(</span>
        <span class="devsite-syntax-n">system_instruction</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"You are a cat. Your name is Neko."</span>
    <span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/system_instruction.py#L22-L33" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/system_instruction.py#system_instruction" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/system_instruction.py" data-indented-block="" data-regexp="" data-region-tag="system_instruction"><span class="devsite-syntax-n">system_instruction</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="system_instruction-JAVASCRIPT" track-metadata-position="system_instruction" track-metadata-region-tag="system_instruction" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/system_instruction.js/HEAD/system_instruction" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/system_instruction.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/system_instruction.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/system_instruction.js" data-git-revision="HEAD" data-region-tag="system_instruction" track-metadata-region-tag="system_instruction" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContent</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Good morning! How are you?"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">systemInstruction</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"You are a cat. Your name is Neko."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/system_instruction.js#L22-L32" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/system_instruction.js#system_instruction" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/system_instruction.js" data-indented-block="" data-regexp="" data-region-tag="system_instruction"><span class="devsite-syntax-nx">system_instruction</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="system_instruction-GO" track-metadata-position="system_instruction" track-metadata-region-tag="system_instruction" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/system_instruction.go/HEAD/system_instruction" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/system_instruction.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/system_instruction.go" language="GO" data-github-path="google-gemini/api-examples/go/system_instruction.go" data-git-revision="HEAD" data-region-tag="system_instruction" track-metadata-region-tag="system_instruction" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Construct the user message contents.</span>
<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Good morning! How are you?"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Set the system instruction as a *genai.Content.</span>
<span class="devsite-syntax-nx">config</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">SystemInstruction</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"You are a cat. Your name is Neko."</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">config</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">printResponse</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/system_instruction.go#L13-L36" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/system_instruction.go#system_instruction" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/system_instruction.go" data-indented-block="" data-regexp="" data-region-tag="system_instruction"><span class="devsite-syntax-nx">system_instruction</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="system_instruction-SHELL" track-metadata-position="system_instruction" track-metadata-region-tag="system_instruction" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/system_instruction.sh/HEAD/system_instruction" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/system_instruction.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/system_instruction.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/system_instruction.sh" data-git-revision="HEAD" data-region-tag="system_instruction" track-metadata-region-tag="system_instruction" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr">curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{ "system_instruction": {</span>
<span class="devsite-syntax-s1">    "parts":</span>
<span class="devsite-syntax-s1">      { "text": "You are a cat. Your name is Neko."}},</span>
<span class="devsite-syntax-s1">    "contents": {</span>
<span class="devsite-syntax-s1">      "parts": {</span>
<span class="devsite-syntax-s1">        "text": "Hello there"}}}'</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/system_instruction.sh#L4-L12" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/system_instruction.sh#system_instruction" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/system_instruction.sh" data-indented-block="" data-regexp="" data-region-tag="system_instruction">system_instruction.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="system_instruction-JAVA" track-metadata-position="system_instruction" track-metadata-region-tag="system_instruction" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/SystemInstruction.java/HEAD/system_instruction" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/SystemInstruction.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/SystemInstruction.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/SystemInstruction.java" data-git-revision="HEAD" data-region-tag="system_instruction" track-metadata-region-tag="system_instruction" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">Part</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">textPart</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"You are a cat. Your name is Neko."</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">Content</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">role</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"system"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">parts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">ImmutableList</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">of</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">textPart</span><span class="devsite-syntax-p">)).</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">config</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">GenerateContentConfig</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">systemInstruction</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">generateContent</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"Good morning! How are you?"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">config</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/SystemInstruction.java#L30-L46" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/SystemInstruction.java#system_instruction" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/SystemInstruction.java" data-indented-block="" data-regexp="" data-region-tag="system_instruction"><span class="devsite-syntax-n">SystemInstruction</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
</devsite-selector>
</div>
</div>
<div class="column-container">
<div class="reference">
<section id="body.response_body">
<h3 id="response-body" data-text="Response body" tabindex="-1">Response body</h3>
<p>If successful, the response body contains an instance of <code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.GenerateContentResponse">GenerateContentResponse</a></code>.</p>
</section>
</div>
</div>
</section>
</div><div itemscope="" itemtype="http://developers.google.com/ReferenceObject"><h2 id="method:-models.streamgeneratecontent" data-text="Method: models.streamGenerateContent" tabindex="-1">Method: models.streamGenerateContent</h2><a name="v1beta.models.streamGenerateContent"></a>
<meta content="streamGenerateContent" itemprop="name"/>
<meta content="/api/rest/v1beta/models/streamGenerateContent" itemprop="path"/>
<section class="prototype" id="/api/rest/v1beta/models/streamGenerateContent">
<ul class="toc">
<li><a href="#body.HTTP_TEMPLATE">Endpoint</a></li><li><a href="#body.PATH_PARAMETERS">Path parameters</a></li><li><a href="#body.request_body">Request body</a>
<ul>
<li><a href="#body.request_body.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#body.response_body">Response body</a></li><li><a href="#body.aspect">Authorization scopes</a></li><li><a href="#body.codeSnippets">Example request</a>
<ul>
<li><a href="#body.codeSnippets.group">Text</a></li><li><a href="#body.codeSnippets.group_1">Image</a></li><li><a href="#body.codeSnippets.group_2">Audio</a></li><li><a href="#body.codeSnippets.group_3">Video</a></li><li><a href="#body.codeSnippets.group_4">PDF</a></li><li><a href="#body.codeSnippets.group_5">Chat</a></li>
</ul>
</li>
</ul>
<section id="google.ai.generativelanguage.v1beta.GenerativeService.StreamGenerateContent">
</section>
<section id="description">
<p>Generates a <a href="https://ai.google.dev/gemini-api/docs/text-generation?lang=python#generate-a-text-stream">streamed response</a> from the model given an input <code translate="no" dir="ltr">GenerateContentRequest</code>.</p>
</section>
<div class="column-container">
<div class="reference">
<section id="body.HTTP_TEMPLATE">
<h3 id="endpoint_1" data-text="Endpoint" tabindex="-1">Endpoint</h3>
<span class="endpoint">
<span class="http-method">
                post
              </span>
<span class="endpoint-url">
<code translate="no" dir="ltr">https:<wbr/>/<wbr/>/generativelanguage.googleapis.com<wbr/>/v1beta<wbr/>/{model=models<wbr/>/*}:streamGenerateContent</code>
</span>
</span>
<br/>
<span>

</span>
</section>
<section id="body.PATH_PARAMETERS">
<h3 id="path-parameters_1" data-text="Path parameters" tabindex="-1">Path parameters</h3>
<section id="body.PATH_PARAMETERS.model">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">model</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Required. The name of the <code translate="no" dir="ltr">Model</code> to use for generating the completion.</p><p>Format: <code translate="no" dir="ltr">models/{model}</code>. It takes the form <code translate="no" dir="ltr">models/{model}</code>.</p>
</div>
</div>
</section>
</section>
<section id="body.request_body">
<h3 id="request-body_1" data-text="Request body" tabindex="-1">Request body</h3>
<p>The request body contains data with the following structure:</p>
<section id="body.request_body.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="body.request_body.FIELDS.contents">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">contents[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#Content">Content</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Required. The content of the current conversation with the model.</p><p>For single-turn queries, this is a single instance. For multi-turn queries like <a href="https://ai.google.dev/gemini-api/docs/text-generation#chat">chat</a>, this is a repeated field that contains the conversation history and the latest request.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.tools">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">tools[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#Tool">Tool</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. A list of <code translate="no" dir="ltr">Tools</code> the <code translate="no" dir="ltr">Model</code> may use to generate the next response.</p><p>A <code translate="no" dir="ltr">Tool</code> is a piece of code that enables the system to interact with external systems to perform an action, or set of actions, outside of knowledge and scope of the <code translate="no" dir="ltr">Model</code>. Supported <code translate="no" dir="ltr">Tool</code>s are <code translate="no" dir="ltr">Function</code> and <code translate="no" dir="ltr">codeExecution</code>. Refer to the <a href="https://ai.google.dev/gemini-api/docs/function-calling">Function calling</a> and the <a href="https://ai.google.dev/gemini-api/docs/code-execution">Code execution</a> guides to learn more.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.tool_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">toolConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#ToolConfig">ToolConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Tool configuration for any <code translate="no" dir="ltr">Tool</code> specified in the request. Refer to the <a href="https://ai.google.dev/gemini-api/docs/function-calling#function_calling_mode">Function calling guide</a> for a usage example.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.safety_settings">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">safetySettings[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.SafetySetting">SafetySetting</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. A list of unique <code translate="no" dir="ltr">SafetySetting</code> instances for blocking unsafe content.</p><p>This will be enforced on the <code translate="no" dir="ltr">GenerateContentRequest.contents</code> and <code translate="no" dir="ltr">GenerateContentResponse.candidates</code>. There should not be more than one setting for each <code translate="no" dir="ltr">SafetyCategory</code> type. The API will block any contents and responses that fail to meet the thresholds set by these settings. This list overrides the default settings for each <code translate="no" dir="ltr">SafetyCategory</code> specified in the safetySettings. If there is no <code translate="no" dir="ltr">SafetySetting</code> for a given <code translate="no" dir="ltr">SafetyCategory</code> provided in the list, the API will use the default safety setting for that category. Harm categories HARM_CATEGORY_HATE_SPEECH, HARM_CATEGORY_SEXUALLY_EXPLICIT, HARM_CATEGORY_DANGEROUS_CONTENT, HARM_CATEGORY_HARASSMENT, HARM_CATEGORY_CIVIC_INTEGRITY are supported. Refer to the <a href="https://ai.google.dev/gemini-api/docs/safety-settings">guide</a> for detailed information on available safety settings. Also refer to the <a href="https://ai.google.dev/gemini-api/docs/safety-guidance">Safety guidance</a> to learn how to incorporate safety considerations in your AI applications.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.system_instruction">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">systemInstruction</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#Content">Content</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Developer set <a href="https://ai.google.dev/gemini-api/docs/system-instructions">system instruction(s)</a>. Currently, text only.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.generation_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">generationConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.GenerationConfig">GenerationConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Configuration options for model generation and outputs.</p>
</div>
</div>
</section>
<section id="body.request_body.FIELDS.cached_content">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">cachedContent</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. The name of the content <a href="https://ai.google.dev/gemini-api/docs/caching">cached</a> to use as context to serve the prediction. Format: <code translate="no" dir="ltr">cachedContents/{cachedContent}</code></p>
</div>
</div>
</section>
</section>
</section>
</div>
<div class="second-column">
<h3 id="example-request_1" data-text="Example request" tabindex="-1">Example request</h3>
<devsite-selector>
<section>
<h3 id="text_1" data-text="Text" tabindex="-1">Text</h3>
<devsite-selector>
<section>
<h3 id="text_gen_text_only_prompt_streaming-PYTHON" track-metadata-position="text_gen_text_only_prompt_streaming" track-metadata-region-tag="text_gen_text_only_prompt_streaming" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/text_generation.py/HEAD/text_gen_text_only_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/text_generation.py" data-git-revision="HEAD" data-region-tag="text_gen_text_only_prompt_streaming" track-metadata-region-tag="text_gen_text_only_prompt_streaming" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content_stream</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Write a story about a magic backpack."</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"_"</span> <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-mi">80</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/text_generation.py#L37-L45" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/text_generation.py#text_gen_text_only_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/text_generation.py" data-indented-block="" data-regexp="" data-region-tag="text_gen_text_only_prompt_streaming"><span class="devsite-syntax-n">text_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_text_only_prompt_streaming-JAVASCRIPT" track-metadata-position="text_gen_text_only_prompt_streaming" track-metadata-region-tag="text_gen_text_only_prompt_streaming" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/text_generation.js/HEAD/text_gen_text_only_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-git-revision="HEAD" data-region-tag="text_gen_text_only_prompt_streaming" track-metadata-region-tag="text_gen_text_only_prompt_streaming" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContentStream</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Write a story about a magic backpack."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-kd">let</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">""</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">of</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-p">}</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/text_generation.js#L51-L63" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/text_generation.js#text_gen_text_only_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-indented-block="" data-regexp="" data-region-tag="text_gen_text_only_prompt_streaming"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_text_only_prompt_streaming-GO" track-metadata-position="text_gen_text_only_prompt_streaming" track-metadata-region-tag="text_gen_text_only_prompt_streaming" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/text_generation.go/HEAD/text_gen_text_only_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/text_generation.go" data-git-revision="HEAD" data-region-tag="text_gen_text_only_prompt_streaming" track-metadata-region-tag="text_gen_text_only_prompt_streaming" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Write a story about a magic backpack."</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">range</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentStream</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Candidates</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Parts</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/text_generation.go#L38-L59" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/text_generation.go#text_gen_text_only_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/text_generation.go" data-indented-block="" data-regexp="" data-region-tag="text_gen_text_only_prompt_streaming"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_text_only_prompt_streaming-SHELL" track-metadata-position="text_gen_text_only_prompt_streaming" track-metadata-region-tag="text_gen_text_only_prompt_streaming" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh/HEAD/text_gen_text_only_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-git-revision="HEAD" data-region-tag="text_gen_text_only_prompt_streaming" track-metadata-region-tag="text_gen_text_only_prompt_streaming" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr">curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:streamGenerateContent?alt=sse&amp;key=</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">GEMINI_API_KEY</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">        </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">        </span>--no-buffer<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">        </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{ "contents":[{"parts":[{"text": "Write a story about a magic backpack."}]}]}'</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/text_generation.sh#L33-L37" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh#text_gen_text_only_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-indented-block="" data-regexp="" data-region-tag="text_gen_text_only_prompt_streaming">text_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_text_only_prompt_streaming-JAVA" track-metadata-position="text_gen_text_only_prompt_streaming" track-metadata-region-tag="text_gen_text_only_prompt_streaming" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java/HEAD/text_gen_text_only_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/TextGeneration.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/TextGeneration.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java" data-git-revision="HEAD" data-region-tag="text_gen_text_only_prompt_streaming" track-metadata-region-tag="text_gen_text_only_prompt_streaming" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">ResponseStream&lt;GenerateContentResponse&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">responseStream</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">generateContentStream</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"Write a story about a magic backpack."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-n">StringBuilder</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">StringBuilder</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">res</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">responseStream</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">res</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">res</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-n">responseStream</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">close</span><span class="devsite-syntax-p">();</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/TextGeneration.java#L49-L63" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java#text_gen_text_only_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java" data-indented-block="" data-regexp="" data-region-tag="text_gen_text_only_prompt_streaming"><span class="devsite-syntax-n">TextGeneration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="image_1" data-text="Image" tabindex="-1">Image</h3>
<devsite-selector>
<section>
<h3 id="text_gen_multimodal_one_image_prompt_streaming-PYTHON" track-metadata-position="text_gen_multimodal_one_image_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_one_image_prompt_streaming" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/text_generation.py/HEAD/text_gen_multimodal_one_image_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/text_generation.py" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_one_image_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_one_image_prompt_streaming" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">PIL.Image</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">organ</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">PIL</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Image</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">open</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">media</span> <span class="devsite-syntax-o">/</span> <span class="devsite-syntax-s2">"organ.jpg"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content_stream</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"Tell me about this instrument"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">organ</span><span class="devsite-syntax-p">]</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"_"</span> <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-mi">80</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/text_generation.py#L63-L73" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/text_generation.py#text_gen_multimodal_one_image_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/text_generation.py" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_one_image_prompt_streaming"><span class="devsite-syntax-n">text_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_one_image_prompt_streaming-JAVASCRIPT" track-metadata-position="text_gen_multimodal_one_image_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_one_image_prompt_streaming" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/text_generation.js/HEAD/text_gen_multimodal_one_image_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_one_image_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_one_image_prompt_streaming" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">organ</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">upload</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">path</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">media</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"organ.jpg"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContentStream</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">createUserContent</span><span class="devsite-syntax-p">([</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"Tell me about this instrument"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">createPartFromUri</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">organ</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">uri</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">organ</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">mimeType</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">]),</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-kd">let</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">""</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">of</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-p">}</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/text_generation.js#L94-L115" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/text_generation.js#text_gen_multimodal_one_image_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_one_image_prompt_streaming"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_one_image_prompt_streaming-GO" track-metadata-position="text_gen_multimodal_one_image_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_one_image_prompt_streaming" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/text_generation.go/HEAD/text_gen_multimodal_one_image_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/text_generation.go" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_one_image_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_one_image_prompt_streaming" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFromPath</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">filepath</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">getMedia</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"organ.jpg"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFileConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"image/jpeg"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Tell me about this instrument"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromURI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">URI</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromParts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">range</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentStream</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Candidates</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Parts</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/text_generation.go#L104-L139" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/text_generation.go#text_gen_multimodal_one_image_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/text_generation.go" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_one_image_prompt_streaming"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_one_image_prompt_streaming-SHELL" track-metadata-position="text_gen_multimodal_one_image_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_one_image_prompt_streaming" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh/HEAD/text_gen_multimodal_one_image_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_one_image_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_one_image_prompt_streaming" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr">cat<span class="devsite-syntax-w"> &gt; </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-nv">$TEMP_JSON</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> &lt;&lt; </span>EOF
<span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-s2">"contents"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">[{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-s2">"parts"</span>:<span class="devsite-syntax-o">[</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-o">{</span><span class="devsite-syntax-s2">"text"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Tell me about this instrument"</span><span class="devsite-syntax-o">}</span>,
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-s2">"inline_data"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">{</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-s2">"mime_type"</span>:<span class="devsite-syntax-s2">"image/jpeg"</span>,
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-s2">"data"</span>:<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">$(</span>cat<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-nv">$TEMP_B64</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span><span class="devsite-syntax-s2">"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">}</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-o">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">]</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-o">}]</span>
<span class="devsite-syntax-o">}</span>
EOF

curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:streamGenerateContent?alt=sse&amp;key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"@</span><span class="devsite-syntax-nv">$TEMP_JSON</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/text_generation.sh#L74-L94" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh#text_gen_multimodal_one_image_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_one_image_prompt_streaming">text_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_one_image_prompt_streaming-JAVA" track-metadata-position="text_gen_multimodal_one_image_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_one_image_prompt_streaming" data-text="Java" tabindex="-1">Java</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java/HEAD/text_gen_multimodal_one_image_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/TextGeneration.java" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/java/src/main/java/com/example/gemini/TextGeneration.java" language="JAVA" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_one_image_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_one_image_prompt_streaming" dir="ltr" is-upgraded syntax="Java"><code translate="no" dir="ltr"><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">path</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">media_path</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"organ.jpg"</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-kt">byte</span><span class="devsite-syntax-o">[]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">imageData</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">readAllBytes</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Paths</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">path</span><span class="devsite-syntax-p">));</span>

<span class="devsite-syntax-n">Content</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fromParts</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Tell me about this instrument."</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">fromBytes</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">imageData</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"image/jpeg"</span><span class="devsite-syntax-p">));</span>


<span class="devsite-syntax-n">ResponseStream&lt;GenerateContentResponse&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">responseStream</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">generateContentStream</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">content</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-kc">null</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-n">StringBuilder</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">StringBuilder</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">GenerateContentResponse</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">res</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">responseStream</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">System</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">out</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">res</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">append</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">res</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">text</span><span class="devsite-syntax-p">());</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-n">responseStream</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">close</span><span class="devsite-syntax-p">();</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/java/src/main/java/com/example/gemini/TextGeneration.java#L89-L112" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java#text_gen_multimodal_one_image_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/java/src/main/java/com/example/gemini/TextGeneration.java" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_one_image_prompt_streaming"><span class="devsite-syntax-n">TextGeneration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">java</span></a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="audio_1" data-text="Audio" tabindex="-1">Audio</h3>
<devsite-selector>
<section>
<h3 id="text_gen_multimodal_audio_streaming-PYTHON" track-metadata-position="text_gen_multimodal_audio_streaming" track-metadata-region-tag="text_gen_multimodal_audio_streaming" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/text_generation.py/HEAD/text_gen_multimodal_audio_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/text_generation.py" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_audio_streaming" track-metadata-region-tag="text_gen_multimodal_audio_streaming" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">sample_audio</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">files</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">upload</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">media</span> <span class="devsite-syntax-o">/</span> <span class="devsite-syntax-s2">"sample.mp3"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content_stream</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"Give me a summary of this audio file."</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">sample_audio</span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"_"</span> <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-mi">80</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/text_generation.py#L131-L141" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/text_generation.py#text_gen_multimodal_audio_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/text_generation.py" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_audio_streaming"><span class="devsite-syntax-n">text_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_audio_streaming-GO" track-metadata-position="text_gen_multimodal_audio_streaming" track-metadata-region-tag="text_gen_multimodal_audio_streaming" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/text_generation.go/HEAD/text_gen_multimodal_audio_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/text_generation.go" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_audio_streaming" track-metadata-region-tag="text_gen_multimodal_audio_streaming" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFromPath</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">filepath</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">getMedia</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"sample.mp3"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFileConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"audio/mpeg"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Give me a summary of this audio file."</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromURI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">URI</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromParts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">range</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentStream</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Candidates</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Parts</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/text_generation.go#L296-L335" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/text_generation.go#text_gen_multimodal_audio_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/text_generation.go" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_audio_streaming"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_audio_streaming-SHELL" track-metadata-position="text_gen_multimodal_audio_streaming" track-metadata-region-tag="text_gen_multimodal_audio_streaming" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh/HEAD/text_gen_multimodal_audio_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_audio_streaming" track-metadata-region-tag="text_gen_multimodal_audio_streaming" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Use File API to upload audio data to API request.</span>
<span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>file<span class="devsite-syntax-w"> </span>-b<span class="devsite-syntax-w"> </span>--mime-type<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">AUDIO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>wc<span class="devsite-syntax-w"> </span>-c<span class="devsite-syntax-w"> &lt; </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">AUDIO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-o">=</span>AUDIO

<span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-o">=</span>upload-header.tmp

<span class="devsite-syntax-c1"># Initial resumable request defining metadata.</span>
<span class="devsite-syntax-c1"># The upload url is in the response headers dump them to a file.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">BASE_URL</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/upload/v1beta/files?key=</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">GEMINI_API_KEY</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-D<span class="devsite-syntax-w"> </span>upload-header.tmp<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Protocol: resumable"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: start"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Type: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Type: application/json"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"{'file': {'display_name': '</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">'}}"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null

<span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>grep<span class="devsite-syntax-w"> </span>-i<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"x-goog-upload-url: "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>cut<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-s2">" "</span><span class="devsite-syntax-w"> </span>-f2<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>tr<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"\r"</span><span class="devsite-syntax-k">)</span>
rm<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>

<span class="devsite-syntax-c1"># Upload the actual bytes.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Offset: 0"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: upload, finalize"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>--data-binary<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"@</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">AUDIO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>file_info.json

<span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.uri"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$file_uri</span>

curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:streamGenerateContent?alt=sse&amp;key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">      "contents": [{</span>
<span class="devsite-syntax-s1">        "parts":[</span>
<span class="devsite-syntax-s1">          {"text": "Please describe this file."},</span>
<span class="devsite-syntax-s1">          {"file_data":{"mime_type": "audio/mpeg", "file_uri": '</span><span class="devsite-syntax-nv">$file_uri</span><span class="devsite-syntax-s1">'}}]</span>
<span class="devsite-syntax-s1">        }]</span>
<span class="devsite-syntax-s1">       }'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>response.json

cat<span class="devsite-syntax-w"> </span>response.json
echo<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/text_generation.sh#L224-L268" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh#text_gen_multimodal_audio_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_audio_streaming">text_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="video_1" data-text="Video" tabindex="-1">Video</h3>
<devsite-selector>
<section>
<h3 id="text_gen_multimodal_video_prompt_streaming-PYTHON" track-metadata-position="text_gen_multimodal_video_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_video_prompt_streaming" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/text_generation.py/HEAD/text_gen_multimodal_video_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/text_generation.py" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_video_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_video_prompt_streaming" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">time</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-c1"># Video clip (CC BY 3.0) from https://peach.blender.org/download/</span>
<span class="devsite-syntax-n">myfile</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">files</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">upload</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">media</span> <span class="devsite-syntax-o">/</span> <span class="devsite-syntax-s2">"Big_Buck_Bunny.mp4"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-sa">f</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">{</span><span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-si">=}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1"># Poll until the video file is completely processed (state becomes ACTIVE).</span>
<span class="devsite-syntax-k">while</span> <span class="devsite-syntax-ow">not</span> <span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">state</span> <span class="devsite-syntax-ow">or</span> <span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span> <span class="devsite-syntax-o">!=</span> <span class="devsite-syntax-s2">"ACTIVE"</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Processing video..."</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"File state:"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-n">time</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">sleep</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">5</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-n">myfile</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">files</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">name</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content_stream</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">myfile</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-s2">"Describe this video clip"</span><span class="devsite-syntax-p">]</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"_"</span> <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-mi">80</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/text_generation.py#L169-L189" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/text_generation.py#text_gen_multimodal_video_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/text_generation.py" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_video_prompt_streaming"><span class="devsite-syntax-n">text_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_video_prompt_streaming-JAVASCRIPT" track-metadata-position="text_gen_multimodal_video_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_video_prompt_streaming" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/text_generation.js/HEAD/text_gen_multimodal_video_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/text_generation.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_video_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_video_prompt_streaming" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kd">let</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">upload</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">path</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">media</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Big_Buck_Bunny.mp4'</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-c1">// Poll until the video file is completely processed (state becomes ACTIVE).</span>
<span class="devsite-syntax-k">while</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-o">!</span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">state</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">||</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">toString</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'ACTIVE'</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'Processing video...'</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'File state: '</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">state</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">sleep</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mf">5000</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">get</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">name</span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">generateContentStream</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">createUserContent</span><span class="devsite-syntax-p">([</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-s2">"Describe this video clip"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">createPartFromUri</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">uri</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">video</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">mimeType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">]),</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-kd">let</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">""</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">of</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">response</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">+=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-p">}</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/text_generation.js#L269-L298" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/text_generation.js#text_gen_multimodal_video_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/text_generation.js" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_video_prompt_streaming"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_video_prompt_streaming-GO" track-metadata-position="text_gen_multimodal_video_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_video_prompt_streaming" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/text_generation.go/HEAD/text_gen_multimodal_video_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/text_generation.go" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_video_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_video_prompt_streaming" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFromPath</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">filepath</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">getMedia</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Big_Buck_Bunny.mp4"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFileConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"video/mp4"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Poll until the video file is completely processed (state becomes ACTIVE).</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">State</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FileStateUnspecified</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">||</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">State</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">FileStateActive</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Processing video..."</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"File state:"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">State</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">time</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Sleep</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">5</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">time</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Second</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Get</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Name</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Describe this video clip"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromURI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">URI</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromParts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">range</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentStream</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Candidates</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Parts</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/text_generation.go#L394-L445" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/text_generation.go#text_gen_multimodal_video_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/text_generation.go" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_video_prompt_streaming"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_video_prompt_streaming-SHELL" track-metadata-position="text_gen_multimodal_video_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_video_prompt_streaming" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh/HEAD/text_gen_multimodal_video_prompt_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_video_prompt_streaming" track-metadata-region-tag="text_gen_multimodal_video_prompt_streaming" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr"><span class="devsite-syntax-c1"># Use File API to upload audio data to API request.</span>
<span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>file<span class="devsite-syntax-w"> </span>-b<span class="devsite-syntax-w"> </span>--mime-type<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">VIDEO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>wc<span class="devsite-syntax-w"> </span>-c<span class="devsite-syntax-w"> &lt; </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">VIDEO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-o">=</span>VIDEO_PATH

<span class="devsite-syntax-c1"># Initial resumable request defining metadata.</span>
<span class="devsite-syntax-c1"># The upload url is in the response headers dump them to a file.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">BASE_URL</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/upload/v1beta/files?key=</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">GEMINI_API_KEY</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-D<span class="devsite-syntax-w"> </span>upload-header.tmp<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Protocol: resumable"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: start"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Type: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Type: application/json"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"{'file': {'display_name': '</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">'}}"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null

<span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>grep<span class="devsite-syntax-w"> </span>-i<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"x-goog-upload-url: "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>cut<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-s2">" "</span><span class="devsite-syntax-w"> </span>-f2<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>tr<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"\r"</span><span class="devsite-syntax-k">)</span>
rm<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>

<span class="devsite-syntax-c1"># Upload the actual bytes.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Offset: 0"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: upload, finalize"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>--data-binary<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"@</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">VIDEO_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>file_info.json

<span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.uri"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$file_uri</span>

<span class="devsite-syntax-nv">state</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.state"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">state</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$state</span>

<span class="devsite-syntax-k">while</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">[[</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"(</span><span class="devsite-syntax-nv">$state</span><span class="devsite-syntax-s2">)"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span>*<span class="devsite-syntax-s2">"PROCESSING"</span>*<span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">]]</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-k">do</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Processing video..."</span>
<span class="devsite-syntax-w">  </span>sleep<span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">5</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1"># Get the file of interest to check state</span>
<span class="devsite-syntax-w">  </span>curl<span class="devsite-syntax-w"> </span>https://generativelanguage.googleapis.com/v1beta/files/<span class="devsite-syntax-nv">$name</span><span class="devsite-syntax-w"> &gt; </span>file_info.json
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nv">state</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.state"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-k">done</span>

curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:streamGenerateContent?alt=sse&amp;key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">      "contents": [{</span>
<span class="devsite-syntax-s1">        "parts":[</span>
<span class="devsite-syntax-s1">          {"text": "Please describe this file."},</span>
<span class="devsite-syntax-s1">          {"file_data":{"mime_type": "video/mp4", "file_uri": '</span><span class="devsite-syntax-nv">$file_uri</span><span class="devsite-syntax-s1">'}}]</span>
<span class="devsite-syntax-s1">        }]</span>
<span class="devsite-syntax-s1">       }'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>response.json

cat<span class="devsite-syntax-w"> </span>response.json
echo<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/text_generation.sh#L335-L389" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh#text_gen_multimodal_video_prompt_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_video_prompt_streaming">text_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="pdf_1" data-text="PDF" tabindex="-1">PDF</h3>
<devsite-selector>
<section>
<h3 id="text_gen_multimodal_pdf_streaming-PYTHON" track-metadata-position="text_gen_multimodal_pdf_streaming" track-metadata-region-tag="text_gen_multimodal_pdf_streaming" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/text_generation.py/HEAD/text_gen_multimodal_pdf_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/text_generation.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/text_generation.py" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_pdf_streaming" track-metadata-region-tag="text_gen_multimodal_pdf_streaming" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">sample_pdf</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">files</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">upload</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">file</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-n">media</span> <span class="devsite-syntax-o">/</span> <span class="devsite-syntax-s2">"test.pdf"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">models</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">generate_content_stream</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">contents</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s2">"Give me a summary of this document:"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">sample_pdf</span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"_"</span> <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-mi">80</span><span class="devsite-syntax-p">)</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/text_generation.py#L207-L218" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/text_generation.py#text_gen_multimodal_pdf_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/text_generation.py" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_pdf_streaming"><span class="devsite-syntax-n">text_generation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_pdf_streaming-GO" track-metadata-position="text_gen_multimodal_pdf_streaming" track-metadata-region-tag="text_gen_multimodal_pdf_streaming" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/text_generation.go/HEAD/text_gen_multimodal_pdf_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/text_generation.go" language="GO" data-github-path="google-gemini/api-examples/go/text_generation.go" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_pdf_streaming" track-metadata-region-tag="text_gen_multimodal_pdf_streaming" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Files</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFromPath</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">filepath</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Join</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">getMedia</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"test.pdf"</span><span class="devsite-syntax-p">),</span><span class="devsite-syntax-w"> </span>
<span class="devsite-syntax-w">	</span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">UploadFileConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"application/pdf"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Give me a summary of this document:"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewPartFromURI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">URI</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">file</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">MIMEType</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromParts</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">range</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Models</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GenerateContentStream</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">contents</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">result</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Candidates</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Parts</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">].</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/text_generation.go#L492-L531" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/text_generation.go#text_gen_multimodal_pdf_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/text_generation.go" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_pdf_streaming"><span class="devsite-syntax-nx">text_generation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="text_gen_multimodal_pdf_streaming-SHELL" track-metadata-position="text_gen_multimodal_pdf_streaming" track-metadata-region-tag="text_gen_multimodal_pdf_streaming" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh/HEAD/text_gen_multimodal_pdf_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/text_generation.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-git-revision="HEAD" data-region-tag="text_gen_multimodal_pdf_streaming" track-metadata-region-tag="text_gen_multimodal_pdf_streaming" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr"><span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>file<span class="devsite-syntax-w"> </span>-b<span class="devsite-syntax-w"> </span>--mime-type<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">PDF_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>wc<span class="devsite-syntax-w"> </span>-c<span class="devsite-syntax-w"> &lt; </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">PDF_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-o">=</span>TEXT


<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">$MIME_TYPE</span>
<span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-o">=</span>upload-header.tmp

<span class="devsite-syntax-c1"># Initial resumable request defining metadata.</span>
<span class="devsite-syntax-c1"># The upload url is in the response headers dump them to a file.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">BASE_URL</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">/upload/v1beta/files?key=</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">GEMINI_API_KEY</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-D<span class="devsite-syntax-w"> </span>upload-header.tmp<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Protocol: resumable"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: start"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Header-Content-Type: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">MIME_TYPE</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Type: application/json"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"{'file': {'display_name': '</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">DISPLAY_NAME</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">'}}"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null

<span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>grep<span class="devsite-syntax-w"> </span>-i<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"x-goog-upload-url: "</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>cut<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-s2">" "</span><span class="devsite-syntax-w"> </span>-f2<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>tr<span class="devsite-syntax-w"> </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"\r"</span><span class="devsite-syntax-k">)</span>
rm<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">tmp_header_file</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span>

<span class="devsite-syntax-c1"># Upload the actual bytes.</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">upload_url</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Content-Length: </span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">NUM_BYTES</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Offset: 0"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"X-Goog-Upload-Command: upload, finalize"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">  </span>--data-binary<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"@</span><span class="devsite-syntax-si">${</span><span class="devsite-syntax-nv">PDF_PATH</span><span class="devsite-syntax-si">}</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>file_info.json

<span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-k">$(</span>jq<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">".file.uri"</span><span class="devsite-syntax-w"> </span>file_info.json<span class="devsite-syntax-k">)</span>
<span class="devsite-syntax-nb">echo</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">file_uri</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$file_uri</span>

<span class="devsite-syntax-c1"># Now generate content using that file</span>
curl<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:streamGenerateContent?alt=sse&amp;key=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-s2">"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">      "contents": [{</span>
<span class="devsite-syntax-s1">        "parts":[</span>
<span class="devsite-syntax-s1">          {"text": "Can you add a few more lines to this poem?"},</span>
<span class="devsite-syntax-s1">          {"file_data":{"mime_type": "application/pdf", "file_uri": '</span><span class="devsite-syntax-nv">$file_uri</span><span class="devsite-syntax-s1">'}}]</span>
<span class="devsite-syntax-s1">        }]</span>
<span class="devsite-syntax-s1">       }'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> &gt; </span>response.json

cat<span class="devsite-syntax-w"> </span>response.json
echo<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/text_generation.sh#L445-L491" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh#text_gen_multimodal_pdf_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/text_generation.sh" data-indented-block="" data-regexp="" data-region-tag="text_gen_multimodal_pdf_streaming">text_generation.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
<section>
<h3 id="chat_1" data-text="Chat" tabindex="-1">Chat</h3>
<devsite-selector>
<section>
<h3 id="chat_streaming-PYTHON" track-metadata-position="chat_streaming" track-metadata-region-tag="chat_streaming" data-text="Python" tabindex="-1">Python</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/python/chat.py/HEAD/chat_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/python/chat.py" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/python/chat.py" language="PYTHON" data-github-path="google-gemini/api-examples/python/chat.py" data-git-revision="HEAD" data-region-tag="chat_streaming" track-metadata-region-tag="chat_streaming" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">genai</span>
<span class="devsite-syntax-kn">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">google.genai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kn">import</span> <span class="devsite-syntax-n">types</span>

<span class="devsite-syntax-n">client</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">genai</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Client</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-n">chat</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">client</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">chats</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">create</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">model</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">history</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span>
        <span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">role</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"user"</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Hello"</span><span class="devsite-syntax-p">)]),</span>
        <span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Content</span><span class="devsite-syntax-p">(</span>
            <span class="devsite-syntax-n">role</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"model"</span><span class="devsite-syntax-p">,</span>
            <span class="devsite-syntax-n">parts</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-p">[</span>
                <span class="devsite-syntax-n">types</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Part</span><span class="devsite-syntax-p">(</span>
                    <span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Great to meet you. What would you like to know?"</span>
                <span class="devsite-syntax-p">)</span>
            <span class="devsite-syntax-p">],</span>
        <span class="devsite-syntax-p">),</span>
    <span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">chat</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">send_message_stream</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">message</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"I have 2 dogs in my house."</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"_"</span> <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-mi">80</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-n">response</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">chat</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">send_message_stream</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">message</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"How many paws are in my house?"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">for</span> <span class="devsite-syntax-n">chunk</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">response</span><span class="devsite-syntax-p">:</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chunk</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"_"</span> <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-mi">80</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-nb">print</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">chat</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">get_history</span><span class="devsite-syntax-p">())</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/python/chat.py#L52-L79" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/python/chat.py#chat_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/python/chat.py" data-indented-block="" data-regexp="" data-region-tag="chat_streaming"><span class="devsite-syntax-n">chat</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">py</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="chat_streaming-JAVASCRIPT" track-metadata-position="chat_streaming" track-metadata-region-tag="chat_streaming" data-text="Node.js" tabindex="-1">Node.js</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/javascript/chat.js/HEAD/chat_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/chat.js" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/javascript/chat.js" language="JAVASCRIPT" data-github-path="google-gemini/api-examples/javascript/chat.js" data-git-revision="HEAD" data-region-tag="chat_streaming" track-metadata-region-tag="chat_streaming" dir="ltr" is-upgraded syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// Make sure to include the following import:</span>
<span class="devsite-syntax-c1">// import {GoogleGenAI} from '@google/genai';</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">GoogleGenAI</span><span class="devsite-syntax-p">({</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">apiKey</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">process</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">env</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">ai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">chats</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">create</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">model</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">history</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">role</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"user"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Hello"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">role</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"model"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">parts</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"Great to meet you. What would you like to know?"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">},</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">],</span>
<span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Streaming response for first message:"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">stream1</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">sendMessageStream</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">message</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"I have 2 dogs in my house."</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">of</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">stream1</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"_"</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">repeat</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mf">80</span><span class="devsite-syntax-p">));</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"Streaming response for second message:"</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">stream2</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">sendMessageStream</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">message</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"How many paws are in my house?"</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">await</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">of</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">stream2</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">text</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s2">"_"</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">repeat</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mf">80</span><span class="devsite-syntax-p">));</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">getHistory</span><span class="devsite-syntax-p">());</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/javascript/chat.js#L66-L101" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/javascript/chat.js#chat_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/javascript/chat.js" data-indented-block="" data-regexp="" data-region-tag="chat_streaming"><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">js</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="chat_streaming-GO" track-metadata-position="chat_streaming" track-metadata-region-tag="chat_streaming" data-text="Go" tabindex="-1">Go</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/api-examples/go/chat.go/HEAD/chat_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/api-examples/blob/HEAD/go/chat.go" track-metadata-snippet-file-url="https://github.com/google-gemini/api-examples/blob/HEAD/go/chat.go" language="GO" data-github-path="google-gemini/api-examples/go/chat.go" data-git-revision="HEAD" data-region-tag="chat_streaming" track-metadata-region-tag="chat_streaming" dir="ltr" is-upgraded syntax="Go"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Background</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewClient</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span>&amp;<span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ClientConfig</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">APIKey</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">os</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Getenv</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"GEMINI_API_KEY"</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">Backend</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">BackendGeminiAPI</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">history</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[]</span><span class="devsite-syntax-o">*</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Content</span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Hello"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleUser</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">NewContentFromText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"Great to meet you. What would you like to know?"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">RoleModel</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">client</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Chats</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Create</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"gemini-2.0-flash"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">history</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">range</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SendMessageStream</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"I have 2 dogs in my house."</span><span class="devsite-syntax-p">})</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">strings</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Repeat</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"_"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">64</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">:=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">range</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">SendMessageStream</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">ctx</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">genai</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Part</span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"How many paws are in my house?"</span><span class="devsite-syntax-p">})</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">!=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kc">nil</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">		</span><span class="devsite-syntax-nx">log</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Fatal</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">err</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">chunk</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Text</span><span class="devsite-syntax-p">())</span>
<span class="devsite-syntax-w">	</span><span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">strings</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Repeat</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"_"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">64</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">fmt</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">Println</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">History</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">false</span><span class="devsite-syntax-p">))</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/api-examples/blob/856e8a0f566a2810625cecabba6e2ab1fe97e496/go/chat.go#L54-L88" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/api-examples/go/chat.go#chat_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/api-examples/go/chat.go" data-indented-block="" data-regexp="" data-region-tag="chat_streaming"><span class="devsite-syntax-nx">chat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">go</span></a></div></code></pre></devsite-code>
</div>



























                </section>
<section>
<h3 id="chat_streaming-SHELL" track-metadata-position="chat_streaming" track-metadata-region-tag="chat_streaming" data-text="Shell" tabindex="-1">Shell</h3>
                  






  
  














  



<div class="github-docwidget-gitinclude-code">

  
    
  
  











  









  




  




  <div></div><devsite-code><pre suppresswarning="suppresswarning" translate="no" class="devsite-click-to-copy" track-metadata-position="google-gemini/deprecated-generative-ai-python/samples/rest/chat.sh/HEAD/chat_streaming" data-code-snippet="true" data-github-includecode-link="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/chat.sh" track-metadata-snippet-file-url="https://github.com/google-gemini/deprecated-generative-ai-python/blob/HEAD/samples/rest/chat.sh" language="SHELL" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/chat.sh" data-git-revision="HEAD" data-region-tag="chat_streaming" track-metadata-region-tag="chat_streaming" dir="ltr" is-upgraded syntax="Bash"><code translate="no" dir="ltr">curl<span class="devsite-syntax-w"> </span>https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:streamGenerateContent?alt<span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">sse&amp;key</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-nv">$GEMINI_API_KEY</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-H<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'Content-Type: application/json'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-X<span class="devsite-syntax-w"> </span>POST<span class="devsite-syntax-w"> </span><span class="devsite-syntax-se">\</span>
<span class="devsite-syntax-w">    </span>-d<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'{</span>
<span class="devsite-syntax-s1">      "contents": [</span>
<span class="devsite-syntax-s1">        {"role":"user",</span>
<span class="devsite-syntax-s1">         "parts":[{</span>
<span class="devsite-syntax-s1">           "text": "Hello"}]},</span>
<span class="devsite-syntax-s1">        {"role": "model",</span>
<span class="devsite-syntax-s1">         "parts":[{</span>
<span class="devsite-syntax-s1">           "text": "Great to meet you. What would you like to know?"}]},</span>
<span class="devsite-syntax-s1">        {"role":"user",</span>
<span class="devsite-syntax-s1">         "parts":[{</span>
<span class="devsite-syntax-s1">           "text": "I have two dogs in my house. How many paws are in my house?"}]},</span>
<span class="devsite-syntax-s1">      ]</span>
<span class="devsite-syntax-s1">    }'</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">2</span>&gt;<span class="devsite-syntax-w"> </span>/dev/null<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">|</span><span class="devsite-syntax-w"> </span>grep<span class="devsite-syntax-w"> </span><span class="devsite-syntax-s2">"text"</span><div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/google-gemini/deprecated-generative-ai-python/blob/658b54b4e43895cb0e6f3bb0a6011bbaf98be5f0/samples/rest/chat.sh#L27-L43" class="gc-analytics-event" data-category="github_link" data-label="google-gemini/deprecated-generative-ai-python/samples/rest/chat.sh#chat_streaming" data-code-snippet="true" data-git-revision="HEAD" data-github-path="google-gemini/deprecated-generative-ai-python/samples/rest/chat.sh" data-indented-block="" data-regexp="" data-region-tag="chat_streaming">chat.sh</a></div></code></pre></devsite-code>
</div>



























                </section>
</devsite-selector>
</section>
</devsite-selector>
</div>
</div>
<div class="column-container">
<div class="reference">
<section id="body.response_body">
<h3 id="response-body_1" data-text="Response body" tabindex="-1">Response body</h3>
<p>If successful, the response body contains a stream of <code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.GenerateContentResponse">GenerateContentResponse</a></code> instances.</p>
</section>
</div>
</div>
</section>
</div><div itemscope="" itemtype="http://developers.google.com/ReferenceObject"><h2 id="generatecontentresponse" data-text="GenerateContentResponse" tabindex="-1">GenerateContentResponse</h2><a name="v1beta.GenerateContentResponse"></a>
<meta content="GenerateContentResponse" itemprop="name"/>
<meta content="/api/rest/v1beta/GenerateContentResponse" itemprop="path"/>
<section class="prototype" id="/api/rest/v1beta/GenerateContentResponse">
<ul class="toc">
<li><a href="#SCHEMA_REPRESENTATION">JSON representation</a></li><li><a href="#PromptFeedback">PromptFeedback</a>
<ul>
<li><a href="#PromptFeedback.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#BlockReason">BlockReason</a></li><li><a href="#UsageMetadata">UsageMetadata</a>
<ul>
<li><a href="#UsageMetadata.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li>
</ul>
<div class="column-container">
<div class="reference">
<section id="description">
<p>Response from the model supporting multiple candidate responses.</p><p>Safety ratings and content filtering are reported for both prompt in <code translate="no" dir="ltr">GenerateContentResponse.prompt_feedback</code> and for each candidate in <code translate="no" dir="ltr">finishReason</code> and in <code translate="no" dir="ltr">safetyRatings</code>. The API:  - Returns either all requested candidates or none of them  - Returns no candidates at all only if there was something wrong with the  prompt (check <code translate="no" dir="ltr">promptFeedback</code>)  - Reports feedback on each candidate in <code translate="no" dir="ltr">finishReason</code> and  <code translate="no" dir="ltr">safetyRatings</code>.</p>
</section>
<section id="FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="FIELDS.candidates">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">candidates[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.Candidate">Candidate</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Candidate responses from the model.</p>
</div>
</div>
</section>
<section id="FIELDS.prompt_feedback">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">promptFeedback</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#PromptFeedback">PromptFeedback</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Returns the prompt's feedback related to the content filters.</p>
</div>
</div>
</section>
<section id="FIELDS.usage_metadata">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">usageMetadata</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#UsageMetadata">UsageMetadata</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. Metadata on the generation requests' token usage.</p>
</div>
</div>
</section>
<section id="FIELDS.model_version">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">modelVersion</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Output only. The model version used to generate the response.</p>
</div>
</div>
</section>
<section id="FIELDS.response_id">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">responseId</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Output only. responseId is used to identify each response.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"candidates"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.Candidate">Candidate</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"promptFeedback"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#PromptFeedback">PromptFeedback</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"usageMetadata"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#UsageMetadata">UsageMetadata</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"modelVersion"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"responseId"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="PromptFeedback" data-text="PromptFeedback" tabindex="-1">PromptFeedback</h2>
<div class="column-container">
<div class="reference">
<section id="PromptFeedback.description">
<p>A set of the feedback metadata the prompt specified in <code translate="no" dir="ltr">GenerateContentRequest.content</code>.</p>
</section>
<section id="PromptFeedback.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="PromptFeedback.FIELDS.block_reason">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">blockReason</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#BlockReason">BlockReason</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. If set, the prompt was blocked and no candidates are returned. Rephrase the prompt.</p>
</div>
</div>
</section>
<section id="PromptFeedback.FIELDS.safety_ratings">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">safetyRatings[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.SafetyRating">SafetyRating</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Ratings for safety of the prompt. There is at most one rating per category.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="PromptFeedback.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"blockReason"</span><span class="pun">: </span><span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#BlockReason">BlockReason</a></code>)</span><span class="pun">,</span>
  <span class="str">"safetyRatings"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.SafetyRating">SafetyRating</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="BlockReason" data-text="BlockReason" tabindex="-1">BlockReason</h2>
<section id="BlockReason.description">
<p>Specifies the reason why the prompt was blocked.</p>
</section>
<section id="BlockReason.ENUM_VALUES">
<table class="constants responsive fixed" id="BlockReason.ENUM_VALUES-table">
<colgroup>
<col width="25%"/>
<col/>
</colgroup>
<thead>
<tr>
<th colspan="2">Enums</th>
</tr>
</thead>
<tbody>
<tr id="BlockReason.ENUM_VALUES.BLOCK_REASON_UNSPECIFIED">
<td><code class="apitype" translate="no" dir="ltr">BLOCK_REASON_UNSPECIFIED</code></td>
<td>Default value. This value is unused.</td>
</tr>
<tr id="BlockReason.ENUM_VALUES.SAFETY">
<td><code class="apitype" translate="no" dir="ltr">SAFETY</code></td>
<td>Prompt was blocked due to safety reasons. Inspect <code translate="no" dir="ltr">safetyRatings</code> to understand which safety category blocked it.</td>
</tr>
<tr id="BlockReason.ENUM_VALUES.OTHER">
<td><code class="apitype" translate="no" dir="ltr">OTHER</code></td>
<td>Prompt was blocked due to unknown reasons.</td>
</tr>
<tr id="BlockReason.ENUM_VALUES.BLOCKLIST">
<td><code class="apitype" translate="no" dir="ltr">BLOCKLIST</code></td>
<td>Prompt was blocked due to the terms which are included from the terminology blocklist.</td>
</tr>
<tr id="BlockReason.ENUM_VALUES.PROHIBITED_CONTENT">
<td><code class="apitype" translate="no" dir="ltr">PROHIBITED_CONTENT</code></td>
<td>Prompt was blocked due to prohibited content.</td>
</tr>
<tr id="BlockReason.ENUM_VALUES.IMAGE_SAFETY">
<td><code class="apitype" translate="no" dir="ltr">IMAGE_SAFETY</code></td>
<td>Candidates blocked due to unsafe image generation content.</td>
</tr>
</tbody>
</table>
</section>
<h2 id="UsageMetadata" data-text="UsageMetadata" tabindex="-1">UsageMetadata</h2>
<div class="column-container">
<div class="reference">
<section id="UsageMetadata.description">
<p>Metadata on the generation request's token usage.</p>
</section>
<section id="UsageMetadata.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="UsageMetadata.FIELDS.prompt_token_count">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">promptTokenCount</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Number of tokens in the prompt. When <code translate="no" dir="ltr">cachedContent</code> is set, this is still the total effective prompt size meaning this includes the number of tokens in the cached content.</p>
</div>
</div>
</section>
<section id="UsageMetadata.FIELDS.cached_content_token_count">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">cachedContentTokenCount</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Number of tokens in the cached part of the prompt (the cached content)</p>
</div>
</div>
</section>
<section id="UsageMetadata.FIELDS.candidates_token_count">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">candidatesTokenCount</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Total number of tokens across all the generated response candidates.</p>
</div>
</div>
</section>
<section id="UsageMetadata.FIELDS.tool_use_prompt_token_count">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">toolUsePromptTokenCount</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Output only. Number of tokens present in tool-use prompt(s).</p>
</div>
</div>
</section>
<section id="UsageMetadata.FIELDS.thoughts_token_count">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">thoughtsTokenCount</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Output only. Number of tokens of thoughts for thinking models.</p>
</div>
</div>
</section>
<section id="UsageMetadata.FIELDS.total_token_count">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">totalTokenCount</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Total token count for the generation request (prompt + response candidates).</p>
</div>
</div>
</section>
<section id="UsageMetadata.FIELDS.prompt_tokens_details">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">promptTokensDetails[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.ModalityTokenCount">ModalityTokenCount</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. List of modalities that were processed in the request input.</p>
</div>
</div>
</section>
<section id="UsageMetadata.FIELDS.cache_tokens_details">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">cacheTokensDetails[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.ModalityTokenCount">ModalityTokenCount</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. List of modalities of the cached content in the request input.</p>
</div>
</div>
</section>
<section id="UsageMetadata.FIELDS.candidates_tokens_details">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">candidatesTokensDetails[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.ModalityTokenCount">ModalityTokenCount</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. List of modalities that were returned in the response.</p>
</div>
</div>
</section>
<section id="UsageMetadata.FIELDS.tool_use_prompt_tokens_details">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">toolUsePromptTokensDetails[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.ModalityTokenCount">ModalityTokenCount</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. List of modalities that were processed for tool-use request inputs.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="UsageMetadata.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"promptTokenCount"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"cachedContentTokenCount"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"candidatesTokenCount"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"toolUsePromptTokenCount"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"thoughtsTokenCount"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"totalTokenCount"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"promptTokensDetails"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.ModalityTokenCount">ModalityTokenCount</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"cacheTokensDetails"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.ModalityTokenCount">ModalityTokenCount</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"candidatesTokensDetails"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.ModalityTokenCount">ModalityTokenCount</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"toolUsePromptTokensDetails"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.ModalityTokenCount">ModalityTokenCount</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
</section>
</div><div itemscope="" itemtype="http://developers.google.com/ReferenceObject"><h2 id="candidate" data-text="Candidate" tabindex="-1">Candidate</h2><a name="v1beta.Candidate"></a>
<meta content="Candidate" itemprop="name"/>
<meta content="/api/rest/v1beta/Candidate" itemprop="path"/>
<section class="prototype" id="/api/rest/v1beta/Candidate">
<ul class="toc">
<li><a href="#SCHEMA_REPRESENTATION">JSON representation</a></li><li><a href="#FinishReason">FinishReason</a></li><li><a href="#GroundingAttribution">GroundingAttribution</a>
<ul>
<li><a href="#GroundingAttribution.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#AttributionSourceId">AttributionSourceId</a>
<ul>
<li><a href="#AttributionSourceId.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#GroundingPassageId">GroundingPassageId</a>
<ul>
<li><a href="#GroundingPassageId.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#SemanticRetrieverChunk">SemanticRetrieverChunk</a>
<ul>
<li><a href="#SemanticRetrieverChunk.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#GroundingMetadata">GroundingMetadata</a>
<ul>
<li><a href="#GroundingMetadata.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#SearchEntryPoint">SearchEntryPoint</a>
<ul>
<li><a href="#SearchEntryPoint.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#GroundingChunk">GroundingChunk</a>
<ul>
<li><a href="#GroundingChunk.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#Web">Web</a>
<ul>
<li><a href="#Web.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#RetrievedContext">RetrievedContext</a>
<ul>
<li><a href="#RetrievedContext.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#Maps">Maps</a>
<ul>
<li><a href="#Maps.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#PlaceAnswerSources">PlaceAnswerSources</a>
<ul>
<li><a href="#PlaceAnswerSources.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#ReviewSnippet">ReviewSnippet</a>
<ul>
<li><a href="#ReviewSnippet.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#GroundingSupport">GroundingSupport</a>
<ul>
<li><a href="#GroundingSupport.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#Segment">Segment</a>
<ul>
<li><a href="#Segment.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#RetrievalMetadata">RetrievalMetadata</a>
<ul>
<li><a href="#RetrievalMetadata.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#LogprobsResult">LogprobsResult</a>
<ul>
<li><a href="#LogprobsResult.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#TopCandidates">TopCandidates</a>
<ul>
<li><a href="#TopCandidates.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#Candidate">Candidate</a>
<ul>
<li><a href="#Candidate.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#UrlContextMetadata">UrlContextMetadata</a>
<ul>
<li><a href="#UrlContextMetadata.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#UrlMetadata">UrlMetadata</a>
<ul>
<li><a href="#UrlMetadata.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#UrlRetrievalStatus">UrlRetrievalStatus</a></li>
</ul>
<div class="column-container">
<div class="reference">
<section id="description">
<p>A response candidate generated from the model.</p>
</section>
<section id="FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="FIELDS.content">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">content</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#Content">Content</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. Generated content returned from the model.</p>
</div>
</div>
</section>
<section id="FIELDS.finish_reason">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">finishReason</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#FinishReason">FinishReason</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Output only. The reason why the model stopped generating tokens.</p><p>If empty, the model has not stopped generating tokens.</p>
</div>
</div>
</section>
<section id="FIELDS.safety_ratings">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">safetyRatings[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.SafetyRating">SafetyRating</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>List of ratings for the safety of a response candidate.</p><p>There is at most one rating per category.</p>
</div>
</div>
</section>
<section id="FIELDS.citation_metadata">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">citationMetadata</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.CitationMetadata">CitationMetadata</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. Citation information for model-generated candidate.</p><p>This field may be populated with recitation information for any text included in the <code translate="no" dir="ltr">content</code>. These are passages that are "recited" from copyrighted material in the foundational LLM's training data.</p>
</div>
</div>
</section>
<section id="FIELDS.token_count">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">tokenCount</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Output only. Token count for this candidate.</p>
</div>
</div>
</section>
<section id="FIELDS.grounding_attributions">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">groundingAttributions[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#GroundingAttribution">GroundingAttribution</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. Attribution information for sources that contributed to a grounded answer.</p><p>This field is populated for <code translate="no" dir="ltr">GenerateAnswer</code> calls.</p>
</div>
</div>
</section>
<section id="FIELDS.grounding_metadata">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">groundingMetadata</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#GroundingMetadata">GroundingMetadata</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. Grounding metadata for the candidate.</p><p>This field is populated for <code translate="no" dir="ltr">GenerateContent</code> calls.</p>
</div>
</div>
</section>
<section id="FIELDS.avg_logprobs">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">avgLogprobs</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">number</code>
</span>
</div>
<div class="field-description">
<p>Output only. Average log probability score of the candidate.</p>
</div>
</div>
</section>
<section id="FIELDS.logprobs_result">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">logprobsResult</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#LogprobsResult">LogprobsResult</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. Log-likelihood scores for the response tokens and top tokens</p>
</div>
</div>
</section>
<section id="FIELDS.url_context_metadata">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">urlContextMetadata</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#UrlContextMetadata">UrlContextMetadata</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. Metadata related to url context retrieval tool.</p>
</div>
</div>
</section>
<section id="FIELDS.index">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">index</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Output only. Index of the candidate in the list of response candidates.</p>
</div>
</div>
</section>
<section id="FIELDS.finish_message">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">finishMessage</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. Output only. Details the reason why the model stopped generating tokens. This is populated only when <code translate="no" dir="ltr">finishReason</code> is set.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"content"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/caching#Content">Content</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"finishReason"</span><span class="pun">: </span><span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#FinishReason">FinishReason</a></code>)</span><span class="pun">,</span>
  <span class="str">"safetyRatings"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.SafetyRating">SafetyRating</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"citationMetadata"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.CitationMetadata">CitationMetadata</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"tokenCount"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"groundingAttributions"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#GroundingAttribution">GroundingAttribution</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"groundingMetadata"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#GroundingMetadata">GroundingMetadata</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"avgLogprobs"</span><span class="pun">: </span><span class="kwd">number</span><span class="pun">,</span>
  <span class="str">"logprobsResult"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#LogprobsResult">LogprobsResult</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"urlContextMetadata"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#UrlContextMetadata">UrlContextMetadata</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"index"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"finishMessage"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="FinishReason" data-text="FinishReason" tabindex="-1">FinishReason</h2>
<section id="FinishReason.description">
<p>Defines the reason why the model stopped generating tokens.</p>
</section>
<section id="FinishReason.ENUM_VALUES">
<table class="constants responsive fixed" id="FinishReason.ENUM_VALUES-table">
<colgroup>
<col width="25%"/>
<col/>
</colgroup>
<thead>
<tr>
<th colspan="2">Enums</th>
</tr>
</thead>
<tbody>
<tr id="FinishReason.ENUM_VALUES.FINISH_REASON_UNSPECIFIED">
<td><code class="apitype" translate="no" dir="ltr">FINISH_REASON_UNSPECIFIED</code></td>
<td>Default value. This value is unused.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.STOP">
<td><code class="apitype" translate="no" dir="ltr">STOP</code></td>
<td>Natural stop point of the model or provided stop sequence.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.MAX_TOKENS">
<td><code class="apitype" translate="no" dir="ltr">MAX_TOKENS</code></td>
<td>The maximum number of tokens as specified in the request was reached.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.SAFETY">
<td><code class="apitype" translate="no" dir="ltr">SAFETY</code></td>
<td>The response candidate content was flagged for safety reasons.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.RECITATION">
<td><code class="apitype" translate="no" dir="ltr">RECITATION</code></td>
<td>The response candidate content was flagged for recitation reasons.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.LANGUAGE">
<td><code class="apitype" translate="no" dir="ltr">LANGUAGE</code></td>
<td>The response candidate content was flagged for using an unsupported language.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.OTHER">
<td><code class="apitype" translate="no" dir="ltr">OTHER</code></td>
<td>Unknown reason.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.BLOCKLIST">
<td><code class="apitype" translate="no" dir="ltr">BLOCKLIST</code></td>
<td>Token generation stopped because the content contains forbidden terms.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.PROHIBITED_CONTENT">
<td><code class="apitype" translate="no" dir="ltr">PROHIBITED_CONTENT</code></td>
<td>Token generation stopped for potentially containing prohibited content.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.SPII">
<td><code class="apitype" translate="no" dir="ltr">SPII</code></td>
<td>Token generation stopped because the content potentially contains Sensitive Personally Identifiable Information (SPII).</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.MALFORMED_FUNCTION_CALL">
<td><code class="apitype" translate="no" dir="ltr">MALFORMED_FUNCTION_CALL</code></td>
<td>The function call generated by the model is invalid.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.IMAGE_SAFETY">
<td><code class="apitype" translate="no" dir="ltr">IMAGE_SAFETY</code></td>
<td>Token generation stopped because generated images contain safety violations.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.IMAGE_PROHIBITED_CONTENT">
<td><code class="apitype" translate="no" dir="ltr">IMAGE_PROHIBITED_CONTENT</code></td>
<td>Image generation stopped because generated images has other prohibited content.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.IMAGE_OTHER">
<td><code class="apitype" translate="no" dir="ltr">IMAGE_OTHER</code></td>
<td>Image generation stopped because of other miscellaneous issue.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.NO_IMAGE">
<td><code class="apitype" translate="no" dir="ltr">NO_IMAGE</code></td>
<td>The model was expected to generate an image, but none was generated.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.IMAGE_RECITATION">
<td><code class="apitype" translate="no" dir="ltr">IMAGE_RECITATION</code></td>
<td>Image generation stopped due to recitation.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.UNEXPECTED_TOOL_CALL">
<td><code class="apitype" translate="no" dir="ltr">UNEXPECTED_TOOL_CALL</code></td>
<td>Model generated a tool call but no tools were enabled in the request.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.TOO_MANY_TOOL_CALLS">
<td><code class="apitype" translate="no" dir="ltr">TOO_MANY_TOOL_CALLS</code></td>
<td>Model called too many tools consecutively, thus the system exited execution.</td>
</tr>
<tr id="FinishReason.ENUM_VALUES.MISSING_THOUGHT_SIGNATURE">
<td><code class="apitype" translate="no" dir="ltr">MISSING_THOUGHT_SIGNATURE</code></td>
<td>Request has at least one thought signature missing.</td>
</tr>
</tbody>
</table>
</section>
<h2 id="GroundingAttribution" data-text="GroundingAttribution" tabindex="-1">GroundingAttribution</h2>
<div class="column-container">
<div class="reference">
<section id="GroundingAttribution.description">
<p>Attribution for a source that contributed to an answer.</p>
</section>
<section id="GroundingAttribution.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="GroundingAttribution.FIELDS.source_id">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">sourceId</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#AttributionSourceId">AttributionSourceId</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Output only. Identifier for the source contributing to this attribution.</p>
</div>
</div>
</section>
<section id="GroundingAttribution.FIELDS.content">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">content</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#Content">Content</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Grounding source content that makes up this attribution.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="GroundingAttribution.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"sourceId"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#AttributionSourceId">AttributionSourceId</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"content"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/caching#Content">Content</a></code>)</span>
  <span class="pun">}</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="AttributionSourceId" data-text="AttributionSourceId" tabindex="-1">AttributionSourceId</h2>
<div class="column-container">
<div class="reference">
<section id="AttributionSourceId.description">
<p>Identifier for the source contributing to this attribution.</p>
</section>
<section id="AttributionSourceId.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<div class="field-entry union-type">
<div class="signature">
<tr class="alt" id="AttributionSourceId.FIELDS.source">
<span class="field-name">
<td><code translate="no" dir="ltr">source</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">Union type</code>
</span>
</tr>
<div class="union-type-preamble">
<div><code translate="no" dir="ltr">source</code> can be only one of the following:</div>
<section id="AttributionSourceId.FIELDS.grounding_passage">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">groundingPassage</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#GroundingPassageId">GroundingPassageId</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Identifier for an inline passage.</p>
</div>
</div>
</section>
<section id="AttributionSourceId.FIELDS.semantic_retriever_chunk">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">semanticRetrieverChunk</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#SemanticRetrieverChunk">SemanticRetrieverChunk</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Identifier for a <code translate="no" dir="ltr">Chunk</code> fetched via Semantic Retriever.</p>
</div>
</div>
</section>
</div>
</div>
</div>
</section>
</div>
<div class="second-column">
<section id="AttributionSourceId.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>

  <span class="com">// source</span>
  <span class="str">"groundingPassage"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#GroundingPassageId">GroundingPassageId</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"semanticRetrieverChunk"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#SemanticRetrieverChunk">SemanticRetrieverChunk</a></code>)</span>
  <span class="pun">}</span>
  <span class="com">// Union type</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="GroundingPassageId" data-text="GroundingPassageId" tabindex="-1">GroundingPassageId</h2>
<div class="column-container">
<div class="reference">
<section id="GroundingPassageId.description">
<p>Identifier for a part within a <code translate="no" dir="ltr">GroundingPassage</code>.</p>
</section>
<section id="GroundingPassageId.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="GroundingPassageId.FIELDS.passage_id">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">passageId</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Output only. ID of the passage matching the <code translate="no" dir="ltr">GenerateAnswerRequest</code>'s <code translate="no" dir="ltr">GroundingPassage.id</code>.</p>
</div>
</div>
</section>
<section id="GroundingPassageId.FIELDS.part_index">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">partIndex</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Output only. Index of the part within the <code translate="no" dir="ltr">GenerateAnswerRequest</code>'s <code translate="no" dir="ltr">GroundingPassage.content</code>.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="GroundingPassageId.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"passageId"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"partIndex"</span><span class="pun">: </span><span class="kwd">integer</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="SemanticRetrieverChunk" data-text="SemanticRetrieverChunk" tabindex="-1">SemanticRetrieverChunk</h2>
<div class="column-container">
<div class="reference">
<section id="SemanticRetrieverChunk.description">
<p>Identifier for a <code translate="no" dir="ltr">Chunk</code> retrieved via Semantic Retriever specified in the <code translate="no" dir="ltr">GenerateAnswerRequest</code> using <code translate="no" dir="ltr">SemanticRetrieverConfig</code>.</p>
</section>
<section id="SemanticRetrieverChunk.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="SemanticRetrieverChunk.FIELDS.source">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">source</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Output only. Name of the source matching the request's <code translate="no" dir="ltr">SemanticRetrieverConfig.source</code>. Example: <code translate="no" dir="ltr">corpora/123</code> or <code translate="no" dir="ltr">corpora/123/documents/abc</code></p>
</div>
</div>
</section>
<section id="SemanticRetrieverChunk.FIELDS.chunk">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">chunk</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Output only. Name of the <code translate="no" dir="ltr">Chunk</code> containing the attributed text. Example: <code translate="no" dir="ltr">corpora/123/documents/abc/chunks/xyz</code></p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SemanticRetrieverChunk.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"source"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"chunk"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="GroundingMetadata" data-text="GroundingMetadata" tabindex="-1">GroundingMetadata</h2>
<div class="column-container">
<div class="reference">
<section id="GroundingMetadata.description">
<p>Metadata returned to client when grounding is enabled.</p>
</section>
<section id="GroundingMetadata.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="GroundingMetadata.FIELDS.grounding_chunks">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">groundingChunks[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#GroundingChunk">GroundingChunk</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>List of supporting references retrieved from specified grounding source.</p>
</div>
</div>
</section>
<section id="GroundingMetadata.FIELDS.grounding_supports">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">groundingSupports[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#GroundingSupport">GroundingSupport</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>List of grounding support.</p>
</div>
</div>
</section>
<section id="GroundingMetadata.FIELDS.web_search_queries">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">webSearchQueries[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Web search queries for the following-up web search.</p>
</div>
</div>
</section>
<section id="GroundingMetadata.FIELDS.search_entry_point">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">searchEntryPoint</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#SearchEntryPoint">SearchEntryPoint</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Google search entry for the following-up web searches.</p>
</div>
</div>
</section>
<section id="GroundingMetadata.FIELDS.retrieval_metadata">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">retrievalMetadata</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#RetrievalMetadata">RetrievalMetadata</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Metadata related to retrieval in the grounding flow.</p>
</div>
</div>
</section>
<section id="GroundingMetadata.FIELDS.google_maps_widget_context_token">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">googleMapsWidgetContextToken</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. Resource name of the Google Maps widget context token that can be used with the PlacesContextElement widget in order to render contextual data. Only populated in the case that grounding with Google Maps is enabled.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="GroundingMetadata.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"groundingChunks"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#GroundingChunk">GroundingChunk</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"groundingSupports"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#GroundingSupport">GroundingSupport</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"webSearchQueries"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="kwd">string</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"searchEntryPoint"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#SearchEntryPoint">SearchEntryPoint</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"retrievalMetadata"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#RetrievalMetadata">RetrievalMetadata</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"googleMapsWidgetContextToken"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="SearchEntryPoint" data-text="SearchEntryPoint" tabindex="-1">SearchEntryPoint</h2>
<div class="column-container">
<div class="reference">
<section id="SearchEntryPoint.description">
<p>Google search entry point.</p>
</section>
<section id="SearchEntryPoint.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="SearchEntryPoint.FIELDS.rendered_content">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">renderedContent</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. Web content snippet that can be embedded in a web page or an app webview.</p>
</div>
</div>
</section>
<section id="SearchEntryPoint.FIELDS.sdk_blob">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">sdkBlob</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string (<a href="https://developers.google.com/discovery/v1/type-format">bytes</a> format)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Base64 encoded JSON representing array of &lt;search term, search url&gt; tuple.</p><p>A base64-encoded string.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SearchEntryPoint.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"renderedContent"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"sdkBlob"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="GroundingChunk" data-text="GroundingChunk" tabindex="-1">GroundingChunk</h2>
<div class="column-container">
<div class="reference">
<section id="GroundingChunk.description">
<p>Grounding chunk.</p>
</section>
<section id="GroundingChunk.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<div class="field-entry union-type">
<div class="signature">
<tr class="alt" id="GroundingChunk.FIELDS.chunk_type">
<span class="field-name">
<td><code translate="no" dir="ltr">chunk_type</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">Union type</code>
</span>
</tr>
<div class="union-type-preamble">
<div>Chunk type. <code translate="no" dir="ltr">chunk_type</code> can be only one of the following:</div>
<section id="GroundingChunk.FIELDS.web">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">web</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#Web">Web</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Grounding chunk from the web.</p>
</div>
</div>
</section>
<section id="GroundingChunk.FIELDS.retrieved_context">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">retrievedContext</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#RetrievedContext">RetrievedContext</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Grounding chunk from context retrieved by the file search tool.</p>
</div>
</div>
</section>
<section id="GroundingChunk.FIELDS.maps">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">maps</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#Maps">Maps</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Grounding chunk from Google Maps.</p>
</div>
</div>
</section>
</div>
</div>
</div>
</section>
</div>
<div class="second-column">
<section id="GroundingChunk.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>

  <span class="com">// chunk_type</span>
  <span class="str">"web"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#Web">Web</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"retrievedContext"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#RetrievedContext">RetrievedContext</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"maps"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#Maps">Maps</a></code>)</span>
  <span class="pun">}</span>
  <span class="com">// Union type</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="Web" data-text="Web" tabindex="-1">Web</h2>
<div class="column-container">
<div class="reference">
<section id="Web.description">
<p>Chunk from the web.</p>
</section>
<section id="Web.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="Web.FIELDS.uri">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">uri</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>URI reference of the chunk.</p>
</div>
</div>
</section>
<section id="Web.FIELDS.title">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">title</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Title of the chunk.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="Web.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"uri"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"title"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="RetrievedContext" data-text="RetrievedContext" tabindex="-1">RetrievedContext</h2>
<div class="column-container">
<div class="reference">
<section id="RetrievedContext.description">
<p>Chunk from context retrieved by the file search tool.</p>
</section>
<section id="RetrievedContext.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="RetrievedContext.FIELDS.uri">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">uri</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. URI reference of the semantic retrieval document.</p>
</div>
</div>
</section>
<section id="RetrievedContext.FIELDS.title">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">title</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. Title of the document.</p>
</div>
</div>
</section>
<section id="RetrievedContext.FIELDS.text">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">text</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. Text of the chunk.</p>
</div>
</div>
</section>
<section id="RetrievedContext.FIELDS.file_search_store">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">fileSearchStore</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. Name of the <code translate="no" dir="ltr">FileSearchStore</code> containing the document. Example: <code translate="no" dir="ltr">fileSearchStores/123</code></p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="RetrievedContext.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"uri"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"title"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"text"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"fileSearchStore"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="Maps" data-text="Maps" tabindex="-1">Maps</h2>
<div class="column-container">
<div class="reference">
<section id="Maps.description">
<p>A grounding chunk from Google Maps. A Maps chunk corresponds to a single place.</p>
</section>
<section id="Maps.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="Maps.FIELDS.uri">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">uri</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>URI reference of the place.</p>
</div>
</div>
</section>
<section id="Maps.FIELDS.title">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">title</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Title of the place.</p>
</div>
</div>
</section>
<section id="Maps.FIELDS.text">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">text</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Text description of the place answer.</p>
</div>
</div>
</section>
<section id="Maps.FIELDS.place_id">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">placeId</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>This ID of the place, in <code translate="no" dir="ltr">places/{placeId}</code> format. A user can use this ID to look up that place.</p>
</div>
</div>
</section>
<section id="Maps.FIELDS.place_answer_sources">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">placeAnswerSources</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#PlaceAnswerSources">PlaceAnswerSources</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Sources that provide answers about the features of a given place in Google Maps.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="Maps.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"uri"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"title"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"text"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"placeId"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"placeAnswerSources"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#PlaceAnswerSources">PlaceAnswerSources</a></code>)</span>
  <span class="pun">}</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="PlaceAnswerSources" data-text="PlaceAnswerSources" tabindex="-1">PlaceAnswerSources</h2>
<div class="column-container">
<div class="reference">
<section id="PlaceAnswerSources.description">
<p>Collection of sources that provide answers about the features of a given place in Google Maps. Each PlaceAnswerSources message corresponds to a specific place in Google Maps. The Google Maps tool used these sources in order to answer questions about features of the place (e.g: "does Bar Foo have Wifi" or "is Foo Bar wheelchair accessible?"). Currently we only support review snippets as sources.</p>
</section>
<section id="PlaceAnswerSources.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="PlaceAnswerSources.FIELDS.review_snippets">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">reviewSnippets[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#ReviewSnippet">ReviewSnippet</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Snippets of reviews that are used to generate answers about the features of a given place in Google Maps.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="PlaceAnswerSources.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"reviewSnippets"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#ReviewSnippet">ReviewSnippet</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="ReviewSnippet" data-text="ReviewSnippet" tabindex="-1">ReviewSnippet</h2>
<div class="column-container">
<div class="reference">
<section id="ReviewSnippet.description">
<p>Encapsulates a snippet of a user review that answers a question about the features of a specific place in Google Maps.</p>
</section>
<section id="ReviewSnippet.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="ReviewSnippet.FIELDS.review_id">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">reviewId</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>The ID of the review snippet.</p>
</div>
</div>
</section>
<section id="ReviewSnippet.FIELDS.google_maps_uri">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">googleMapsUri</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>A link that corresponds to the user review on Google Maps.</p>
</div>
</div>
</section>
<section id="ReviewSnippet.FIELDS.title">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">title</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Title of the review.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="ReviewSnippet.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"reviewId"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"googleMapsUri"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"title"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="GroundingSupport" data-text="GroundingSupport" tabindex="-1">GroundingSupport</h2>
<div class="column-container">
<div class="reference">
<section id="GroundingSupport.description">
<p>Grounding support.</p>
</section>
<section id="GroundingSupport.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="GroundingSupport.FIELDS.grounding_chunk_indices">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">groundingChunkIndices[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>A list of indices (into 'grounding_chunk') specifying the citations associated with the claim. For instance [1,3,4] means that grounding_chunk[1], grounding_chunk[3], grounding_chunk[4] are the retrieved content attributed to the claim.</p>
</div>
</div>
</section>
<section id="GroundingSupport.FIELDS.confidence_scores">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">confidenceScores[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">number</code>
</span>
</div>
<div class="field-description">
<p>Confidence score of the support references. Ranges from 0 to 1. 1 is the most confident. This list must have the same size as the groundingChunkIndices.</p>
</div>
</div>
</section>
<section id="GroundingSupport.FIELDS.segment">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">segment</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#Segment">Segment</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Segment of the content this support belongs to.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="GroundingSupport.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"groundingChunkIndices"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="kwd">integer</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"confidenceScores"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="kwd">number</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"segment"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#Segment">Segment</a></code>)</span>
  <span class="pun">}</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="Segment" data-text="Segment" tabindex="-1">Segment</h2>
<div class="column-container">
<div class="reference">
<section id="Segment.description">
<p>Segment of the content.</p>
</section>
<section id="Segment.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="Segment.FIELDS.part_index">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">partIndex</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Output only. The index of a Part object within its parent Content object.</p>
</div>
</div>
</section>
<section id="Segment.FIELDS.start_index">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">startIndex</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Output only. Start index in the given Part, measured in bytes. Offset from the start of the Part, inclusive, starting at zero.</p>
</div>
</div>
</section>
<section id="Segment.FIELDS.end_index">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">endIndex</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Output only. End index in the given Part, measured in bytes. Offset from the start of the Part, exclusive, starting at zero.</p>
</div>
</div>
</section>
<section id="Segment.FIELDS.text">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">text</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Output only. The text corresponding to the segment from the response.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="Segment.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"partIndex"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"startIndex"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"endIndex"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"text"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="RetrievalMetadata" data-text="RetrievalMetadata" tabindex="-1">RetrievalMetadata</h2>
<div class="column-container">
<div class="reference">
<section id="RetrievalMetadata.description">
<p>Metadata related to retrieval in the grounding flow.</p>
</section>
<section id="RetrievalMetadata.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="RetrievalMetadata.FIELDS.google_search_dynamic_retrieval_score">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">googleSearchDynamicRetrievalScore</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">number</code>
</span>
</div>
<div class="field-description">
<p>Optional. Score indicating how likely information from google search could help answer the prompt. The score is in the range [0, 1], where 0 is the least likely and 1 is the most likely. This score is only populated when google search grounding and dynamic retrieval is enabled. It will be compared to the threshold to determine whether to trigger google search.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="RetrievalMetadata.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"googleSearchDynamicRetrievalScore"</span><span class="pun">: </span><span class="kwd">number</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="LogprobsResult" data-text="LogprobsResult" tabindex="-1">LogprobsResult</h2>
<div class="column-container">
<div class="reference">
<section id="LogprobsResult.description">
<p>Logprobs Result</p>
</section>
<section id="LogprobsResult.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="LogprobsResult.FIELDS.top_candidates">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">topCandidates[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#TopCandidates">TopCandidates</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Length = total number of decoding steps.</p>
</div>
</div>
</section>
<section id="LogprobsResult.FIELDS.chosen_candidates">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">chosenCandidates[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#Candidate">Candidate</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Length = total number of decoding steps. The chosen candidates may or may not be in topCandidates.</p>
</div>
</div>
</section>
<section id="LogprobsResult.FIELDS.log_probability_sum">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">logProbabilitySum</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">number</code>
</span>
</div>
<div class="field-description">
<p>Sum of log probabilities for all tokens.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="LogprobsResult.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"topCandidates"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#TopCandidates">TopCandidates</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"chosenCandidates"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#Candidate">Candidate</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"logProbabilitySum"</span><span class="pun">: </span><span class="kwd">number</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="TopCandidates" data-text="TopCandidates" tabindex="-1">TopCandidates</h2>
<div class="column-container">
<div class="reference">
<section id="TopCandidates.description">
<p>Candidates with top log probabilities at each decoding step.</p>
</section>
<section id="TopCandidates.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="TopCandidates.FIELDS.candidates">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">candidates[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#Candidate">Candidate</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Sorted by log probability in descending order.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="TopCandidates.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"candidates"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#Candidate">Candidate</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="Candidate" data-text="Candidate" tabindex="-1">Candidate</h2>
<div class="column-container">
<div class="reference">
<section id="Candidate.description">
<p>Candidate for the logprobs token and score.</p>
</section>
<section id="Candidate.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="Candidate.FIELDS.token">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">token</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>The candidate’s token string value.</p>
</div>
</div>
</section>
<section id="Candidate.FIELDS.token_id">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">tokenId</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>The candidate’s token id value.</p>
</div>
</div>
</section>
<section id="Candidate.FIELDS.log_probability">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">logProbability</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">number</code>
</span>
</div>
<div class="field-description">
<p>The candidate's log probability.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="Candidate.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"token"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"tokenId"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"logProbability"</span><span class="pun">: </span><span class="kwd">number</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="UrlContextMetadata" data-text="UrlContextMetadata" tabindex="-1">UrlContextMetadata</h2>
<div class="column-container">
<div class="reference">
<section id="UrlContextMetadata.description">
<p>Metadata related to url context retrieval tool.</p>
</section>
<section id="UrlContextMetadata.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="UrlContextMetadata.FIELDS.url_metadata">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">urlMetadata[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#UrlMetadata">UrlMetadata</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>List of url context.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="UrlContextMetadata.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"urlMetadata"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#UrlMetadata">UrlMetadata</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="UrlMetadata" data-text="UrlMetadata" tabindex="-1">UrlMetadata</h2>
<div class="column-container">
<div class="reference">
<section id="UrlMetadata.description">
<p>Context of the a single url retrieval.</p>
</section>
<section id="UrlMetadata.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="UrlMetadata.FIELDS.retrieved_url">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">retrievedUrl</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Retrieved url by the tool.</p>
</div>
</div>
</section>
<section id="UrlMetadata.FIELDS.url_retrieval_status">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">urlRetrievalStatus</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#UrlRetrievalStatus">UrlRetrievalStatus</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Status of the url retrieval.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="UrlMetadata.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"retrievedUrl"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"urlRetrievalStatus"</span><span class="pun">: </span><span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#UrlRetrievalStatus">UrlRetrievalStatus</a></code>)</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="UrlRetrievalStatus" data-text="UrlRetrievalStatus" tabindex="-1">UrlRetrievalStatus</h2>
<section id="UrlRetrievalStatus.description">
<p>Status of the url retrieval.</p>
</section>
<section id="UrlRetrievalStatus.ENUM_VALUES">
<table class="constants responsive fixed" id="UrlRetrievalStatus.ENUM_VALUES-table">
<colgroup>
<col width="25%"/>
<col/>
</colgroup>
<thead>
<tr>
<th colspan="2">Enums</th>
</tr>
</thead>
<tbody>
<tr id="UrlRetrievalStatus.ENUM_VALUES.URL_RETRIEVAL_STATUS_UNSPECIFIED">
<td><code class="apitype" translate="no" dir="ltr">URL_RETRIEVAL_STATUS_UNSPECIFIED</code></td>
<td>Default value. This value is unused.</td>
</tr>
<tr id="UrlRetrievalStatus.ENUM_VALUES.URL_RETRIEVAL_STATUS_SUCCESS">
<td><code class="apitype" translate="no" dir="ltr">URL_RETRIEVAL_STATUS_SUCCESS</code></td>
<td>Url retrieval is successful.</td>
</tr>
<tr id="UrlRetrievalStatus.ENUM_VALUES.URL_RETRIEVAL_STATUS_ERROR">
<td><code class="apitype" translate="no" dir="ltr">URL_RETRIEVAL_STATUS_ERROR</code></td>
<td>Url retrieval is failed due to error.</td>
</tr>
<tr id="UrlRetrievalStatus.ENUM_VALUES.URL_RETRIEVAL_STATUS_PAYWALL">
<td><code class="apitype" translate="no" dir="ltr">URL_RETRIEVAL_STATUS_PAYWALL</code></td>
<td>Url retrieval is failed because the content is behind paywall.</td>
</tr>
<tr id="UrlRetrievalStatus.ENUM_VALUES.URL_RETRIEVAL_STATUS_UNSAFE">
<td><code class="apitype" translate="no" dir="ltr">URL_RETRIEVAL_STATUS_UNSAFE</code></td>
<td>Url retrieval is failed because the content is unsafe.</td>
</tr>
</tbody>
</table>
</section>
</section>
</div><div itemscope="" itemtype="http://developers.google.com/ReferenceObject"><h2 id="citationmetadata" data-text="CitationMetadata" tabindex="-1">CitationMetadata</h2><a name="v1beta.CitationMetadata"></a>
<meta content="CitationMetadata" itemprop="name"/>
<meta content="/api/rest/v1beta/CitationMetadata" itemprop="path"/>
<section class="prototype" id="/api/rest/v1beta/CitationMetadata">
<ul class="toc">
<li><a href="#SCHEMA_REPRESENTATION">JSON representation</a></li><li><a href="#CitationSource">CitationSource</a>
<ul>
<li><a href="#CitationSource.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li>
</ul>
<div class="column-container">
<div class="reference">
<section id="description">
<p>A collection of source attributions for a piece of content.</p>
</section>
<section id="FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="FIELDS.citation_sources">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">citationSources[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#CitationSource">CitationSource</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Citations to sources for a specific response.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"citationSources"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#CitationSource">CitationSource</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="CitationSource" data-text="CitationSource" tabindex="-1">CitationSource</h2>
<div class="column-container">
<div class="reference">
<section id="CitationSource.description">
<p>A citation to a source for a portion of a specific response.</p>
</section>
<section id="CitationSource.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="CitationSource.FIELDS.start_index">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">startIndex</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Optional. Start of segment of the response that is attributed to this source.</p><p>Index indicates the start of the segment, measured in bytes.</p>
</div>
</div>
</section>
<section id="CitationSource.FIELDS.end_index">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">endIndex</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Optional. End of the attributed segment, exclusive.</p>
</div>
</div>
</section>
<section id="CitationSource.FIELDS.uri">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">uri</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. URI that is attributed as a source for a portion of the text.</p>
</div>
</div>
</section>
<section id="CitationSource.FIELDS.license">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">license</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. License for the GitHub project that is attributed as a source for segment.</p><p>License info is required for code citations.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="CitationSource.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"startIndex"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"endIndex"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"uri"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"license"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
</section>
</div><div itemscope="" itemtype="http://developers.google.com/ReferenceObject"><h2 id="generationconfig" data-text="GenerationConfig" tabindex="-1">GenerationConfig</h2><a name="v1beta.GenerationConfig"></a>
<meta content="GenerationConfig" itemprop="name"/>
<meta content="/api/rest/v1beta/GenerationConfig" itemprop="path"/>
<section class="prototype" id="/api/rest/v1beta/GenerationConfig">
<ul class="toc">
<li><a href="#SCHEMA_REPRESENTATION">JSON representation</a></li><li><a href="#Modality">Modality</a></li><li><a href="#SpeechConfig">SpeechConfig</a>
<ul>
<li><a href="#SpeechConfig.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#VoiceConfig">VoiceConfig</a>
<ul>
<li><a href="#VoiceConfig.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#PrebuiltVoiceConfig">PrebuiltVoiceConfig</a>
<ul>
<li><a href="#PrebuiltVoiceConfig.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#MultiSpeakerVoiceConfig">MultiSpeakerVoiceConfig</a>
<ul>
<li><a href="#MultiSpeakerVoiceConfig.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#SpeakerVoiceConfig">SpeakerVoiceConfig</a>
<ul>
<li><a href="#SpeakerVoiceConfig.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#ThinkingConfig">ThinkingConfig</a>
<ul>
<li><a href="#ThinkingConfig.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#ThinkingLevel">ThinkingLevel</a></li><li><a href="#ImageConfig">ImageConfig</a>
<ul>
<li><a href="#ImageConfig.SCHEMA_REPRESENTATION">JSON representation</a></li>
</ul>
</li><li><a href="#MediaResolution">MediaResolution</a></li>
</ul>
<div class="column-container">
<div class="reference">
<section id="description">
<p>Configuration options for model generation and outputs. Not all parameters are configurable for every model.</p>
</section>
<section id="FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="FIELDS.stop_sequences">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">stopSequences[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. The set of character sequences (up to 5) that will stop output generation. If specified, the API will stop at the first appearance of a <code translate="no" dir="ltr">stop_sequence</code>. The stop sequence will not be included as part of the response.</p>
</div>
</div>
</section>
<section id="FIELDS.response_mime_type">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">responseMimeType</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. MIME type of the generated candidate text. Supported MIME types are: <code translate="no" dir="ltr">text/plain</code>: (default) Text output. <code translate="no" dir="ltr">application/json</code>: JSON response in the response candidates. <code translate="no" dir="ltr">text/x.enum</code>: ENUM as a string response in the response candidates. Refer to the <a href="https://ai.google.dev/gemini-api/docs/prompting_with_media#plain_text_formats">docs</a> for a list of all supported text MIME types.</p>
</div>
</div>
</section>
<section id="FIELDS.response_schema">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">responseSchema</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/caching#Schema">Schema</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Output schema of the generated candidate text. Schemas must be a subset of the <a href="https://spec.openapis.org/oas/v3.0.3#schema">OpenAPI schema</a> and can be objects, primitives or arrays.</p><p>If set, a compatible <code translate="no" dir="ltr">responseMimeType</code> must also be set. Compatible MIME types: <code translate="no" dir="ltr">application/json</code>: Schema for JSON response. Refer to the <a href="https://ai.google.dev/gemini-api/docs/json-mode">JSON text generation guide</a> for more details.</p>
</div>
</div>
</section>
<section id="FIELDS.response_json_schema">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">_responseJsonSchema</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">value (<code translate="no" dir="ltr"><a href="https://protobuf.dev/reference/protobuf/google.protobuf/#value">Value</a></code> format)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Output schema of the generated response. This is an alternative to <code translate="no" dir="ltr">responseSchema</code> that accepts <a href="https://json-schema.org/">JSON Schema</a>.</p><p>If set, <code translate="no" dir="ltr">responseSchema</code> must be omitted, but <code translate="no" dir="ltr">responseMimeType</code> is required.</p><p>While the full JSON Schema may be sent, not all features are supported. Specifically, only the following properties are supported:</p>
<ul>
<li><code translate="no" dir="ltr">$id</code></li>
<li><code translate="no" dir="ltr">$defs</code></li>
<li><code translate="no" dir="ltr">$ref</code></li>
<li><code translate="no" dir="ltr">$anchor</code></li>
<li><code translate="no" dir="ltr">type</code></li>
<li><code translate="no" dir="ltr">format</code></li>
<li><code translate="no" dir="ltr">title</code></li>
<li><code translate="no" dir="ltr">description</code></li>
<li><code translate="no" dir="ltr">enum</code> (for strings and numbers)</li>
<li><code translate="no" dir="ltr">items</code></li>
<li><code translate="no" dir="ltr">prefixItems</code></li>
<li><code translate="no" dir="ltr">minItems</code></li>
<li><code translate="no" dir="ltr">maxItems</code></li>
<li><code translate="no" dir="ltr">minimum</code></li>
<li><code translate="no" dir="ltr">maximum</code></li>
<li><code translate="no" dir="ltr">anyOf</code></li>
<li><code translate="no" dir="ltr">oneOf</code> (interpreted the same as <code translate="no" dir="ltr">anyOf</code>)</li>
<li><code translate="no" dir="ltr">properties</code></li>
<li><code translate="no" dir="ltr">additionalProperties</code></li>
<li><code translate="no" dir="ltr">required</code></li>
</ul><p>The non-standard <code translate="no" dir="ltr">propertyOrdering</code> property may also be set.</p><p>Cyclic references are unrolled to a limited degree and, as such, may only be used within non-required properties. (Nullable properties are not sufficient.) If <code translate="no" dir="ltr">$ref</code> is set on a sub-schema, no other properties, except for than those starting as a <code translate="no" dir="ltr">$</code>, may be set.</p>
</div>
</div>
</section>
<section id="FIELDS.response_json_schema_ordered">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">responseJsonSchema</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">value (<code translate="no" dir="ltr"><a href="https://protobuf.dev/reference/protobuf/google.protobuf/#value">Value</a></code> format)</code>
</span>
</div>
<div class="field-description">
<p>Optional. An internal detail. Use <code translate="no" dir="ltr">responseJsonSchema</code> rather than this field.</p>
</div>
</div>
</section>
<section id="FIELDS.response_modalities">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">responseModalities[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#Modality">Modality</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. The requested modalities of the response. Represents the set of modalities that the model can return, and should be expected in the response. This is an exact match to the modalities of the response.</p><p>A model may have multiple combinations of supported modalities. If the requested modalities do not match any of the supported combinations, an error will be returned.</p><p>An empty list is equivalent to requesting only text.</p>
</div>
</div>
</section>
<section id="FIELDS.candidate_count">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">candidateCount</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Optional. Number of generated responses to return. If unset, this will default to 1. Please note that this doesn't work for previous generation models (Gemini 1.0 family)</p>
</div>
</div>
</section>
<section id="FIELDS.max_output_tokens">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">maxOutputTokens</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Optional. The maximum number of tokens to include in a response candidate.</p><p>Note: The default value varies by model, see the <code translate="no" dir="ltr">Model.output_token_limit</code> attribute of the <code translate="no" dir="ltr">Model</code> returned from the <code translate="no" dir="ltr">getModel</code> function.</p>
</div>
</div>
</section>
<section id="FIELDS.temperature">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">temperature</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">number</code>
</span>
</div>
<div class="field-description">
<p>Optional. Controls the randomness of the output.</p><p>Note: The default value varies by model, see the <code translate="no" dir="ltr">Model.temperature</code> attribute of the <code translate="no" dir="ltr">Model</code> returned from the <code translate="no" dir="ltr">getModel</code> function.</p><p>Values can range from [0.0, 2.0].</p>
</div>
</div>
</section>
<section id="FIELDS.top_p">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">topP</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">number</code>
</span>
</div>
<div class="field-description">
<p>Optional. The maximum cumulative probability of tokens to consider when sampling.</p><p>The model uses combined Top-k and Top-p (nucleus) sampling.</p><p>Tokens are sorted based on their assigned probabilities so that only the most likely tokens are considered. Top-k sampling directly limits the maximum number of tokens to consider, while Nucleus sampling limits the number of tokens based on the cumulative probability.</p><p>Note: The default value varies by <code translate="no" dir="ltr">Model</code> and is specified by the<code translate="no" dir="ltr">Model.top_p</code> attribute returned from the <code translate="no" dir="ltr">getModel</code> function. An empty <code translate="no" dir="ltr">topK</code> attribute indicates that the model doesn't apply top-k sampling and doesn't allow setting <code translate="no" dir="ltr">topK</code> on requests.</p>
</div>
</div>
</section>
<section id="FIELDS.top_k">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">topK</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Optional. The maximum number of tokens to consider when sampling.</p><p>Gemini models use Top-p (nucleus) sampling or a combination of Top-k and nucleus sampling. Top-k sampling considers the set of <code translate="no" dir="ltr">topK</code> most probable tokens. Models running with nucleus sampling don't allow topK setting.</p><p>Note: The default value varies by <code translate="no" dir="ltr">Model</code> and is specified by the<code translate="no" dir="ltr">Model.top_p</code> attribute returned from the <code translate="no" dir="ltr">getModel</code> function. An empty <code translate="no" dir="ltr">topK</code> attribute indicates that the model doesn't apply top-k sampling and doesn't allow setting <code translate="no" dir="ltr">topK</code> on requests.</p>
</div>
</div>
</section>
<section id="FIELDS.seed">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">seed</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Optional. Seed used in decoding. If not set, the request uses a randomly generated seed.</p>
</div>
</div>
</section>
<section id="FIELDS.presence_penalty">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">presencePenalty</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">number</code>
</span>
</div>
<div class="field-description">
<p>Optional. Presence penalty applied to the next token's logprobs if the token has already been seen in the response.</p><p>This penalty is binary on/off and not dependant on the number of times the token is used (after the first). Use <code translate="no" dir="ltr"><a href="/api/generate-content#FIELDS.frequency_penalty">frequencyPenalty</a></code> for a penalty that increases with each use.</p><p>A positive penalty will discourage the use of tokens that have already been used in the response, increasing the vocabulary.</p><p>A negative penalty will encourage the use of tokens that have already been used in the response, decreasing the vocabulary.</p>
</div>
</div>
</section>
<section id="FIELDS.frequency_penalty">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">frequencyPenalty</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">number</code>
</span>
</div>
<div class="field-description">
<p>Optional. Frequency penalty applied to the next token's logprobs, multiplied by the number of times each token has been seen in the respponse so far.</p><p>A positive penalty will discourage the use of tokens that have already been used, proportional to the number of times the token has been used: The more a token is used, the more difficult it is for the model to use that token again increasing the vocabulary of responses.</p><p>Caution: A <em>negative</em> penalty will encourage the model to reuse tokens proportional to the number of times the token has been used. Small negative values will reduce the vocabulary of a response. Larger negative values will cause the model to start repeating a common token until it hits the <code translate="no" dir="ltr"><a href="/api/generate-content#FIELDS.max_output_tokens">maxOutputTokens</a></code> limit.</p>
</div>
</div>
</section>
<section id="FIELDS.response_logprobs">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">responseLogprobs</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">boolean</code>
</span>
</div>
<div class="field-description">
<p>Optional. If true, export the logprobs results in response.</p>
</div>
</div>
</section>
<section id="FIELDS.logprobs">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">logprobs</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Optional. Only valid if <code translate="no" dir="ltr"><a href="/api/generate-content#FIELDS.response_logprobs">responseLogprobs=True</a></code>. This sets the number of top logprobs to return at each decoding step in the <code translate="no" dir="ltr"><a href="/api/generate-content#FIELDS.logprobs_result">Candidate.logprobs_result</a></code>. The number must be in the range of [0, 20].</p>
</div>
</div>
</section>
<section id="FIELDS.enable_enhanced_civic_answers">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">enableEnhancedCivicAnswers</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">boolean</code>
</span>
</div>
<div class="field-description">
<p>Optional. Enables enhanced civic answers. It may not be available for all models.</p>
</div>
</div>
</section>
<section id="FIELDS.speech_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">speechConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#SpeechConfig">SpeechConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. The speech generation config.</p>
</div>
</div>
</section>
<section id="FIELDS.thinking_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">thinkingConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#ThinkingConfig">ThinkingConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Config for thinking features. An error will be returned if this field is set for models that don't support thinking.</p>
</div>
</div>
</section>
<section id="FIELDS.image_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">imageConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#ImageConfig">ImageConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Config for image generation. An error will be returned if this field is set for models that don't support these config options.</p>
</div>
</div>
</section>
<section id="FIELDS.media_resolution">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">mediaResolution</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#MediaResolution">MediaResolution</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. If specified, the media resolution specified will be used.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"stopSequences"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="kwd">string</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"responseMimeType"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"responseSchema"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/caching#Schema">Schema</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"_responseJsonSchema"</span><span class="pun">: </span><span class="kwd">value</span><span class="pun">,</span>
  <span class="str">"responseJsonSchema"</span><span class="pun">: </span><span class="kwd">value</span><span class="pun">,</span>
  <span class="str">"responseModalities"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#Modality">Modality</a></code>)</span>
  <span class="pun">]</span><span class="pun">,</span>
  <span class="str">"candidateCount"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"maxOutputTokens"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"temperature"</span><span class="pun">: </span><span class="kwd">number</span><span class="pun">,</span>
  <span class="str">"topP"</span><span class="pun">: </span><span class="kwd">number</span><span class="pun">,</span>
  <span class="str">"topK"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"seed"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"presencePenalty"</span><span class="pun">: </span><span class="kwd">number</span><span class="pun">,</span>
  <span class="str">"frequencyPenalty"</span><span class="pun">: </span><span class="kwd">number</span><span class="pun">,</span>
  <span class="str">"responseLogprobs"</span><span class="pun">: </span><span class="kwd">boolean</span><span class="pun">,</span>
  <span class="str">"logprobs"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"enableEnhancedCivicAnswers"</span><span class="pun">: </span><span class="kwd">boolean</span><span class="pun">,</span>
  <span class="str">"speechConfig"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#SpeechConfig">SpeechConfig</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"thinkingConfig"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#ThinkingConfig">ThinkingConfig</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"imageConfig"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#ImageConfig">ImageConfig</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"mediaResolution"</span><span class="pun">: </span><span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#MediaResolution">MediaResolution</a></code>)</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="Modality" data-text="Modality" tabindex="-1">Modality</h2>
<section id="Modality.description">
<p>Supported modalities of the response.</p>
</section>
<section id="Modality.ENUM_VALUES">
<table class="constants responsive fixed" id="Modality.ENUM_VALUES-table">
<colgroup>
<col width="25%"/>
<col/>
</colgroup>
<thead>
<tr>
<th colspan="2">Enums</th>
</tr>
</thead>
<tbody>
<tr id="Modality.ENUM_VALUES.MODALITY_UNSPECIFIED">
<td><code class="apitype" translate="no" dir="ltr">MODALITY_UNSPECIFIED</code></td>
<td>Default value.</td>
</tr>
<tr id="Modality.ENUM_VALUES.TEXT">
<td><code class="apitype" translate="no" dir="ltr">TEXT</code></td>
<td>Indicates the model should return text.</td>
</tr>
<tr id="Modality.ENUM_VALUES.IMAGE">
<td><code class="apitype" translate="no" dir="ltr">IMAGE</code></td>
<td>Indicates the model should return images.</td>
</tr>
<tr id="Modality.ENUM_VALUES.AUDIO">
<td><code class="apitype" translate="no" dir="ltr">AUDIO</code></td>
<td>Indicates the model should return audio.</td>
</tr>
</tbody>
</table>
</section>
<h2 id="SpeechConfig" data-text="SpeechConfig" tabindex="-1">SpeechConfig</h2>
<div class="column-container">
<div class="reference">
<section id="SpeechConfig.description">
<p>The speech generation config.</p>
</section>
<section id="SpeechConfig.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="SpeechConfig.FIELDS.voice_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">voiceConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#VoiceConfig">VoiceConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>The configuration in case of single-voice output.</p>
</div>
</div>
</section>
<section id="SpeechConfig.FIELDS.multi_speaker_voice_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">multiSpeakerVoiceConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#MultiSpeakerVoiceConfig">MultiSpeakerVoiceConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. The configuration for the multi-speaker setup. It is mutually exclusive with the voiceConfig field.</p>
</div>
</div>
</section>
<section id="SpeechConfig.FIELDS.language_code">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">languageCode</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. Language code (in BCP 47 format, e.g. "en-US") for speech synthesis.</p><p>Valid values are: de-DE, en-AU, en-GB, en-IN, en-US, es-US, fr-FR, hi-IN, pt-BR, ar-XA, es-ES, fr-CA, id-ID, it-IT, ja-JP, tr-TR, vi-VN, bn-IN, gu-IN, kn-IN, ml-IN, mr-IN, ta-IN, te-IN, nl-NL, ko-KR, cmn-CN, pl-PL, ru-RU, and th-TH.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SpeechConfig.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"voiceConfig"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#VoiceConfig">VoiceConfig</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"multiSpeakerVoiceConfig"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#MultiSpeakerVoiceConfig">MultiSpeakerVoiceConfig</a></code>)</span>
  <span class="pun">}</span><span class="pun">,</span>
  <span class="str">"languageCode"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="VoiceConfig" data-text="VoiceConfig" tabindex="-1">VoiceConfig</h2>
<div class="column-container">
<div class="reference">
<section id="VoiceConfig.description">
<p>The configuration for the voice to use.</p>
</section>
<section id="VoiceConfig.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<div class="field-entry union-type">
<div class="signature">
<tr class="alt" id="VoiceConfig.FIELDS.voice_config">
<span class="field-name">
<td><code translate="no" dir="ltr">voice_config</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">Union type</code>
</span>
</tr>
<div class="union-type-preamble">
<div>The configuration for the speaker to use. <code translate="no" dir="ltr">voice_config</code> can be only one of the following:</div>
<section id="VoiceConfig.FIELDS.prebuilt_voice_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">prebuiltVoiceConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#PrebuiltVoiceConfig">PrebuiltVoiceConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>The configuration for the prebuilt voice to use.</p>
</div>
</div>
</section>
</div>
</div>
</div>
</section>
</div>
<div class="second-column">
<section id="VoiceConfig.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>

  <span class="com">// voice_config</span>
  <span class="str">"prebuiltVoiceConfig"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#PrebuiltVoiceConfig">PrebuiltVoiceConfig</a></code>)</span>
  <span class="pun">}</span>
  <span class="com">// Union type</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="PrebuiltVoiceConfig" data-text="PrebuiltVoiceConfig" tabindex="-1">PrebuiltVoiceConfig</h2>
<div class="column-container">
<div class="reference">
<section id="PrebuiltVoiceConfig.description">
<p>The configuration for the prebuilt speaker to use.</p>
</section>
<section id="PrebuiltVoiceConfig.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="PrebuiltVoiceConfig.FIELDS.voice_name">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">voiceName</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>The name of the preset voice to use.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="PrebuiltVoiceConfig.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"voiceName"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="MultiSpeakerVoiceConfig" data-text="MultiSpeakerVoiceConfig" tabindex="-1">MultiSpeakerVoiceConfig</h2>
<div class="column-container">
<div class="reference">
<section id="MultiSpeakerVoiceConfig.description">
<p>The configuration for the multi-speaker setup.</p>
</section>
<section id="MultiSpeakerVoiceConfig.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="MultiSpeakerVoiceConfig.FIELDS.speaker_voice_configs">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">speakerVoiceConfigs[]</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#SpeakerVoiceConfig">SpeakerVoiceConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Required. All the enabled speaker voices.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="MultiSpeakerVoiceConfig.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"speakerVoiceConfigs"</span><span class="pun">: </span><span class="pun">[</span>
    <span class="pun">{</span>
      <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#SpeakerVoiceConfig">SpeakerVoiceConfig</a></code>)</span>
    <span class="pun">}</span>
  <span class="pun">]</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="SpeakerVoiceConfig" data-text="SpeakerVoiceConfig" tabindex="-1">SpeakerVoiceConfig</h2>
<div class="column-container">
<div class="reference">
<section id="SpeakerVoiceConfig.description">
<p>The configuration for a single speaker in a multi speaker setup.</p>
</section>
<section id="SpeakerVoiceConfig.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="SpeakerVoiceConfig.FIELDS.speaker">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">speaker</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Required. The name of the speaker to use. Should be the same as in the prompt.</p>
</div>
</div>
</section>
<section id="SpeakerVoiceConfig.FIELDS.voice_config">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">voiceConfig</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">object (<code translate="no" dir="ltr"><a href="/api/generate-content#VoiceConfig">VoiceConfig</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Required. The configuration for the voice to use.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SpeakerVoiceConfig.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"speaker"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"voiceConfig"</span><span class="pun">: </span><span class="pun">{</span>
    <span class="kwd">object (<code translate="no" dir="ltr"><a href="/api/generate-content#VoiceConfig">VoiceConfig</a></code>)</span>
  <span class="pun">}</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="ThinkingConfig" data-text="ThinkingConfig" tabindex="-1">ThinkingConfig</h2>
<div class="column-container">
<div class="reference">
<section id="ThinkingConfig.description">
<p>Config for thinking features.</p>
</section>
<section id="ThinkingConfig.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="ThinkingConfig.FIELDS.include_thoughts">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">includeThoughts</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">boolean</code>
</span>
</div>
<div class="field-description">
<p>Indicates whether to include thoughts in the response. If true, thoughts are returned only when available.</p>
</div>
</div>
</section>
<section id="ThinkingConfig.FIELDS.thinking_budget">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">thinkingBudget</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>The number of thoughts tokens that the model should generate.</p>
</div>
</div>
</section>
<section id="ThinkingConfig.FIELDS.thinking_level">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">thinkingLevel</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#ThinkingLevel">ThinkingLevel</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Optional. Controls the maximum depth of the model's internal reasoning process before it produces a response. If not specified, the default is HIGH. Recommended for Gemini 3 or later models. Use with earlier models results in an error.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="ThinkingConfig.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"includeThoughts"</span><span class="pun">: </span><span class="kwd">boolean</span><span class="pun">,</span>
  <span class="str">"thinkingBudget"</span><span class="pun">: </span><span class="kwd">integer</span><span class="pun">,</span>
  <span class="str">"thinkingLevel"</span><span class="pun">: </span><span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#ThinkingLevel">ThinkingLevel</a></code>)</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="ThinkingLevel" data-text="ThinkingLevel" tabindex="-1">ThinkingLevel</h2>
<section id="ThinkingLevel.description">
<p>Allow user to specify how much to think using enum instead of integer budget.</p>
</section>
<section id="ThinkingLevel.ENUM_VALUES">
<table class="constants responsive fixed" id="ThinkingLevel.ENUM_VALUES-table">
<colgroup>
<col width="25%"/>
<col/>
</colgroup>
<thead>
<tr>
<th colspan="2">Enums</th>
</tr>
</thead>
<tbody>
<tr id="ThinkingLevel.ENUM_VALUES.THINKING_LEVEL_UNSPECIFIED">
<td><code class="apitype" translate="no" dir="ltr">THINKING_LEVEL_UNSPECIFIED</code></td>
<td>Default value.</td>
</tr>
<tr id="ThinkingLevel.ENUM_VALUES.LOW">
<td><code class="apitype" translate="no" dir="ltr">LOW</code></td>
<td>Low thinking level.</td>
</tr>
<tr id="ThinkingLevel.ENUM_VALUES.HIGH">
<td><code class="apitype" translate="no" dir="ltr">HIGH</code></td>
<td>High thinking level.</td>
</tr>
</tbody>
</table>
</section>
<h2 id="ImageConfig" data-text="ImageConfig" tabindex="-1">ImageConfig</h2>
<div class="column-container">
<div class="reference">
<section id="ImageConfig.description">
<p>Config for image generation features.</p>
</section>
<section id="ImageConfig.FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="ImageConfig.FIELDS.aspect_ratio">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">aspectRatio</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. The aspect ratio of the image to generate. Supported aspect ratios: 1:1, 2:3, 3:2, 3:4, 4:3, 9:16, 16:9, 21:9.</p><p>If not specified, the model will choose a default aspect ratio based on any reference images provided.</p>
</div>
</div>
</section>
<section id="ImageConfig.FIELDS.image_size">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">imageSize</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">string</code>
</span>
</div>
<div class="field-description">
<p>Optional. Specifies the size of generated images. Supported values are <code translate="no" dir="ltr">1K</code>, <code translate="no" dir="ltr">2K</code>, <code translate="no" dir="ltr">4K</code>. If not specified, the model will use default value <code translate="no" dir="ltr">1K</code>.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="ImageConfig.SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"aspectRatio"</span><span class="pun">: </span><span class="kwd">string</span><span class="pun">,</span>
  <span class="str">"imageSize"</span><span class="pun">: </span><span class="kwd">string</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="MediaResolution" data-text="MediaResolution" tabindex="-1">MediaResolution</h2>
<section id="MediaResolution.description">
<p>Media resolution for the input media.</p>
</section>
<section id="MediaResolution.ENUM_VALUES">
<table class="constants responsive fixed" id="MediaResolution.ENUM_VALUES-table">
<colgroup>
<col width="25%"/>
<col/>
</colgroup>
<thead>
<tr>
<th colspan="2">Enums</th>
</tr>
</thead>
<tbody>
<tr id="MediaResolution.ENUM_VALUES.MEDIA_RESOLUTION_UNSPECIFIED">
<td><code class="apitype" translate="no" dir="ltr">MEDIA_RESOLUTION_UNSPECIFIED</code></td>
<td>Media resolution has not been set.</td>
</tr>
<tr id="MediaResolution.ENUM_VALUES.MEDIA_RESOLUTION_LOW">
<td><code class="apitype" translate="no" dir="ltr">MEDIA_RESOLUTION_LOW</code></td>
<td>Media resolution set to low (64 tokens).</td>
</tr>
<tr id="MediaResolution.ENUM_VALUES.MEDIA_RESOLUTION_MEDIUM">
<td><code class="apitype" translate="no" dir="ltr">MEDIA_RESOLUTION_MEDIUM</code></td>
<td>Media resolution set to medium (256 tokens).</td>
</tr>
<tr id="MediaResolution.ENUM_VALUES.MEDIA_RESOLUTION_HIGH">
<td><code class="apitype" translate="no" dir="ltr">MEDIA_RESOLUTION_HIGH</code></td>
<td>Media resolution set to high (zoomed reframing with 256 tokens).</td>
</tr>
</tbody>
</table>
</section>
</section>
</div><div itemscope="" itemtype="http://developers.google.com/ReferenceObject"><h2 id="harmcategory" data-text="HarmCategory" tabindex="-1">HarmCategory</h2><a name="v1beta.HarmCategory"></a>
<meta content="HarmCategory" itemprop="name"/>
<meta content="/api/rest/v1beta/HarmCategory" itemprop="path"/>
<section id="/api/rest/v1beta/HarmCategory">
<section id="description">
<p>The category of a rating.</p><p>These categories cover various kinds of harms that developers may wish to adjust.</p>
</section>
<section id="ENUM_VALUES">
<table class="constants responsive fixed" id="ENUM_VALUES-table">
<colgroup>
<col width="25%"/>
<col/>
</colgroup>
<thead>
<tr>
<th colspan="2">Enums</th>
</tr>
</thead>
<tbody>
<tr id="ENUM_VALUES.HARM_CATEGORY_UNSPECIFIED">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_UNSPECIFIED</code></td>
<td>Category is unspecified.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_DEROGATORY">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_DEROGATORY</code></td>
<td><strong>PaLM</strong> - Negative or harmful comments targeting identity and/or protected attribute.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_TOXICITY">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_TOXICITY</code></td>
<td><strong>PaLM</strong> - Content that is rude, disrespectful, or profane.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_VIOLENCE">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_VIOLENCE</code></td>
<td><strong>PaLM</strong> - Describes scenarios depicting violence against an individual or group, or general descriptions of gore.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_SEXUAL">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_SEXUAL</code></td>
<td><strong>PaLM</strong> - Contains references to sexual acts or other lewd content.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_MEDICAL">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_MEDICAL</code></td>
<td><strong>PaLM</strong> - Promotes unchecked medical advice.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_DANGEROUS">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_DANGEROUS</code></td>
<td><strong>PaLM</strong> - Dangerous content that promotes, facilitates, or encourages harmful acts.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_HARASSMENT">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_HARASSMENT</code></td>
<td><strong>Gemini</strong> - Harassment content.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_HATE_SPEECH">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_HATE_SPEECH</code></td>
<td><strong>Gemini</strong> - Hate speech and content.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_SEXUALLY_EXPLICIT">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_SEXUALLY_EXPLICIT</code></td>
<td><strong>Gemini</strong> - Sexually explicit content.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_DANGEROUS_CONTENT">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_DANGEROUS_CONTENT</code></td>
<td><strong>Gemini</strong> - Dangerous content.</td>
</tr>
<tr id="ENUM_VALUES.HARM_CATEGORY_CIVIC_INTEGRITY">
<td><code class="apitype" translate="no" dir="ltr">HARM_CATEGORY_CIVIC_INTEGRITY</code></td>
<td><p><strong>Gemini</strong> - Content that may be used to harm civic integrity. DEPRECATED: use enableEnhancedCivicAnswers instead.</p><aside class="warning"><p>This item is deprecated!</p></aside></td>
</tr>
</tbody>
</table>
</section>
</section>
</div><div itemscope="" itemtype="http://developers.google.com/ReferenceObject"><h2 id="modalitytokencount" data-text="ModalityTokenCount" tabindex="-1">ModalityTokenCount</h2><a name="v1beta.ModalityTokenCount"></a>
<meta content="ModalityTokenCount" itemprop="name"/>
<meta content="/api/rest/v1beta/ModalityTokenCount" itemprop="path"/>
<section class="prototype" id="/api/rest/v1beta/ModalityTokenCount">
<ul class="toc">
<li><a href="#SCHEMA_REPRESENTATION">JSON representation</a></li><li><a href="#Modality">Modality</a></li>
</ul>
<div class="column-container">
<div class="reference">
<section id="description">
<p>Represents token counting info for a single modality.</p>
</section>
<section id="FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="FIELDS.modality">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">modality</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#Modality">Modality</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>The modality associated with this token count.</p>
</div>
</div>
</section>
<section id="FIELDS.token_count">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">tokenCount</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">integer</code>
</span>
</div>
<div class="field-description">
<p>Number of tokens.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"modality"</span><span class="pun">: </span><span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#Modality">Modality</a></code>)</span><span class="pun">,</span>
  <span class="str">"tokenCount"</span><span class="pun">: </span><span class="kwd">integer</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="Modality" data-text="Modality" tabindex="-1">Modality</h2>
<section id="Modality.description">
<p>Content Part modality</p>
</section>
<section id="Modality.ENUM_VALUES">
<table class="constants responsive fixed" id="Modality.ENUM_VALUES-table">
<colgroup>
<col width="25%"/>
<col/>
</colgroup>
<thead>
<tr>
<th colspan="2">Enums</th>
</tr>
</thead>
<tbody>
<tr id="Modality.ENUM_VALUES.MODALITY_UNSPECIFIED">
<td><code class="apitype" translate="no" dir="ltr">MODALITY_UNSPECIFIED</code></td>
<td>Unspecified modality.</td>
</tr>
<tr id="Modality.ENUM_VALUES.TEXT">
<td><code class="apitype" translate="no" dir="ltr">TEXT</code></td>
<td>Plain text.</td>
</tr>
<tr id="Modality.ENUM_VALUES.IMAGE">
<td><code class="apitype" translate="no" dir="ltr">IMAGE</code></td>
<td>Image.</td>
</tr>
<tr id="Modality.ENUM_VALUES.VIDEO">
<td><code class="apitype" translate="no" dir="ltr">VIDEO</code></td>
<td>Video.</td>
</tr>
<tr id="Modality.ENUM_VALUES.AUDIO">
<td><code class="apitype" translate="no" dir="ltr">AUDIO</code></td>
<td>Audio.</td>
</tr>
<tr id="Modality.ENUM_VALUES.DOCUMENT">
<td><code class="apitype" translate="no" dir="ltr">DOCUMENT</code></td>
<td>Document, e.g. PDF.</td>
</tr>
</tbody>
</table>
</section>
</section>
</div><div itemscope="" itemtype="http://developers.google.com/ReferenceObject"><h2 id="safetyrating" data-text="SafetyRating" tabindex="-1">SafetyRating</h2><a name="v1beta.SafetyRating"></a>
<meta content="SafetyRating" itemprop="name"/>
<meta content="/api/rest/v1beta/SafetyRating" itemprop="path"/>
<section class="prototype" id="/api/rest/v1beta/SafetyRating">
<ul class="toc">
<li><a href="#SCHEMA_REPRESENTATION">JSON representation</a></li><li><a href="#HarmProbability">HarmProbability</a></li>
</ul>
<div class="column-container">
<div class="reference">
<section id="description">
<p>Safety rating for a piece of content.</p><p>The safety rating contains the category of harm and the harm probability level in that category for a piece of content. Content is classified for safety across a number of harm categories and the probability of the harm classification is included here.</p>
</section>
<section id="FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="FIELDS.category">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">category</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.HarmCategory">HarmCategory</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Required. The category for this rating.</p>
</div>
</div>
</section>
<section id="FIELDS.probability">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">probability</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#HarmProbability">HarmProbability</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Required. The probability of harm for this content.</p>
</div>
</div>
</section>
<section id="FIELDS.blocked">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">blocked</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">boolean</code>
</span>
</div>
<div class="field-description">
<p>Was this content blocked because of this rating?</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"category"</span><span class="pun">: </span><span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.HarmCategory">HarmCategory</a></code>)</span><span class="pun">,</span>
  <span class="str">"probability"</span><span class="pun">: </span><span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#HarmProbability">HarmProbability</a></code>)</span><span class="pun">,</span>
  <span class="str">"blocked"</span><span class="pun">: </span><span class="kwd">boolean</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="HarmProbability" data-text="HarmProbability" tabindex="-1">HarmProbability</h2>
<section id="HarmProbability.description">
<p>The probability that a piece of content is harmful.</p><p>The classification system gives the probability of the content being unsafe. This does not indicate the severity of harm for a piece of content.</p>
</section>
<section id="HarmProbability.ENUM_VALUES">
<table class="constants responsive fixed" id="HarmProbability.ENUM_VALUES-table">
<colgroup>
<col width="25%"/>
<col/>
</colgroup>
<thead>
<tr>
<th colspan="2">Enums</th>
</tr>
</thead>
<tbody>
<tr id="HarmProbability.ENUM_VALUES.HARM_PROBABILITY_UNSPECIFIED">
<td><code class="apitype" translate="no" dir="ltr">HARM_PROBABILITY_UNSPECIFIED</code></td>
<td>Probability is unspecified.</td>
</tr>
<tr id="HarmProbability.ENUM_VALUES.NEGLIGIBLE">
<td><code class="apitype" translate="no" dir="ltr">NEGLIGIBLE</code></td>
<td>Content has a negligible chance of being unsafe.</td>
</tr>
<tr id="HarmProbability.ENUM_VALUES.LOW">
<td><code class="apitype" translate="no" dir="ltr">LOW</code></td>
<td>Content has a low chance of being unsafe.</td>
</tr>
<tr id="HarmProbability.ENUM_VALUES.MEDIUM">
<td><code class="apitype" translate="no" dir="ltr">MEDIUM</code></td>
<td>Content has a medium chance of being unsafe.</td>
</tr>
<tr id="HarmProbability.ENUM_VALUES.HIGH">
<td><code class="apitype" translate="no" dir="ltr">HIGH</code></td>
<td>Content has a high chance of being unsafe.</td>
</tr>
</tbody>
</table>
</section>
</section>
</div><div itemscope="" itemtype="http://developers.google.com/ReferenceObject"><h2 id="safetysetting" data-text="SafetySetting" tabindex="-1">SafetySetting</h2><a name="v1beta.SafetySetting"></a>
<meta content="SafetySetting" itemprop="name"/>
<meta content="/api/rest/v1beta/SafetySetting" itemprop="path"/>
<section class="prototype" id="/api/rest/v1beta/SafetySetting">
<ul class="toc">
<li><a href="#SCHEMA_REPRESENTATION">JSON representation</a></li><li><a href="#HarmBlockThreshold">HarmBlockThreshold</a></li>
</ul>
<div class="column-container">
<div class="reference">
<section id="description">
<p>Safety setting, affecting the safety-blocking behavior.</p><p>Passing a safety setting for a category changes the allowed probability that content is blocked.</p>
</section>
<section id="FIELDS">
<thead>
<tr>
<th colspan="2">Fields</th>
</tr>
</thead>
<section id="FIELDS.category">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">category</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.HarmCategory">HarmCategory</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Required. The category for this setting.</p>
</div>
</div>
</section>
<section id="FIELDS.threshold">
<div class="field-entry">
<div class="signature">
<span class="field-name">
<td><code translate="no" dir="ltr">threshold</code></td>
</span>
<span class="field-type">
<code translate="no" dir="ltr">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#HarmBlockThreshold">HarmBlockThreshold</a></code>)</code>
</span>
</div>
<div class="field-description">
<p>Required. Controls the probability threshold at which harm is blocked.</p>
</div>
</div>
</section>
</section>
</div>
<div class="second-column">
<section id="SCHEMA_REPRESENTATION">
<table class="properties responsive fixed">
<thead>
<tr>
<th>JSON representation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="margin:0;padding:0;"><div></div><devsite-code><pre style="border: 0;margin: 0;" translate="no" dir="ltr" is-upgraded><span class="pun">{</span>
  <span class="str">"category"</span><span class="pun">: </span><span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#v1beta.HarmCategory">HarmCategory</a></code>)</span><span class="pun">,</span>
  <span class="str">"threshold"</span><span class="pun">: </span><span class="kwd">enum (<code translate="no" dir="ltr"><a href="/api/generate-content#HarmBlockThreshold">HarmBlockThreshold</a></code>)</span>
<span class="pun">}</span></pre></devsite-code></td>
</tr>
</tbody>
</table>
</section>
</div>
</div>
<h2 id="HarmBlockThreshold" data-text="HarmBlockThreshold" tabindex="-1">HarmBlockThreshold</h2>
<section id="HarmBlockThreshold.description">
<p>Block at and beyond a specified harm probability.</p>
</section>
<section id="HarmBlockThreshold.ENUM_VALUES">
<table class="constants responsive fixed" id="HarmBlockThreshold.ENUM_VALUES-table">
<colgroup>
<col width="25%"/>
<col/>
</colgroup>
<thead>
<tr>
<th colspan="2">Enums</th>
</tr>
</thead>
<tbody>
<tr id="HarmBlockThreshold.ENUM_VALUES.HARM_BLOCK_THRESHOLD_UNSPECIFIED">
<td><code class="apitype" translate="no" dir="ltr">HARM_BLOCK_THRESHOLD_UNSPECIFIED</code></td>
<td>Threshold is unspecified.</td>
</tr>
<tr id="HarmBlockThreshold.ENUM_VALUES.BLOCK_LOW_AND_ABOVE">
<td><code class="apitype" translate="no" dir="ltr">BLOCK_LOW_AND_ABOVE</code></td>
<td>Content with NEGLIGIBLE will be allowed.</td>
</tr>
<tr id="HarmBlockThreshold.ENUM_VALUES.BLOCK_MEDIUM_AND_ABOVE">
<td><code class="apitype" translate="no" dir="ltr">BLOCK_MEDIUM_AND_ABOVE</code></td>
<td>Content with NEGLIGIBLE and LOW will be allowed.</td>
</tr>
<tr id="HarmBlockThreshold.ENUM_VALUES.BLOCK_ONLY_HIGH">
<td><code class="apitype" translate="no" dir="ltr">BLOCK_ONLY_HIGH</code></td>
<td>Content with NEGLIGIBLE, LOW, and MEDIUM will be allowed.</td>
</tr>
<tr id="HarmBlockThreshold.ENUM_VALUES.BLOCK_NONE">
<td><code class="apitype" translate="no" dir="ltr">BLOCK_NONE</code></td>
<td>All content will be allowed.</td>
</tr>
<tr id="HarmBlockThreshold.ENUM_VALUES.OFF">
<td><code class="apitype" translate="no" dir="ltr">OFF</code></td>
<td>Turn off the safety filter.</td>
</tr>
</tbody>
</table>
</section>
</section>
</div>
  

  
</div>

  
    
    
      
    <devsite-thumb-rating position="footer">
    </devsite-thumb-rating>
  
       
         <devsite-feedback
  position="footer"
  project-name="Gemini API"
  product-id="5292923"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20251113-r00-rc00.473353542654510286"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="footer"
  class="nocontent"
  
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/googledevai/images/touchicon-180-new.png"
  
  
  
  >

  <button>
  
    
    Send feedback
  
  </button>
</devsite-feedback>
       
    
    
  

  <div class="devsite-floating-action-buttons"></div></article>


<devsite-content-footer class="nocontent">
  <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see the <a href="https://developers.google.com/site-policies">Google Developers Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  <p>Last updated 2025-11-21 UTC.</p>
</devsite-content-footer>


<devsite-notification
>
</devsite-notification>


  
<div class="devsite-content-data">
  
    
    
    <template class="devsite-thumb-rating-feedback">
      <devsite-feedback
  position="thumb-rating"
  project-name="Gemini API"
  product-id="5292923"
  bucket="documentation"
  context=""
  version="t-devsite-webserver-20251113-r00-rc00.473353542654510286"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="thumb-rating"
  class="nocontent"
  
  
  
    project-icon="https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/googledevai/images/touchicon-180-new.png"
  
  
  
  >

  <button>
  
    Need to tell us more?
  
  </button>
</devsite-feedback>
    </template>
  
  
    <template class="devsite-content-data-template">
      [[["Easy to understand","easyToUnderstand","thumb-up"],["Solved my problem","solvedMyProblem","thumb-up"],["Other","otherUp","thumb-up"]],[["Missing the information I need","missingTheInformationINeed","thumb-down"],["Too complicated / too many steps","tooComplicatedTooManySteps","thumb-down"],["Out of date","outOfDate","thumb-down"],["Samples / code issue","samplesCodeIssue","thumb-down"],["Other","otherDown","thumb-down"]],["Last updated 2025-11-21 UTC."],[],[]]
    </template>
  
</div>
            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            
          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Footer links">
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  

  
  <nav class="devsite-footer-utility-links" aria-label="Utility links">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/terms"
           data-category="Site-Wide Custom Events"
           data-label="Footer Terms link"
         >
          Terms
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          Privacy
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 glue-cookie-notification-bar-control">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="#"
           data-category="Site-Wide Custom Events"
           data-label="Footer Manage cookies link"
         
           aria-hidden="true"
         >
          Manage cookies
        </a>
        
      </li>
      
    </ul>
    
    
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="it"
        >Italiano</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="sq"
        >Shqip</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="tr"
        >Türkçe</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ru"
        >Русский</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="he"
        >עברית</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ar"
        >العربيّة</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fa"
        >فارسی</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="hi"
        >हिंदी</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="bn"
        >বাংলা</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="th"
        >ภาษาไทย</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel>
          
        </devsite-panel>
        
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar></devsite-snackbar>
    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics>
      
        <script type="application/json" analytics>[]</script>
<script type="application/json" tag-management>{&#34;at&#34;: &#34;True&#34;, &#34;ga4&#34;: [], &#34;ga4p&#34;: [], &#34;gtm&#34;: [{&#34;id&#34;: &#34;GTM-TC2MQKS8&#34;, &#34;purpose&#34;: 0}], &#34;parameters&#34;: {&#34;internalUser&#34;: &#34;False&#34;, &#34;language&#34;: {&#34;machineTranslated&#34;: &#34;False&#34;, &#34;requested&#34;: &#34;en&#34;, &#34;served&#34;: &#34;en&#34;}, &#34;pageType&#34;: &#34;reference&#34;, &#34;projectName&#34;: &#34;Gemini API&#34;, &#34;signedIn&#34;: &#34;False&#34;, &#34;tenant&#34;: &#34;googledevai&#34;, &#34;recommendations&#34;: {&#34;sourcePage&#34;: &#34;&#34;, &#34;sourceType&#34;: 0, &#34;sourceRank&#34;: 0, &#34;sourceIdenticalDescriptions&#34;: 0, &#34;sourceTitleWords&#34;: 0, &#34;sourceDescriptionWords&#34;: 0, &#34;experiment&#34;: &#34;&#34;}, &#34;experiment&#34;: {&#34;ids&#34;: &#34;&#34;}}}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
    
    
<script nonce="hysiRWYyLUAEO9TeyvB3zjR9PqFGFA">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/googledevai/js/app_loader.js', '[59,"en",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d","https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/googledevai","https://googledevai-dot-devsite-v2-prod-3p.appspot.com",null,null,["/_pwa/googledevai/manifest.json","https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/v210625d4186b230b6e4f2892d2ebde056c890c9488f9b443a741ca79ae70171d/googledevai/images/favicon-new.png","/_static/googledevai/images/gemini-api-logo.svg","https://fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Inter:400,500|Inter+Tight:300,500,600&display=swap"],1,null,[1,6,8,12,14,17,21,25,50,52,63,70,75,76,80,87,91,92,93,97,98,100,101,102,103,104,105,107,108,109,110,112,113,116,117,118,120,122,124,125,126,127,129,130,131,132,133,134,135,136,138,140,141,147,148,149,151,152,156,157,158,159,161,163,164,168,169,170,179,180,182,183,186,191,193,196],"AIzaSy_REDACTED_BY_THEESEEKS","AIzaSy_REDACTED_BY_THEESEEKS","ai.google.dev","AIzaSy_REDACTED_BY_THEESEEKS","AIzaSy_REDACTED_BY_THEESEEKS",null,null,null,["DevPro__enable_nvidia_credits_card","Cloud__enable_free_trial_server_call","Concierge__enable_devsite_llm_tools","Cloud__enable_cloudx_experiment_ids","MiscFeatureFlags__enable_llms_txt","Profiles__enable_completequiz_endpoint","DevPro__enable_code_assist","Profiles__enable_complete_playlist_endpoint","Profiles__enable_profile_collections","MiscFeatureFlags__developers_footer_dark_image","Profiles__require_profile_eligibility_for_signin","DevPro__enable_devpro_offers","MiscFeatureFlags__emergency_css","Profiles__enable_purchase_prompts","Profiles__enable_page_saving","Experiments__reqs_query_experiments","MiscFeatureFlags__gdp_dashboard_reskin_enabled","Profiles__enable_playlist_community_acl","Profiles__enable_developer_profiles_callout","MiscFeatureFlags__enable_project_variables","CloudShell__cloud_code_overflow_menu","MiscFeatureFlags__enable_firebase_utm","MiscFeatureFlags__enable_view_transitions","Profiles__enable_public_developer_profiles","CloudShell__cloud_shell_button","MiscFeatureFlags__enable_explain_this_code","Profiles__enable_awarding_url","TpcFeatures__enable_unmirrored_page_left_nav","Profiles__enable_release_notes_notifications","MiscFeatureFlags__enable_framebox_badge_methods","DevPro__enable_cloud_innovators_plus","Profiles__enable_developer_profile_pages_as_content","MiscFeatureFlags__enable_appearance_cookies","Cloud__fast_free_trial","Concierge__enable_actions_menu","OnSwitch__enable","Profiles__enable_join_program_group_endpoint","DevPro__enable_vertex_credit_card","EngEduTelemetry__enable_engedu_telemetry","MiscFeatureFlags__enable_variable_operator","Search__enable_ai_eligibility_checks","MiscFeatureFlags__enable_variable_operator_index_yaml","Profiles__enable_stripe_subscription_management","Cloud__enable_cloud_shell","Cloud__cache_serialized_dynamic_content","Cloud__enable_legacy_calculator_redirect","Profiles__enable_completecodelab_endpoint","DevPro__enable_embed_profile_creation","Analytics__enable_clearcut_logging","Search__enable_page_map","MiscFeatureFlags__enable_project_body_class","Cloud__enable_cloud_shell_fte_user_flow","DevPro__enable_enterprise","DevPro__enable_google_payments","Cloud__enable_cloud_dlp_service","DevPro__enable_firebase_workspaces_card","DevPro__enable_developer_subscriptions","Profiles__enable_recognition_badges","MiscFeatureFlags__enable_explicit_template_dependencies","Concierge__enable_pushui","MiscFeatureFlags__developers_footer_image","Profiles__enable_developer_profile_benefits_ui_redesign","DevPro__enable_google_one_card","TpcFeatures__proxy_prod_host","Search__enable_suggestions_from_borg","DevPro__enable_google_payments_buyflow","DevPro__enable_free_benefits","Concierge__enable_remove_info_panel_tags","Profiles__enable_callout_notifications","Search__enable_ai_search_summaries_for_all","Profiles__enable_dashboard_curated_recommendations","Profiles__enable_user_type","Cloud__enable_llm_concierge_chat","DevPro__remove_eu_tax_intake_form","BookNav__enable_tenant_cache_key","Profiles__enable_auto_apply_credits","Search__enable_dynamic_content_confidential_banner"],null,null,"AIzaSy_REDACTED_BY_THEESEEKS","https://developerscontentserving-pa.googleapis.com","AIzaSy_REDACTED_BY_THEESEEKS","https://developerscontentsearch-pa.googleapis.com",2,4,null,"https://developerprofiles-pa.googleapis.com",[59,"googledevai","Google AI for Developers","ai.google.dev",null,"googledevai-dot-devsite-v2-prod-3p.appspot.com",null,null,[null,1,null,null,null,null,null,null,null,null,null,[1],null,null,null,null,null,null,[1],null,null,null,null,[1],[1,1,null,1,1],null,null,null,null,null,[1]],null,[73,null,null,null,null,null,"/images/lockup-new.svg","/images/touchicon-180-new.png",null,null,null,null,1,1,null,null,null,null,null,null,null,2,null,null,null,"/images/lockup-dark-theme-new.svg",[]],[],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[44,2,4,6,7,12,14,15,17,18,20,21,22,23,28,29,32,37,39,40,43],null,[[],[1,1],null,1],[[null,null,null,null,null,["GTM-TC2MQKS8"],null,null,null,null,null,[["GTM-TC2MQKS8",1]],1]],null,4,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[]],null,null,1,1,"https://developerscontentinsights-pa.googleapis.com","AIzaSy_REDACTED_BY_THEESEEKS","AIzaSy_REDACTED_BY_THEESEEKS","https://developers.googleapis.com",["https://aistudio.google.com"],null,"AIzaSy_REDACTED_BY_THEESEEKS",null,"https://developerslogging.googleapis.com"]')
  
</script>

    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>